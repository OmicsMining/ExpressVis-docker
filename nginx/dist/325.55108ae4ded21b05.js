"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[325],{4967:(N,x,s)=>{s.d(x,{Z:()=>c});const c=function(r){let G={};return r.forEach(g=>{G[g.name]=g.samples}),G}},1218:(N,x,s)=>{s.d(x,{HI:()=>r,XU:()=>t,S8:()=>G,FV:()=>c});const t=function(g){let m=[];return g.forEach(d=>{m.push(d.baseGroup),m.push(d.targetGroup)}),new Set(m)},c=function(g,m){const v=t(g);let d=[];for(let o of v)d=d.concat(m[o]);const C=new Set(d);return Array.from(C)},r=function(g,m){const v=g[0],d=m.filter(o=>o.baseGroup===v).map(o=>o.targetGroup);let C=new Set(d);return C.add(v),g.map(o=>C.has(o)?{groupName:o,clickAble:!0}:{groupName:o,clickAble:!1})},G=function(g,m){const v=g[0],d=m.filter(o=>o.baseGroup===v).map(o=>o.targetGroup);let C=new Set(d);return g.slice(1).filter(o=>!C.has(o)).map(o=>({baseGroup:v,targetGroup:o}))}},4234:(N,x,s)=>{s.d(x,{T:()=>C});var t=s(3668),c=s(5043),r=s(6019),G=s(3856),g=s(8638);function m(l,o){1&l&&(t.TgZ(0,"p"),t._uU(1,"Select a gene list first"),t.qZA())}const v=function(l){return[l]};function d(l,o){if(1&l){const n=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"button",4),t.NdJ("click",function(){const u=t.CHM(n),I=u.$implicit,a=u.index;return t.oxw().onClickGeneList(I,a)}),t._uU(2),t.TgZ(3,"div",5),t.TgZ(4,"fa-icon",6),t.NdJ("click",function(){const u=t.CHM(n),I=u.$implicit,a=u.index;return t.oxw().onClickDeleteElement(I,a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&l){const n=o.$implicit,_=o.index,u=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(4,v,_===u.activeOrder?"groupActive":"groupNormal")),t.xp6(1),t.hij(" ",n," "),t.xp6(2),t.Q6J("icon",u.faMinus)("size","1x")}}let C=(()=>{class l{constructor(n){this.cdr=n,this.selectedGeneListIDforHighlight$=new t.vpe,this.selectedGeneListIDforRemove$=new t.vpe,this.activeOrder=-1,this.faMinus=c.Kl4}ngOnInit(){}ngOnChanges(n){n.disActiveAll&&!n.disActiveAll.isFirstChange()&&this.disActiveAll&&(this.activeOrder=-1,this.cdr.detectChanges())}onClickGeneList(n,_){this.activeOrder===_?(this.selectedGeneListIDforHighlight$.next("noList"),this.activeOrder=-1):(this.selectedGeneListIDforHighlight$.next(n),this.activeOrder=_)}onClickDeleteElement(n,_){this.selectedGeneListIDforRemove$.next(n),this.activeOrder=-1}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(t.sBO))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-click-gene-list-for-highlighting"]],inputs:{availableGenelistIDs:"availableGenelistIDs",disActiveAll:"disActiveAll"},outputs:{selectedGeneListIDforHighlight$:"selectedGeneListIDforHighlight$",selectedGeneListIDforRemove$:"selectedGeneListIDforRemove$"},features:[t.TTD],decls:3,vars:2,consts:[[3,"ngIf"],[1,"d-flex","flex-row"],["style","display: block",4,"ngFor","ngForOf"],[2,"display","block"],["type","button",1,"btn","btn-sm","ml-1",3,"ngClass","click"],[2,"display","inline"],["ngbTooltip","remove this list",1,"hoverBigger",3,"icon","size","click"]],template:function(n,_){1&n&&(t.YNc(0,m,2,0,"ng-template",0),t.TgZ(1,"div",1),t.YNc(2,d,5,6,"div",2),t.qZA()),2&n&&(t.Q6J("ngIf",!_.availableGenelistIDs||0===_.availableGenelistIDs.length),t.xp6(2),t.Q6J("ngForOf",_.availableGenelistIDs))},directives:[r.O5,r.sg,r.mk,G.BN,g._L],styles:[".groupNormal[_ngcontent-%COMP%]{background-color:#7952b3;opacity:.5;color:#fff}.groupActive[_ngcontent-%COMP%]{background-color:#7952b3;opacity:1;color:#fff}"],changeDetection:0}),l})()},1545:(N,x,s)=>{s.d(x,{d:()=>E});var t=s(3668),c=s(5043),r=s(6019),G=s(3405),g=s(6112),m=s(8805),v=s(8638),d=s(3856);const C=function(i,D){return{groupActive:i,groupNormal:D}};function l(i,D){if(1&i){const e=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"button",4),t.NdJ("click",function(){const h=t.CHM(e),T=h.$implicit,F=h.index;return t.oxw().onClickGroupButton(T.groupName,F)}),t._uU(2),t.qZA(),t.qZA()}if(2&i){const e=D.$implicit,p=D.index,h=t.oxw();t.Q6J("openDelay",300)("disableTooltip",e.clickAble),t.xp6(1),t.Q6J("ngClass",t.WLB(5,C,p===h.activeOrder,p!==h.activeOrder))("disabled",!e.clickAble),t.xp6(1),t.hij(" ",e.groupName," ")}}function o(i,D){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",6),t.NdJ("click",function(h){return t.CHM(e),t.oxw(2).animate(h)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("icon",e.faPlayCircle)("size","1x")}}function n(i,D){if(1&i){const e=t.EpF();t.TgZ(0,"fa-icon",6),t.NdJ("click",function(h){return t.CHM(e),t.oxw(2).stopAnimate(h)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("icon",e.faPauseCircle)("size","1x")}}function _(i,D){if(1&i){const e=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"fa-icon",6),t.NdJ("click",function(h){return t.CHM(e),t.oxw().previousGroup(h)}),t.qZA(),t.YNc(2,o,1,2,"fa-icon",7),t.YNc(3,n,1,2,"fa-icon",7),t.TgZ(4,"fa-icon",6),t.NdJ("click",function(h){return t.CHM(e),t.oxw().nextGroup(h)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("icon",e.faStepBackward)("size","1x"),t.xp6(1),t.Q6J("ngIf",!e.ifAnimation),t.xp6(1),t.Q6J("ngIf",e.ifAnimation),t.xp6(1),t.Q6J("icon",e.faStepForward)("size","1x")}}let u=(()=>{class i{constructor(e){this.cdr=e,this.disActiveAll=!1,this.diffGroupPair$=new t.vpe,this.faLongArrowAltRight=c.AGO,this.faLongArrowAltLeft=c.wzR,this.faPlayCircle=c.aQp,this.faPauseCircle=c.ul5,this.faStepForward=c.Ybx,this.faStepBackward=c.uYr,this.activeOrder=-1,this.ifAnimation=!1,this.stopAnimation$=new G.xQ}ngOnInit(){this.groupsNum=this.datasetGroupsWithStatus?this.datasetGroupsWithStatus.length:0}ngOnChanges(e){e.datasetGroupsWithStatus&&!e.datasetGroupsWithStatus.isFirstChange()&&(this.groupsNum=this.datasetGroupsWithStatus.length,this.stopAnimation$.next(!0)),e.disActiveAll&&!e.disActiveAll.isFirstChange()&&this.disActiveAll&&(this.activeOrder=-1,this.cdr.detectChanges())}ngOnDestroy(){this.stopAnimation$.complete()}onClickGroupButton(e,p){this.activeOrder===p?(this.diffGroupPair$.next({baseGroup:this.datasetGroupsWithStatus[0].groupName,targetGroup:this.datasetGroupsWithStatus[0].groupName}),this.activeOrder=-1):(this.diffGroupPair$.next({baseGroup:this.datasetGroupsWithStatus[0].groupName,targetGroup:e}),this.activeOrder=p),this.cdr.detectChanges()}animate(e){this.ifAnimation=!0,(0,g.F)(1e3).pipe((0,m.R)(this.stopAnimation$)).subscribe(()=>{this.nextGroup(1),this.cdr.detectChanges()})}stopAnimate(e){this.ifAnimation=!1,this.stopAnimation$.next(!0)}previousGroup(e){0===this.activeOrder?(this.activeOrder=this.groupsNum-1,this.diffGroupPair$.next({baseGroup:this.datasetGroupsWithStatus[0].groupName,targetGroup:this.datasetGroupsWithStatus[this.activeOrder].groupName})):(this.activeOrder=this.activeOrder-1,this.diffGroupPair$.next({baseGroup:this.datasetGroupsWithStatus[0].groupName,targetGroup:this.datasetGroupsWithStatus[this.activeOrder].groupName}))}nextGroup(e){this.activeOrder===this.groupsNum-1?(this.activeOrder=0,this.diffGroupPair$.next({baseGroup:this.datasetGroupsWithStatus[0].groupName,targetGroup:this.datasetGroupsWithStatus[this.activeOrder].groupName})):(this.activeOrder=this.activeOrder+1,this.diffGroupPair$.next({baseGroup:this.datasetGroupsWithStatus[0].groupName,targetGroup:this.datasetGroupsWithStatus[this.activeOrder].groupName}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-select-grouppair-for-highlighting-diff-genes"]],inputs:{datasetGroupsWithStatus:"datasetGroupsWithStatus",disActiveAll:"disActiveAll"},outputs:{diffGroupPair$:"diffGroupPair$"},features:[t.TTD],decls:3,vars:2,consts:[[1,"d-flex","flex-row"],["style","display: inline-block","ngbTooltip","The differential genes are not available",3,"openDelay","disableTooltip",4,"ngFor","ngForOf"],["class","form-inline",4,"ngIf"],["ngbTooltip","The differential genes are not available",2,"display","inline-block",3,"openDelay","disableTooltip"],["type","button",1,"btn","btn-sm","ml-1",3,"ngClass","disabled","click"],[1,"form-inline"],[1,"hoverBigger","ml-2",3,"icon","size","click"],["class","hoverBigger ml-2",3,"icon","size","click",4,"ngIf"]],template:function(e,p){1&e&&(t.TgZ(0,"div",0),t.YNc(1,l,3,8,"div",1),t.YNc(2,_,5,6,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",p.datasetGroupsWithStatus),t.xp6(1),t.Q6J("ngIf",(null==p.datasetGroupsWithStatus?null:p.datasetGroupsWithStatus.length)>0))},directives:[r.sg,r.O5,v._L,r.mk,d.BN],styles:[".groupNormal[_ngcontent-%COMP%]{background-color:#7952b3;opacity:.5;color:#fff}.groupActive[_ngcontent-%COMP%]{background-color:#7952b3;opacity:1;color:#fff}"],changeDetection:0}),i})();var I=s(1026),a=s(1144);function f(i,D){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-select-dataset",6),t.NdJ("selectedDatasetID$",function(h){return t.CHM(e),t.oxw().processSelectedDatasetForDiffGenesHighlight(h)}),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("allDatasetInfoForDisplay",e.allDatasetInfoForDisplay)}}function A(i,D){1&i&&(t.TgZ(0,"p"),t._uU(1,"Please import a Expression Profile data first. "),t.TgZ(2,"a",7),t._uU(3,"Import Data"),t.qZA(),t.qZA())}function S(i,D){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(null==e.datasetGroupsWithStatusNote?null:e.datasetGroupsWithStatusNote.statusValue)}}function O(i,D){if(1&i&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(null==e.datasetGroupsWithStatusNote?null:e.datasetGroupsWithStatusNote.statusValue)}}let E=(()=>{class i{constructor(){this.selectedDatasetID$=new t.vpe,this.diffGroupPair$=new t.vpe,this.faLongArrowAltRight=c.AGO,this.faLongArrowAltLeft=c.wzR,this.faPlayCircle=c.aQp,this.faPauseCircle=c.ul5,this.faStepForward=c.Ybx,this.faStepBackward=c.uYr}ngOnInit(){}ngOnChanges(e){}ngOnDestroy(){}processSelectedDatasetForDiffGenesHighlight(e){this.selectedDatasetID$.next(e)}processDiffGroupPair(e){this.diffGroupPair$.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-manage-diff-genes-for-highlight"]],inputs:{datasetGroupsWithStatusNote:"datasetGroupsWithStatusNote",datasetGroupsWithStatus:"datasetGroupsWithStatus",allDatasetInfoForDisplay:"allDatasetInfoForDisplay",disActiveAllDiffGroupPairs:"disActiveAllDiffGroupPairs"},outputs:{selectedDatasetID$:"selectedDatasetID$",diffGroupPair$:"diffGroupPair$"},features:[t.TTD],decls:9,vars:6,consts:[[1,"text-center","border-bottom"],[1,"col-12","border-right"],[4,"ngIf","ngIfElse"],["importDataNote",""],[3,"ngIf"],[3,"datasetGroupsWithStatus","disActiveAll","diffGroupPair$"],[3,"allDatasetInfoForDisplay","selectedDatasetID$"],["routerLink","/importData"],[2,"color","red"]],template:function(e,p){if(1&e&&(t.TgZ(0,"h5",0),t._uU(1,"Highlight DiffGenes"),t.qZA(),t.TgZ(2,"div",1),t.YNc(3,f,2,1,"div",2),t.YNc(4,A,4,0,"ng-template",null,3,t.W1O),t.qZA(),t.YNc(6,S,2,1,"ng-template",4),t.YNc(7,O,2,1,"ng-template",4),t.TgZ(8,"app-select-grouppair-for-highlighting-diff-genes",5),t.NdJ("diffGroupPair$",function(T){return p.processDiffGroupPair(T)}),t.qZA()),2&e){const h=t.MAs(5);t.xp6(3),t.Q6J("ngIf",(null==p.allDatasetInfoForDisplay?null:p.allDatasetInfoForDisplay.length)>0)("ngIfElse",h),t.xp6(3),t.Q6J("ngIf","loading"===(null==p.datasetGroupsWithStatusNote?null:p.datasetGroupsWithStatusNote.status)),t.xp6(1),t.Q6J("ngIf","error"===(null==p.datasetGroupsWithStatusNote?null:p.datasetGroupsWithStatusNote.status)),t.xp6(1),t.Q6J("datasetGroupsWithStatus",p.datasetGroupsWithStatus)("disActiveAll",p.disActiveAllDiffGroupPairs)}},directives:[r.O5,u,I.z,a.yS],styles:[".groupNormal[_ngcontent-%COMP%]{background-color:#7952b3;opacity:.5;color:#fff}.groupActive[_ngcontent-%COMP%]{background-color:#7952b3;opacity:1;color:#fff}"],changeDetection:0}),i})()},7075:(N,x,s)=>{s.d(x,{h:()=>_});var t=s(3668),c=s(9133),r=s(3405),G=s(8805),g=s(6019),m=s(5150),v=s(1026),d=s(1954),C=s(1144);function l(u,I){if(1&u){const a=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"app-select-dataset",4),t.NdJ("selectedDatasetID$",function(A){return t.CHM(a),t.oxw().processSelectedDatasetForExpressionPattern(A)}),t.qZA(),t.TgZ(2,"app-select-between-two-using-radio",5),t.NdJ("selectedItem$",function(A){return t.CHM(a),t.oxw().processAcrossType(A)}),t.qZA(),t.qZA()}if(2&u){const a=t.oxw();t.xp6(1),t.Q6J("allDatasetInfoForDisplay",a.allDatasetInfoForDisplay)("formInlineOrNot",!0),t.xp6(1),t.Q6J("inputItems",a.acrossTypes)("itemLabel","Across samples or groups")}}function o(u,I){1&u&&(t.TgZ(0,"p",6),t._uU(1,"Please import a Expression Profile data first "),t.TgZ(2,"a",7),t._uU(3,"Import Data"),t.qZA(),t.qZA())}function n(u,I){1&u&&(t.TgZ(0,"p",8),t._uU(1," Click one line in the left dendgrogram to select genes. The selected genes will be highlighted in the pathway map.\n"),t.qZA())}let _=(()=>{class u{constructor(a){this.cdr=a,this.selectedDatasetID$=new t.vpe,this.datasetHierarRequest$=new t.vpe,this.selectedNodes$=new t.vpe,this.mapVisSettings$=new t.vpe,this.acrossTypes=["Across Samples","Across Groups"],this.destroyNotifier$=new r.xQ,this.datasetHierarRequestForm=new c.cw({datasetID:new c.NI("",c.kI.required),acrossGroupsOrSamples:new c.NI("",c.kI.required)}),this.datasetHierarRequestForm.valueChanges.pipe((0,G.R)(this.destroyNotifier$)).subscribe(f=>{"VALID"===this.datasetHierarRequestForm.status&&this.datasetHierarRequest$.next(this.datasetHierarRequestForm.value)})}ngOnInit(){this.hierarClusteringResult&&(this.ifShowClickDendgrogramNote=!0)}ngOnChanges(a){a.hierarClusteringResult&&!a.hierarClusteringResult.isFirstChange()&&(this.ifShowClickDendgrogramNote=!0)}ngOnDestroy(){this.destroyNotifier$.next(),this.destroyNotifier$.complete()}processSelectedNodes(a){var f;this.selectedNodes$.next(a),this.ifShowClickDendgrogramNote=!((null===(f=a.selectedNodes)||void 0===f?void 0:f.length)>0)}processSelectedNode(a){console.log(a)}processSelectedDatasetForExpressionPattern(a){this.datasetHierarRequestForm.patchValue({datasetID:a})}processAcrossType(a){this.datasetHierarRequestForm.patchValue({acrossGroupsOrSamples:a})}processMapVisSettings(a){this.mapVisSettings$.next(a)}}return u.\u0275fac=function(a){return new(a||u)(t.Y36(t.sBO))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-manage-genes-expression-in-dataset"]],inputs:{allDatasetInfoForDisplay:"allDatasetInfoForDisplay",hierarClusteringResult:"hierarClusteringResult",disSelectedGenes:"disSelectedGenes"},outputs:{selectedDatasetID$:"selectedDatasetID$",datasetHierarRequest$:"datasetHierarRequest$",selectedNodes$:"selectedNodes$",mapVisSettings$:"mapVisSettings$"},features:[t.TTD],decls:5,vars:7,consts:[[4,"ngIf","ngIfElse"],["importDataNote",""],[3,"hierarchicalResultForDisplay","auditTime","highlightUseCoverOrClass","disSelectedNodes","nodesSelected$","nodeSelected$","mapSettings$"],["class","text-info","data-testid","clickDendgrogramLineNote",4,"ngIf"],[3,"allDatasetInfoForDisplay","formInlineOrNot","selectedDatasetID$"],[1,"mt-2",3,"inputItems","itemLabel","selectedItem$"],["data-testid","importDataNote",1,"text-danger"],["routerLink","/importData",1,"btn"],["data-testid","clickDendgrogramLineNote",1,"text-info"]],template:function(a,f){if(1&a&&(t.YNc(0,l,3,4,"div",0),t.YNc(1,o,4,0,"ng-template",null,1,t.W1O),t.TgZ(3,"app-dendgrogram-vis",2),t.NdJ("nodesSelected$",function(S){return f.processSelectedNodes(S)})("nodeSelected$",function(S){return f.processSelectedNode(S)})("mapSettings$",function(S){return f.processMapVisSettings(S)}),t.qZA(),t.YNc(4,n,2,0,"p",3)),2&a){const A=t.MAs(2);t.Q6J("ngIf",(null==f.allDatasetInfoForDisplay?null:f.allDatasetInfoForDisplay.length)>0)("ngIfElse",A),t.xp6(3),t.Q6J("hierarchicalResultForDisplay",f.hierarClusteringResult)("auditTime",5)("highlightUseCoverOrClass","useClass")("disSelectedNodes",f.disSelectedGenes),t.xp6(1),t.Q6J("ngIf",f.ifShowClickDendgrogramNote)}},directives:[g.O5,m.J,v.z,d.W,C.yS],styles:[""],changeDetection:0}),u})()},7360:(N,x,s)=>{s.d(x,{i:()=>C});var t=s(3668),c=s(3405),r=s(9133),G=s(8735),g=s(8805),m=s(5389),v=s(6019);function d(l,o){if(1&l&&(t.TgZ(0,"option",4),t._uU(1),t.qZA()),2&l){const n=o.$implicit;t.Q6J("ngValue",n),t.xp6(1),t.hij(" ",n," ")}}let C=(()=>{class l{constructor(){this.selectedGeneListName=new t.vpe,this.destroyNotifier$=new c.xQ,this.geneListForm=new r.cw({geneListName:new r.NI("",r.kI.required)})}ngOnInit(){this.geneListForm.get("geneListName").valueChanges.pipe((0,G.h)(n=>n),(0,g.R)(this.destroyNotifier$),(0,m.x)()).subscribe(n=>{"VALID"===this.geneListForm.get("geneListName").status&&this.selectedGeneListName.next(n)})}ngOnDestroy(){this.destroyNotifier$.next(),this.destroyNotifier$.complete()}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-select-gene-list"]],inputs:{availableGeneListNames:"availableGeneListNames"},outputs:{selectedGeneListName:"selectedGeneListName"},decls:5,vars:2,consts:[[1,"form-inline",3,"formGroup"],[1,"align-self-start"],["formControlName","geneListName","placeholder","select a gene list","data-testid","selectGeneList",1,"form-control","form-control-sm"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(n,_){1&n&&(t.TgZ(0,"form",0),t.TgZ(1,"div",1),t._uU(2," Gene List: "),t.TgZ(3,"select",2),t.YNc(4,d,2,2,"option",3),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.Q6J("formGroup",_.geneListForm),t.xp6(4),t.Q6J("ngForOf",_.availableGeneListNames))},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,v.sg,r.YN,r.Kr],styles:[""],changeDetection:0}),l})()}}]);