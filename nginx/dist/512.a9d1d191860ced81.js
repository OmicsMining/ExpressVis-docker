"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[512],{9021:(Xb,Gu,oa)=>{oa.r(Gu),oa.d(Gu,{PRIORITY:()=>In,connect:()=>h1,dataTool:()=>w1,dependencies:()=>Sl,disConnect:()=>Qv,disconnect:()=>f1,dispose:()=>c1,extendChartView:()=>El,extendComponentModel:()=>Yi,extendComponentView:()=>Zr,extendSeriesModel:()=>_1,getCoordinateSystemDimensions:()=>p1,getInstanceByDom:()=>Pl,getInstanceById:()=>v1,getMap:()=>x1,init:()=>u1,registerAction:()=>He,registerCoordinateSystem:()=>g1,registerLayout:()=>Nn,registerLoading:()=>$v,registerMap:()=>y1,registerPostUpdate:()=>d1,registerPreprocessor:()=>Ui,registerProcessor:()=>zn,registerTheme:()=>Rl,registerVisual:()=>Fn,setCanvasCreator:()=>m1,version:()=>Ev});var ii,ri={};oa.r(ri),oa.d(ri,{Arc:()=>Es,BezierCurve:()=>Os,BoundingRect:()=>gt,CACHED_LABEL_STYLE_PROPERTIES:()=>G0,Circle:()=>ja,CompoundPath:()=>V0,Group:()=>Z,Image:()=>Ar,IncrementalDisplayable:()=>ic,Line:()=>pe,LinearGradient:()=>rc,Polygon:()=>tn,Polyline:()=>en,RadialGradient:()=>H0,Rect:()=>it,Ring:()=>Qf,Sector:()=>Si,Text:()=>tr,Z2_EMPHASIS_LIFT:()=>Bs,applyTransform:()=>Li,clipPointsByRect:()=>nm,clipRectByRect:()=>om,createIcon:()=>Ws,extendPath:()=>Z0,extendShape:()=>_e,getFont:()=>bc,getHighlightDigit:()=>yc,getShapeClass:()=>U0,getTransform:()=>Cc,groupTransition:()=>Tc,initProps:()=>Di,isHighDownDispatcher:()=>mc,lineLineIntersect:()=>Ac,linePolygonIntersect:()=>sm,makeImage:()=>lc,makePath:()=>Ns,mergePath:()=>Y0,modifyLabelStyle:()=>rm,registerShape:()=>ue,resizePath:()=>hc,setAsHighDownDispatcher:()=>_c,setElementHoverStyle:()=>gc,setHoverStyle:()=>ln,setLabelStyle:()=>Hs,setText:()=>im,setTextStyle:()=>ir,subPixelOptimize:()=>K0,subPixelOptimizeLine:()=>X0,subPixelOptimizeRect:()=>q0,transformDirection:()=>Mc,updateProps:()=>Kt}),"undefined"!=typeof window?ii=window.__DEV__:"undefined"!=typeof global&&(ii=global.__DEV__),void 0===ii&&(ii=!0);var R=ii,bp=2311;function Zu(){return bp++}var t,r,i,a,n,o,ai={};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?ai={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?ai={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?ai={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(r={},i=(t=navigator.userAgent).match(/Firefox\/([\d.]+)/),a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),n=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t),i&&(r.firefox=!0,r.version=i[1]),a&&(r.ie=!0,r.version=a[1]),n&&(r.edge=!0,r.version=n[1]),o&&(r.weChat=!0),ai={browser:r,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11),domSupported:"undefined"!=typeof document});const k=ai;var Uu={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Yu={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},ni=Object.prototype.toString,oi=Array.prototype,Cp=oi.forEach,Mp=oi.filter,si=oi.slice,Tp=oi.map,Ap=oi.reduce,uo={};function Q(t){if(null==t||"object"!=typeof t)return t;var e=t,r=ni.call(t);if("[object Array]"===r){if(!ui(t)){e=[];for(var i=0,a=t.length;i<a;i++)e[i]=Q(t[i])}}else if(Yu[r]){if(!ui(t)){var n=t.constructor;if(t.constructor.from)e=n.from(t);else for(e=new n(t.length),i=0,a=t.length;i<a;i++)e[i]=Q(t[i])}}else if(!Uu[r]&&!ui(t)&&!la(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=Q(t[o]));return e}function F(t,e,r){if(!z(e)||!z(t))return r?Q(e):t;for(var i in e)if(e.hasOwnProperty(i)){var a=t[i],n=e[i];!z(n)||!z(a)||O(n)||O(a)||la(n)||la(a)||Xu(n)||Xu(a)||ui(n)||ui(a)?(r||!(i in t))&&(t[i]=Q(e[i])):F(a,n,r)}return t}function Lp(t,e){for(var r=t[0],i=1,a=t.length;i<a;i++)r=F(r,t[i],e);return r}function V(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Y(t,e,r){for(var i in e)e.hasOwnProperty(i)&&(r?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}var sa,ho=function(){return uo.createCanvas()};function G(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r}return-1}function xt(t,e){var r=t.prototype;function i(){}for(var a in i.prototype=e.prototype,t.prototype=new i,r)r.hasOwnProperty(a)&&(t.prototype[a]=r[a]);t.prototype.constructor=t,t.superClass=e}function at(t,e,r){Y(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,r)}function we(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function S(t,e,r){if(t&&e)if(t.forEach&&t.forEach===Cp)t.forEach(e,r);else if(t.length===+t.length)for(var i=0,a=t.length;i<a;i++)e.call(r,t[i],i,t);else for(var n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function E(t,e,r){if(t&&e){if(t.map&&t.map===Tp)return t.map(e,r);for(var i=[],a=0,n=t.length;a<n;a++)i.push(e.call(r,t[a],a,t));return i}}function re(t,e,r){if(t&&e){if(t.filter&&t.filter===Mp)return t.filter(e,r);for(var i=[],a=0,n=t.length;a<n;a++)e.call(r,t[a],a,t)&&i.push(t[a]);return i}}function J(t,e){var r=si.call(arguments,2);return function(){return t.apply(e,r.concat(si.call(arguments)))}}function nt(t){var e=si.call(arguments,1);return function(){return t.apply(this,e.concat(si.call(arguments)))}}function O(t){return"[object Array]"===ni.call(t)}function wt(t){return"function"==typeof t}function j(t){return"[object String]"===ni.call(t)}function z(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function Xu(t){return!!Uu[ni.call(t)]}function ie(t){return!!Yu[ni.call(t)]}function la(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function ua(t){return t!=t}function Ft(t){for(var e=0,r=arguments.length;e<r;e++)if(null!=arguments[e])return arguments[e]}function At(t,e){return null!=t?t:e}function li(t,e,r){return null!=t?t:null!=e?e:r}function qu(){return Function.call.apply(si,arguments)}function Ku(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function ot(t,e){if(!t)throw new Error(e)}function Vt(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}uo.createCanvas=function(){return document.createElement("canvas")};var Qu="__ec_primitive__";function $u(t){t[Qu]=!0}function ui(t){return t[Qu]}function ha(t){var e=O(t);this.data={};var r=this;function i(a,n){e?r.set(a,n):r.set(n,a)}t instanceof ha?t.each(i):t&&S(t,i)}function W(t){return new ha(t)}function be(){}ha.prototype={constructor:ha,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var r in void 0!==e&&(t=J(t,e)),this.data)this.data.hasOwnProperty(r)&&t(this.data[r],r)},removeKey:function(t){delete this.data[t]}};var Ju="undefined"==typeof Float32Array?Array:Float32Array;function _r(t,e){var r=new Ju(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r}function ju(t){var e=new Ju(2);return e[0]=t[0],e[1]=t[1],e}function th(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function eh(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function fo(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function co(t,e){var r=function(t){return Math.sqrt(function(t){return t[0]*t[0]+t[1]*t[1]}(t))}(e);return 0===r?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function fa(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Ep=fa,mr=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function Ht(t,e,r){var i=e[0],a=e[1];return t[0]=r[0]*i+r[2]*a+r[4],t[1]=r[1]*i+r[3]*a+r[5],t}function yr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function xr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function vo(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function wr(t,e){return{target:t,topTarget:e&&e.topTarget}}vo.prototype={constructor:vo,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(wr(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,i=t.offsetY,a=r-this._x,n=i-this._y;this._x=r,this._y=i,e.drift(a,n,t),this.dispatchToElement(wr(e,t),"drag",t.event);var o=this.findHover(r,i,e).target,s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this.dispatchToElement(wr(s,t),"dragleave",t.event),o&&o!==s&&this.dispatchToElement(wr(o,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(wr(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(wr(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};const rh=vo;var ih=Array.prototype.slice,go=function(t){this._$handlers={},this._$eventProcessor=t};function ah(t,e,r,i,a,n){var o=t._$handlers;if("function"==typeof r&&(a=i,i=r,r=null),!i||!e)return t;r=function(t,e){var r=t._$eventProcessor;return null!=e&&r&&r.normalizeQuery&&(e=r.normalizeQuery(e)),e}(t,r),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===i)return t;var l={h:i,one:n,query:r,ctx:a||t,callAtLast:i.zrEventfulCallAtLast},u=o[e].length-1,h=o[e][u];return h&&h.callAtLast?o[e].splice(u,0,l):o[e].push(l),t}go.prototype={constructor:go,one:function(t,e,r,i){return ah(this,t,e,r,i,!0)},on:function(t,e,r,i){return ah(this,t,e,r,i,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var r=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var i=[],a=0,n=r[t].length;a<n;a++)r[t][a].h!==e&&i.push(r[t][a]);r[t]=i}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},trigger:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var i=arguments,a=i.length;a>3&&(i=ih.call(i,1));for(var n=e.length,o=0;o<n;){var s=e[o];if(r&&r.filter&&null!=s.query&&!r.filter(t,s.query))o++;else{switch(a){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,i[1]);break;case 3:s.h.call(s.ctx,i[1],i[2]);break;default:s.h.apply(s.ctx,i)}s.one?(e.splice(o,1),n--):o++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var i=arguments,a=i.length;a>4&&(i=ih.call(i,1,i.length-1));for(var n=i[i.length-1],o=e.length,s=0;s<o;){var l=e[s];if(r&&r.filter&&null!=l.query&&!r.filter(t,l.query))s++;else{switch(a){case 1:l.h.call(n);break;case 2:l.h.call(n,i[1]);break;case 3:l.h.call(n,i[1],i[2]);break;default:l.h.apply(n,i)}l.one?(e.splice(s,1),o--):s++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this}};const dt=go;var zp=Math.log(2);function po(t,e,r,i,a,n){var o=i+"-"+a,s=t.length;if(n.hasOwnProperty(o))return n[o];if(1===e){var l=Math.round(Math.log((1<<s)-1&~a)/zp);return t[r][l]}for(var u=i|1<<r,h=r+1;i&1<<h;)h++;for(var f=0,c=0,v=0;c<s;c++){var d=1<<c;d&a||(f+=(v%2?-1:1)*t[r][c]*po(t,e-1,h,u,a|d,n),v++)}return n[o]=f,f}function nh(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},a=po(r,8,0,0,0,i);if(0!==a){for(var n=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==n[s]&&(n[s]=0),n[s]+=((o+s)%2?-1:1)*po(r,7,0===o?1:0,1<<o,1<<s,i)/a*e[o];return function(l,u,h){var f=u*n[6]+h*n[7]+1;l[0]=(u*n[0]+h*n[1]+n[2])/f,l[1]=(u*n[3]+h*n[4]+n[5])/f}}}var oh="___zrEVENTSAVED",_o=[];function mo(t,e,r,i,a){if(e.getBoundingClientRect&&k.domSupported&&!sh(e)){var n=e[oh]||(e[oh]={}),o=function(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var i=["left","right"],a=["top","bottom"],n=0;n<4;n++){var o=document.createElement("div"),l=n%2,u=(n>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",a[u]+":0",i[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),t.appendChild(o),r.push(o)}return r}(e,n),s=function(t,e,r){for(var i=r?"invTrans":"trans",a=e[i],n=e.srcCoords,o=!0,s=[],l=[],u=0;u<4;u++){var h=t[u].getBoundingClientRect(),f=2*u,c=h.left,v=h.top;s.push(c,v),o=o&&n&&c===n[f]&&v===n[f+1],l.push(t[u].offsetLeft,t[u].offsetTop)}return o&&a?a:(e.srcCoords=s,e[i]=r?nh(l,s):nh(s,l))}(o,n,a);if(s)return s(t,r,i),!0}return!1}function sh(t){return"CANVAS"===t.nodeName.toUpperCase()}var yo="undefined"!=typeof window&&!!window.addEventListener,Hp=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xo=[];function wo(t,e,r,i){return r=r||{},i||!k.canvasSupported?lh(t,e,r):k.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):null!=e.offsetX?(r.zrX=e.offsetX,r.zrY=e.offsetY):lh(t,e,r),r}function lh(t,e,r){if(k.domSupported&&t.getBoundingClientRect){var i=e.clientX,a=e.clientY;if(sh(t)){var n=t.getBoundingClientRect();return r.zrX=i-n.left,void(r.zrY=a-n.top)}if(mo(xo,t,i,a))return r.zrX=xo[0],void(r.zrY=xo[1])}r.zrX=r.zrY=0}function bo(t){return t||window.event}function ae(t,e,r){if(null!=(e=bo(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var n="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];n&&wo(t,n,e,r)}else wo(t,e,e,r),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&Hp.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function Gp(t,e,r,i){yo?t.removeEventListener(e,r,i):t.detachEvent("on"+e,r)}var hi=yo?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function uh(t){return 2===t.which||3===t.which}var So=function(){this._track=[]};function hh(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}So.prototype={constructor:So,recognize:function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,r){var i=t.touches;if(i){for(var a={points:[],touches:[],target:e,event:t},n=0,o=i.length;n<o;n++){var s=i[n],l=wo(r,s,{});a.points.push([l.zrX,l.zrY]),a.touches.push(s)}this._track.push(a)}},_recognize:function(t){for(var e in Co)if(Co.hasOwnProperty(e)){var r=Co[e](this._track,t);if(r)return r}}};var Co={pinch:function(t,e){var r=t.length;if(r){var i=(t[r-1]||{}).points,a=(t[r-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var n=hh(i)/hh(a);!isFinite(n)&&(n=1),e.pinchScale=n;var o=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(i);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}};const Up=So;function Xp(){hi(this.event)}function ch(){}ch.prototype.dispose=function(){};var qp=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],br=function(t,e,r,i){dt.call(this),this.storage=t,this.painter=e,this.painterRoot=i,r=r||new ch,this.proxy=null,this._hovered={},rh.call(this),this.setHandlerProxy(r)};function Kp(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var a,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,r))return!1;i.silent&&(a=!0),i=i.parent}return!a||"silent"}return!1}function vh(t,e,r){var i=t.painter;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}br.prototype={constructor:br,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(S(qp,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,r=t.zrY,i=vh(this,e,r),a=this._hovered,n=a.target;n&&!n.__zr&&(n=(a=this.findHover(a.x,a.y)).target);var o=this._hovered=i?{x:e,y:r}:this.findHover(e,r),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),n&&s!==n&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(o,"mousemove",t),s&&s!==n&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,r=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!r&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var r=this[t];r&&r.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,r){var i=(t=t||{}).target;if(!i||!i.silent){for(var a="on"+e,n=function(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:Xp}}(e,t,r);i&&(i[a]&&(n.cancelBubble=i[a].call(i,n)),i.trigger(e,n),i=i.parent,!n.cancelBubble););n.cancelBubble||(this.trigger(e,n),this.painter&&this.painter.eachOtherLayer(function(o){"function"==typeof o[a]&&o[a].call(o,n),o.trigger&&o.trigger(e,n)}))}},findHover:function(t,e,r){for(var i=this.storage.getDisplayList(),a={x:t,y:e},n=i.length-1;n>=0;n--){var o;if(i[n]!==r&&!i[n].ignore&&(o=Kp(i[n],t,e))&&(!a.topTarget&&(a.topTarget=i[n]),"silent"!==o)){a.target=i[n];break}}return a},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new Up);var r=this._gestureMgr;"start"===e&&r.clear();var i=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&r.clear(),i){var a=i.type;t.gestureEvent=a,this.dispatchToElement({target:i.target},a,i.event)}}},S(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){br.prototype[t]=function(e){var n,o,r=e.zrX,i=e.zrY,a=vh(this,r,i);if(("mouseup"!==t||!a)&&(o=(n=this.findHover(r,i)).target),"mousedown"===t)this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if("mouseup"===t)this._upEl=o;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Ep(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),at(br,dt),at(br,rh);const Qp=br;var $p="undefined"==typeof Float32Array?Array:Float32Array;function Ue(){var t=new $p(6);return ca(t),t}function ca(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Sr(t,e,r){var a=e[1]*r[0]+e[3]*r[1],n=e[0]*r[2]+e[2]*r[3],o=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],l=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=e[0]*r[0]+e[2]*r[1],t[1]=a,t[2]=n,t[3]=o,t[4]=s,t[5]=l,t}function va(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function da(t,e,r){var i=e[0],a=e[2],n=e[4],o=e[1],s=e[3],l=e[5],u=Math.sin(r),h=Math.cos(r);return t[0]=i*h+o*u,t[1]=-i*u+o*h,t[2]=a*h+s*u,t[3]=-a*u+h*s,t[4]=h*n+u*l,t[5]=h*l-u*n,t}function Mo(t,e,r){var i=r[0],a=r[1];return t[0]=e[0]*i,t[1]=e[1]*a,t[2]=e[2]*i,t[3]=e[3]*a,t[4]=e[4]*i,t[5]=e[5]*a,t}function gh(t,e){var r=e[0],i=e[2],a=e[4],n=e[1],o=e[3],s=e[5],l=r*o-n*i;return l?(t[0]=o*(l=1/l),t[1]=-n*l,t[2]=-i*l,t[3]=r*l,t[4]=(i*s-o*a)*l,t[5]=(n*a-r*s)*l,t):null}var To=ca;function Ye(t){return t>5e-5||t<-5e-5}var ga=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},Wt=ga.prototype;Wt.transform=null,Wt.needLocalTransform=function(){return Ye(this.rotation)||Ye(this.position[0])||Ye(this.position[1])||Ye(this.scale[0]-1)||Ye(this.scale[1]-1)};var Xe=[];Wt.updateTransform=function(){var t=this.parent,e=t&&t.transform,r=this.needLocalTransform(),i=this.transform;if(r||e){i=i||Ue(),r?this.getLocalTransform(i):To(i),e&&(r?Sr(i,t.transform,i):function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}(i,t.transform)),this.transform=i;var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(Xe);var n=Xe[0]<0?-1:1,o=Xe[1]<0?-1:1,s=((Xe[0]-n)*a+n)/Xe[0]||0,l=((Xe[1]-o)*a+o)/Xe[1]||0;i[0]*=s,i[1]*=s,i[2]*=l,i[3]*=l}this.invTransform=this.invTransform||Ue(),gh(this.invTransform,i)}else i&&To(i)},Wt.getLocalTransform=function(t){return ga.getLocalTransform(this,t)},Wt.setTransform=function(t){var e=this.transform,r=t.dpr||1;e?t.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):t.setTransform(r,0,0,r,0,0)},Wt.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Cr=[],Ao=Ue();Wt.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=this.position,a=this.scale;Ye(e-1)&&(e=Math.sqrt(e)),Ye(r-1)&&(r=Math.sqrt(r)),t[0]<0&&(e=-e),t[3]<0&&(r=-r),i[0]=t[4],i[1]=t[5],a[0]=e,a[1]=r,this.rotation=Math.atan2(-t[1]/r,t[0]/e)}},Wt.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Sr(Cr,t.invTransform,e),e=Cr);var r=this.origin;r&&(r[0]||r[1])&&(Ao[4]=r[0],Ao[5]=r[1],Sr(Cr,e,Ao),Cr[4]-=r[0],Cr[5]-=r[1],e=Cr),this.setLocalTransform(e)}},Wt.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},Wt.transformCoordToLocal=function(t,e){var r=[t,e],i=this.invTransform;return i&&Ht(r,r,i),r},Wt.transformCoordToGlobal=function(t,e){var r=[t,e],i=this.transform;return i&&Ht(r,r,i),r},ga.getLocalTransform=function(t,e){To(e=e||[]);var r=t.origin,i=t.scale||[1,1],a=t.rotation||0,n=t.position||[0,0];return r&&(e[4]-=r[0],e[5]-=r[1]),Mo(e,e,i),a&&da(e,e,a),r&&(e[4]+=r[0],e[5]+=r[1]),e[4]+=n[0],e[5]+=n[1],e};const Do=ga;var pa={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-pa.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*pa.bounceIn(2*t):.5*pa.bounceOut(2*t-1)+.5}};const Jp=pa;function Lo(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}Lo.prototype={constructor:Lo,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var r=(t-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var i=this.easing,a="string"==typeof i?Jp[i]:i,n="function"==typeof a?a(r):r;return this.fire("frame",n),1===r?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){this._startTime=t-(t-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};const jp=Lo;var _h=function(){this.head=null,this.tail=null,this._len=0},fi=_h.prototype;fi.insert=function(t){var e=new mh(t);return this.insertEntry(e),e},fi.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},fi.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},fi.len=function(){return this._len},fi.clear=function(){this.head=this.tail=null,this._len=0};var mh=function(t){this.value=t},yh=function(t){this._list=new _h,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Io=yh.prototype;Io.put=function(t,e){var r=this._list,i=this._map,a=null;if(null==i[t]){var n=r.len(),o=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var s=r.head;r.remove(s),delete i[s.key],a=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new mh(e),o.key=t,r.insertEntry(o),i[t]=o}return a},Io.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},Io.clear=function(){this._list.clear(),this._map={}};const xh=yh;var wh={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Gt(t){return(t=Math.round(t))<0?0:t>255?255:t}function ci(t){return t<0?0:t>1?1:t}function Po(t){return t.length&&"%"===t.charAt(t.length-1)?Gt(parseFloat(t)/100*255):Gt(parseInt(t,10))}function Mr(t){return t.length&&"%"===t.charAt(t.length-1)?ci(parseFloat(t)/100):ci(parseFloat(t))}function Ro(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function Zt(t,e,r,i,a){return t[0]=e,t[1]=r,t[2]=i,t[3]=a,t}function Oo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var bh=new xh(20),_a=null;function Tr(t,e){_a&&Oo(_a,e),_a=bh.put(t,_a||e.slice())}function Ce(t,e){if(t){e=e||[];var r=bh.get(t);if(r)return Oo(e,r);var a,i=(t+="").replace(/ /g,"").toLowerCase();if(i in wh)return Oo(e,wh[i]),Tr(t,e),e;if("#"===i.charAt(0))return 4===i.length?(a=parseInt(i.substr(1),16))>=0&&a<=4095?(Zt(e,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1),Tr(t,e),e):void Zt(e,0,0,0,1):7===i.length?(a=parseInt(i.substr(1),16))>=0&&a<=16777215?(Zt(e,(16711680&a)>>16,(65280&a)>>8,255&a,1),Tr(t,e),e):void Zt(e,0,0,0,1):void 0;var n=i.indexOf("("),o=i.indexOf(")");if(-1!==n&&o+1===i.length){var s=i.substr(0,n),l=i.substr(n+1,o-(n+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return void Zt(e,0,0,0,1);u=Mr(l.pop());case"rgb":return 3!==l.length?void Zt(e,0,0,0,1):(Zt(e,Po(l[0]),Po(l[1]),Po(l[2]),u),Tr(t,e),e);case"hsla":return 4!==l.length?void Zt(e,0,0,0,1):(l[3]=Mr(l[3]),Eo(l,e),Tr(t,e),e);case"hsl":return 3!==l.length?void Zt(e,0,0,0,1):(Eo(l,e),Tr(t,e),e);default:return}}Zt(e,0,0,0,1)}}function Eo(t,e){var r=(parseFloat(t[0])%360+360)%360/360,i=Mr(t[1]),a=Mr(t[2]),n=a<=.5?a*(i+1):a+i-a*i,o=2*a-n;return Zt(e=e||[],Gt(255*Ro(o,n,r+1/3)),Gt(255*Ro(o,n,r)),Gt(255*Ro(o,n,r-1/3)),1),4===t.length&&(e[3]=t[3]),e}function vi(t,e){if(t&&t.length){var r=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(r+=","+t[3]),e+"("+r+")"}}var ko=Array.prototype.slice;function a_(t,e){return t[e]}function n_(t,e,r){t[e]=r}function Bo(t,e,r){return(e-t)*r+t}function Sh(t,e,r){return r>.5?e:t}function Ch(t,e,r,i,a){var n=t.length;if(1===a)for(var o=0;o<n;o++)i[o]=Bo(t[o],e[o],r);else{var s=n&&t[0].length;for(o=0;o<n;o++)for(var l=0;l<s;l++)i[o][l]=Bo(t[o][l],e[o][l],r)}}function Mh(t,e,r){var i=t.length,a=e.length;if(i!==a)if(i>a)t.length=a;else for(var o=i;o<a;o++)t.push(1===r?e[o]:ko.call(e[o]));var s=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===r)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;l<s;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function o_(t,e,r){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===r){for(var a=0;a<i;a++)if(t[a]!==e[a])return!1}else{var n=t[0].length;for(a=0;a<i;a++)for(var o=0;o<n;o++)if(t[a][o]!==e[a][o])return!1}return!0}function Th(t,e,r,i,a,n,o,s,l){var u=t.length;if(1===l)for(var h=0;h<u;h++)s[h]=zo(t[h],e[h],r[h],i[h],a,n,o);else{var f=t[0].length;for(h=0;h<u;h++)for(var c=0;c<f;c++)s[h][c]=zo(t[h][c],e[h][c],r[h][c],i[h][c],a,n,o)}}function zo(t,e,r,i,a,n,o){var s=.5*(r-t),l=.5*(i-e);return(2*(e-r)+s+l)*o+(-3*(e-r)-2*s-l)*n+s*a+e}function s_(t){if(we(t)){var e=t.length;if(we(t[0])){for(var r=[],i=0;i<e;i++)r.push(ko.call(t[i]));return r}return ko.call(t)}return t}function Ah(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function u_(t,e,r,i,a,n){var o=t._getter,s=t._setter,l="spline"===e,u=i.length;if(u){var p,f=we(i[0].value),c=!1,v=!1,d=f?function(t){var e=t[t.length-1].value;return we(e&&e[0])?2:1}(i):0;i.sort(function(ee,yt){return ee.time-yt.time}),p=i[u-1].time;for(var g=[],_=[],m=i[0].value,y=!0,x=0;x<u;x++){g.push(i[x].time/p);var w=i[x].value;if(f&&o_(w,m,d)||!f&&w===m||(y=!1),m=w,"string"==typeof w){var C=Ce(w);C?(w=C,c=!0):v=!0}_.push(w)}if(n||!y){var b=_[u-1];for(x=0;x<u-1;x++)f?Mh(_[x],b,d):isNaN(_[x])&&!isNaN(b)&&!v&&!c&&(_[x]=b);f&&Mh(o(t._target,a),b,d);var A,P,L,U,H,M=0,T=0;if(c)var vt=[0,0,0,0];var It=new jp({target:t._target,life:p,loop:t._loop,delay:t._delay,onframe:function(ee,yt){var B;if(yt<0)B=0;else if(yt<T){for(B=Math.min(M+1,u-1);B>=0&&!(g[B]<=yt);B--);B=Math.min(B,u-2)}else{for(B=M;B<u&&!(g[B]>yt);B++);B=Math.min(B-1,u-2)}M=B,T=yt;var ve=g[B+1]-g[B];if(0!==ve)if(A=(yt-g[B])/ve,l)if(L=_[B],P=_[0===B?B:B-1],U=_[B>u-2?u-1:B+1],H=_[B>u-3?u-1:B+2],f)Th(P,L,U,H,A,A*A,A*A*A,o(ee,a),d);else{if(c)Pt=Th(P,L,U,H,A,A*A,A*A*A,vt,1),Pt=Ah(vt);else{if(v)return Sh(L,U,A);Pt=zo(P,L,U,H,A,A*A,A*A*A)}s(ee,a,Pt)}else if(f)Ch(_[B],_[B+1],A,o(ee,a),d);else{var Pt;if(c)Ch(_[B],_[B+1],A,vt,1),Pt=Ah(vt);else{if(v)return Sh(_[B],_[B+1],A);Pt=Bo(_[B],_[B+1],A)}s(ee,a,Pt)}},ondestroy:r});return e&&"spline"!==e&&(It.easing=e),It}}}var Dh=function(t,e,r,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=r||a_,this._setter=i||n_,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Dh.prototype={when:function(t,e){var r=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!r[i]){r[i]=[];var a=this._getter(this._target,i);if(null==a)continue;0!==t&&r[i].push({time:0,value:s_(a)})}r[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,r=0;r<e;r++)t[r].call(this)},start:function(t,e){var n,r=this,i=0,a=function(){--i||r._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=u_(this,t,a,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(u,h){l(u,h);for(var f=0;f<r._onframeList.length;f++)r._onframeList[f](u,h)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,r=this.animation,i=0;i<e.length;i++){var a=e[i];t&&a.onframe(this._target,1),r&&r.removeClip(a)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};const Lh=Dh;var Ih=1;"undefined"!=typeof window&&(Ih=Math.max(window.devicePixelRatio||1,1));var ma=Ih;const ya=function(){};var No=function(){this.animators=[]};function Rh(t,e,r,i,a,n,o,s){j(i)?(n=a,a=i,i=0):wt(a)?(n=a,a="linear",i=0):wt(i)?(n=i,i=0):wt(r)?(n=r,r=500):r||(r=500),t.stopAnimation(),Oh(t,"",t,e,r,i,s);var l=t.animators.slice(),u=l.length;function h(){--u||n&&n()}u||n&&n();for(var f=0;f<l.length;f++)l[f].done(h).start(a,o)}function Oh(t,e,r,i,a,n,o){var s={},l=0;for(var u in i)!i.hasOwnProperty(u)||(null!=r[u]?z(i[u])&&!we(i[u])?Oh(t,e?e+"."+u:u,r[u],i[u],a,n,o):(o?(s[u]=r[u],Eh(t,e,u,i[u])):s[u]=i[u],l++):null!=i[u]&&!o&&Eh(t,e,u,i[u]));l>0&&t.animate(e,!1).when(null==a?500:a,s).delay(n||0)}function Eh(t,e,r,i){if(e){var a={};a[e]={},a[e][r]=i,t.attr(a)}else t.attr(r,i)}No.prototype={constructor:No,animate:function(t,e){var r,i=!1,a=this,n=this.__zr;if(t){var o=t.split("."),s=a;i="shape"===o[0];for(var l=0,u=o.length;l<u;l++)!s||(s=s[o[l]]);s&&(r=s)}else r=a;if(r){var h=a.animators,f=new Lh(r,e);return f.during(function(c){a.dirty(i)}).done(function(){h.splice(G(h,f),1)}),h.push(f),n&&n.animation.addAnimator(f),f}ya('Property "'+t+'" is not existed in element '+a.id)},stopAnimation:function(t){for(var e=this.animators,r=e.length,i=0;i<r;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,r,i,a,n){Rh(this,t,e,r,i,a,n)},animateFrom:function(t,e,r,i,a,n){Rh(this,t,e,r,i,a,n,!0)}};const kh=No;var di=function(t){Do.call(this,t),dt.call(this,t),kh.call(this,t),this.id=t.id||Zu()};di.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var r=this[t];r||(r=this[t]=[]),r[0]=e[0],r[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(z(t))for(var r in t)t.hasOwnProperty(r)&&this.attrKV(r,t[r]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},at(di,kh),at(di,Do),at(di,dt);const gi=di;var xa=Ht,wa=Math.min,ba=Math.max;function Me(t,e,r,i){r<0&&(t+=r,r=-r),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=r,this.height=i}Me.prototype={constructor:Me,union:function(t){var e=wa(t.x,this.x),r=wa(t.y,this.y);this.width=ba(t.x+t.width,this.x+this.width)-e,this.height=ba(t.y+t.height,this.y+this.height)-r,this.x=e,this.y=r},applyTransform:function(){var t=[],e=[],r=[],i=[];return function(a){if(a){t[0]=r[0]=this.x,t[1]=i[1]=this.y,e[0]=i[0]=this.x+this.width,e[1]=r[1]=this.y+this.height,xa(t,t,a),xa(e,e,a),xa(r,r,a),xa(i,i,a),this.x=wa(t[0],e[0],r[0],i[0]),this.y=wa(t[1],e[1],r[1],i[1]);var n=ba(t[0],e[0],r[0],i[0]),o=ba(t[1],e[1],r[1],i[1]);this.width=n-this.x,this.height=o-this.y}}}(),calculateTransform:function(t){var e=this,r=t.width/e.width,i=t.height/e.height,a=Ue();return va(a,a,[-e.x,-e.y]),Mo(a,a,[r,i]),va(a,a,[t.x,t.y]),a},intersect:function(t){if(!t)return!1;t instanceof Me||(t=Me.create(t));var e=this;return!(e.x+e.width<t.x||t.x+t.width<e.x||e.y+e.height<t.y||t.y+t.height<e.y)},contain:function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},clone:function(){return new Me(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Me.create=function(t){return new Me(t.x,t.y,t.width,t.height)};const gt=Me;var de=function(t){for(var e in gi.call(this,t=t||{}),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};de.prototype={constructor:de,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children,i=r.indexOf(e);i>=0&&(r.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,r=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof de&&t.addChildrenToStorage(e)),r&&r.refresh()},remove:function(t){var e=this.__zr,r=this.__storage,i=this._children,a=G(i,t);return a<0||(i.splice(a,1),t.parent=null,r&&(r.delFromStorage(t),t instanceof de&&t.delChildrenFromStorage(r)),e&&e.refresh()),this},removeAll:function(){var r,i,t=this._children,e=this.__storage;for(i=0;i<t.length;i++)r=t[i],e&&(e.delFromStorage(r),r instanceof de&&r.delChildrenFromStorage(e)),r.parent=null;return t.length=0,this},eachChild:function(t,e){for(var r=this._children,i=0;i<r.length;i++)t.call(e,r[i],i);return this},traverse:function(t,e){for(var r=0;r<this._children.length;r++){var i=this._children[r];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.addToStorage(r),r instanceof de&&r.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.delFromStorage(r),r instanceof de&&r.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,r=new gt(0,0,0,0),i=t||this._children,a=[],n=0;n<i.length;n++){var o=i[n];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),l=o.getLocalTransform(a);l?(r.copy(s),r.applyTransform(l),(e=e||r.clone()).union(r)):(e=e||s.clone()).union(s)}}return e||r}},xt(de,gi);const Z=de;function Nh(t,e,r,i){var a=e+1;if(a===r)return 1;if(i(t[a++],t[e])<0){for(;a<r&&i(t[a],t[a-1])<0;)a++;!function(t,e,r){for(r--;e<r;){var i=t[e];t[e++]=t[r],t[r--]=i}}(t,e,a)}else for(;a<r&&i(t[a],t[a-1])>=0;)a++;return a-e}function Fh(t,e,r,i,a){for(i===e&&i++;i<r;i++){for(var l,n=t[i],o=e,s=i;o<s;)a(n,t[l=o+s>>>1])<0?s=l:o=l+1;var u=i-o;switch(u){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;u>0;)t[o+u]=t[o+u-1],u--}t[o]=n}}function Fo(t,e,r,i,a,n){var o=0,s=0,l=1;if(n(t,e[r+a])>0){for(s=i-a;l<s&&n(t,e[r+a+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;l<s&&n(t,e[r+a-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}for(o++;o<l;){var h=o+(l-o>>>1);n(t,e[r+h])>0?o=h+1:l=h}return l}function Vo(t,e,r,i,a,n){var o=0,s=0,l=1;if(n(t,e[r+a])<0){for(s=a+1;l<s&&n(t,e[r+a-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{for(s=i-a;l<s&&n(t,e[r+a+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;o<l;){var h=o+(l-o>>>1);n(t,e[r+h])<0?l=h:o=h+1}return l}function v_(t,e){var o,s,r=7,l=0;var u=[];function v(g){var _=o[g],m=s[g],y=o[g+1],x=s[g+1];s[g]=m+x,g===l-3&&(o[g+1]=o[g+2],s[g+1]=s[g+2]),l--;var w=Vo(t[y],t,_,m,0,e);_+=w,0!=(m-=w)&&0!==(x=Fo(t[_+m-1],t,y,x,x-1,e))&&(m<=x?function(g,_,m,y){var x=0;for(x=0;x<_;x++)u[x]=t[g+x];var w=0,C=m,b=g;if(t[b++]=t[C++],0!=--y)if(1!==_){for(var T,D,A,M=r;;){T=0,D=0,A=!1;do{if(e(t[C],u[w])<0){if(t[b++]=t[C++],D++,T=0,0==--y){A=!0;break}}else if(t[b++]=u[w++],T++,D=0,1==--_){A=!0;break}}while((T|D)<M);if(A)break;do{if(0!==(T=Vo(t[C],u,w,_,0,e))){for(x=0;x<T;x++)t[b+x]=u[w+x];if(b+=T,w+=T,(_-=T)<=1){A=!0;break}}if(t[b++]=t[C++],0==--y){A=!0;break}if(0!==(D=Fo(u[w],t,C,y,0,e))){for(x=0;x<D;x++)t[b+x]=t[C+x];if(b+=D,C+=D,0==(y-=D)){A=!0;break}}if(t[b++]=u[w++],1==--_){A=!0;break}M--}while(T>=7||D>=7);if(A)break;M<0&&(M=0),M+=2}if((r=M)<1&&(r=1),1===_){for(x=0;x<y;x++)t[b+x]=t[C+x];t[b+y]=u[w]}else{if(0===_)throw new Error;for(x=0;x<_;x++)t[b+x]=u[w+x]}}else{for(x=0;x<y;x++)t[b+x]=t[C+x];t[b+y]=u[w]}else for(x=0;x<_;x++)t[b+x]=u[w+x]}(_,m,y,x):function(g,_,m,y){var x=0;for(x=0;x<y;x++)u[x]=t[m+x];var w=g+_-1,C=y-1,b=m+y-1,M=0,T=0;if(t[b--]=t[w--],0!=--_)if(1!==y){for(var D=r;;){var A=0,P=0,L=!1;do{if(e(u[C],t[w])<0){if(t[b--]=t[w--],A++,P=0,0==--_){L=!0;break}}else if(t[b--]=u[C--],P++,A=0,1==--y){L=!0;break}}while((A|P)<D);if(L)break;do{if(0!=(A=_-Vo(u[C],t,g,_,_-1,e))){for(_-=A,T=1+(b-=A),M=1+(w-=A),x=A-1;x>=0;x--)t[T+x]=t[M+x];if(0===_){L=!0;break}}if(t[b--]=u[C--],1==--y){L=!0;break}if(0!=(P=y-Fo(t[w],u,0,y,y-1,e))){for(y-=P,T=1+(b-=P),M=1+(C-=P),x=0;x<P;x++)t[T+x]=u[M+x];if(y<=1){L=!0;break}}if(t[b--]=t[w--],0==--_){L=!0;break}D--}while(A>=7||P>=7);if(L)break;D<0&&(D=0),D+=2}if((r=D)<1&&(r=1),1===y){for(T=1+(b-=_),M=1+(w-=_),x=_-1;x>=0;x--)t[T+x]=t[M+x];t[b]=u[C]}else{if(0===y)throw new Error;for(M=b-(y-1),x=0;x<y;x++)t[M+x]=u[x]}}else{for(T=1+(b-=_),M=1+(w-=_),x=_-1;x>=0;x--)t[T+x]=t[M+x];t[b]=u[C]}else for(M=b-(y-1),x=0;x<y;x++)t[M+x]=u[x]}(_,m,y,x))}o=[],s=[],this.mergeRuns=function(){for(;l>1;){var g=l-2;if(g>=1&&s[g-1]<=s[g]+s[g+1]||g>=2&&s[g-2]<=s[g]+s[g-1])s[g-1]<s[g+1]&&g--;else if(s[g]>s[g+1])break;v(g)}},this.forceMergeRuns=function(){for(;l>1;){var g=l-2;g>0&&s[g-1]<s[g+1]&&g--,v(g)}},this.pushRun=function(g,_){o[l]=g,s[l]=_,l+=1}}function Sa(t,e,r,i){r||(r=0),i||(i=t.length);var a=i-r;if(!(a<2)){var n=0;if(a<32)return void Fh(t,r,i,r+(n=Nh(t,r,i,e)),e);var o=new v_(t,e),s=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(a);do{if((n=Nh(t,r,i,e))<s){var l=a;l>s&&(l=s),Fh(t,r,r+l,r+n,e),n=l}o.pushRun(r,n),o.mergeRuns(),a-=n,r+=n}while(0!==a);o.forceMergeRuns()}}function Vh(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Ho=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Ho.prototype={constructor:Ho,traverse:function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,i=0,a=e.length;i<a;i++)this._updateAndAddDisplayable(e[i],null,t);r.length=this._displayListLen,k.canvasSupported&&Sa(r,Vh)},_updateAndAddDisplayable:function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var a=i,n=t;a;)a.parent=n,a.updateTransform(),e.push(a),n=a,a=a.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,r)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Z&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var r=this._roots[e];r instanceof Z&&r.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var i=t.length;e<i;e++)this.delRoot(t[e])}else{var a=G(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof Z&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Vh};const d_=Ho;var g_={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function Wo(t,e,r){return g_.hasOwnProperty(e)?r*=t.dpr:r}var Ca=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],_i=function(t){this.extendFrom(t,!1)};function p_(t,e,r){var i=null==e.x?0:e.x,a=null==e.x2?1:e.x2,n=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(i=i*r.width+r.x,a=a*r.width+r.x,n=n*r.height+r.y,o=o*r.height+r.y),i=isNaN(i)?0:i,a=isNaN(a)?1:a,n=isNaN(n)?0:n,o=isNaN(o)?0:o,t.createLinearGradient(i,n,a,o)}function __(t,e,r){var i=r.width,a=r.height,n=Math.min(i,a),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(o=o*i+r.x,s=s*a+r.y,l*=n),t.createRadialGradient(o,s,0,o,s,l)}for(var Zo=_i.prototype={constructor:_i,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,r){var i=this,a=r&&r.style,n=!a||1!==t.__attrCachedBy;t.__attrCachedBy=1;for(var o=0;o<Ca.length;o++){var s=Ca[o],l=s[0];(n||i[l]!==a[l])&&(t[l]=Wo(t,l,i[l]||s[1]))}(n||i.fill!==a.fill)&&(t.fillStyle=i.fill),(n||i.stroke!==a.stroke)&&(t.strokeStyle=i.stroke),(n||i.opacity!==a.opacity)&&(t.globalAlpha=null==i.opacity?1:i.opacity),(n||i.blend!==a.blend)&&(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(t.lineWidth=i.lineWidth/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var r in t)t.hasOwnProperty(r)&&(!0===e||(!1===e?!this.hasOwnProperty(r):null!=t[r]))&&(this[r]=t[r])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,r){for(var a=("radial"===e.type?__:p_)(t,e,r),n=e.colorStops,o=0;o<n.length;o++)a.addColorStop(n[o].offset,n[o].color);return a}},Uo=0;Uo<Ca.length;Uo++){var Yo=Ca[Uo];Yo[0]in Zo||(Zo[Yo[0]]=Yo[1])}_i.getGradient=Zo.getGradient;const Ma=_i;var Hh=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};Hh.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};const Wh=Hh;function m_(){return!1}function Gh(t,e,r){var i=ho(),a=e.getWidth(),n=e.getHeight(),o=i.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=a+"px",o.height=n+"px",i.setAttribute("data-zr-dom-id",t)),i.width=a*r,i.height=n*r,i}var Xo=function(t,e,r){var i;r=r||ma,"string"==typeof t?i=Gh(t,e,r):z(t)&&(t=(i=t).id),this.id=t,this.dom=i;var a=i.style;a&&(i.onselectstart=m_,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};Xo.prototype={constructor:Xo,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Gh("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var r=this.dpr,i=this.dom,a=i.style,n=this.domBack;a&&(a.width=t+"px",a.height=e+"px"),i.width=t*r,i.height=e*r,n&&(n.width=t*r,n.height=e*r,1!==r&&this.ctxBack.scale(r,r))},clear:function(t,e){var u,r=this.dom,i=this.ctx,a=r.width,n=r.height,o=(e=e||this.clearColor,this.motionBlur&&!t),s=this.lastFrameAlpha,l=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/l,n/l)),i.clearRect(0,0,a,n),e&&"transparent"!==e&&(e.colorStops?(u=e.__canvasGradient||Ma.getGradient(i,e,{x:0,y:0,width:a,height:n}),e.__canvasGradient=u):e.image&&(u=Wh.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=u||e,i.fillRect(0,0,a,n),i.restore()),o){var h=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(h,0,0,a,n),i.restore()}}};const qo=Xo,Ko="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};var Qo=new xh(50);function y_(t){if("string"==typeof t){var e=Qo.get(t);return e&&e.image}return t}function Zh(t,e,r,i,a){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!r)return e;var n=Qo.get(t),o={hostEl:r,cb:i,cbPayload:a};return n?!Ta(e=n.image)&&n.pending.push(o):((e=new Image).onload=e.onerror=x_,Qo.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return t}return e}function x_(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],i=r.cb;i&&i(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function Ta(t){return t&&t.width&&t.height}var Aa={},$o=0,Jo=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,jo="12px sans-serif",ts={};function Ut(t,e){var r=t+":"+(e=e||jo);if(Aa[r])return Aa[r];for(var i=(t+"").split("\n"),a=0,n=0,o=i.length;n<o;n++)a=Math.max(M_(i[n],e).width,a);return $o>5e3&&($o=0,Aa={}),$o++,Aa[r]=a,a}function Da(t,e,r,i,a,n,o,s){return o?function(t,e,r,i,a,n,o,s){var l=Qh(t,{rich:o,truncate:s,font:e,textAlign:r,textPadding:a,textLineHeight:n}),u=l.outerWidth,h=l.outerHeight,f=La(0,u,r),c=Ia(0,h,i);return new gt(f,c,u,h)}(t,e,r,i,a,n,o,s):function(t,e,r,i,a,n,o){var s=Kh(t,e,a,n,o),l=Ut(t,e);a&&(l+=a[1]+a[3]);var u=s.outerHeight,h=La(0,l,r),f=Ia(0,u,i),c=new gt(h,f,l,u);return c.lineHeight=s.lineHeight,c}(t,e,r,i,a,n,s)}function La(t,e,r){return"right"===r?t-=e:"center"===r&&(t-=e/2),t}function Ia(t,e,r){return"middle"===r?t-=e/2:"bottom"===r&&(t-=e),t}function es(t,e,r){var a=e.textDistance,n=r.x,o=r.y;a=a||0;var s=r.height,l=r.width,u=s/2,h="left",f="top";switch(e.textPosition){case"left":n-=a,o+=u,h="right",f="middle";break;case"right":n+=a+l,o+=u,f="middle";break;case"top":n+=l/2,o-=a,h="center",f="bottom";break;case"bottom":n+=l/2,o+=s+a,h="center";break;case"inside":n+=l/2,o+=u,h="center",f="middle";break;case"insideLeft":n+=a,o+=u,f="middle";break;case"insideRight":n+=l-a,o+=u,h="right",f="middle";break;case"insideTop":n+=l/2,o+=a,h="center";break;case"insideBottom":n+=l/2,o+=s-a,h="center",f="bottom";break;case"insideTopLeft":n+=a,o+=a;break;case"insideTopRight":n+=l-a,o+=a,h="right";break;case"insideBottomLeft":n+=a,o+=s-a,f="bottom";break;case"insideBottomRight":n+=l-a,o+=s-a,h="right",f="bottom"}return(t=t||{}).x=n,t.y=o,t.textAlign=h,t.textVerticalAlign=f,t}function Uh(t,e,r,i,a){if(!e)return"";var n=(t+"").split("\n");a=Yh(e,r,i,a);for(var o=0,s=n.length;o<s;o++)n[o]=Xh(n[o],a);return n.join("\n")}function Yh(t,e,r,i){(i=V({},i)).font=e,r=At(r,"..."),i.maxIterations=At(i.maxIterations,2);var a=i.minChar=At(i.minChar,0);i.cnCharWidth=Ut("\u56fd",e);var n=i.ascCharWidth=Ut("a",e);i.placeholder=At(i.placeholder,"");for(var o=t=Math.max(0,t-1),s=0;s<a&&o>=n;s++)o-=n;var l=Ut(r,e);return l>o&&(r="",l=0),o=t-l,i.ellipsis=r,i.ellipsisWidth=l,i.contentWidth=o,i.containerWidth=t,i}function Xh(t,e){var r=e.containerWidth,i=e.font,a=e.contentWidth;if(!r)return"";var n=Ut(t,i);if(n<=r)return t;for(var o=0;;o++){if(n<=a||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?C_(t,a,e.ascCharWidth,e.cnCharWidth):n>0?Math.floor(t.length*a/n):0;n=Ut(t=t.substr(0,s),i)}return""===t&&(t=e.placeholder),t}function C_(t,e,r,i){for(var a=0,n=0,o=t.length;n<o&&a<e;n++){var s=t.charCodeAt(n);a+=0<=s&&s<=127?r:i}return n}function qh(t){return Ut("\u56fd",t)}function M_(t,e){return ts.measureText(t,e)}function Kh(t,e,r,i,a){null!=t&&(t+="");var n=At(i,qh(e)),o=t?t.split("\n"):[],s=o.length*n,l=s,u=!0;if(r&&(l+=r[0]+r[2]),t&&a){u=!1;var h=a.outerHeight,f=a.outerWidth;if(null!=h&&l>h)t="",o=[];else if(null!=f)for(var c=Yh(f-(r?r[1]+r[3]:0),e,a.ellipsis,{minChar:a.minChar,placeholder:a.placeholder}),v=0,d=o.length;v<d;v++)o[v]=Xh(o[v],c)}return{lines:o,height:s,outerHeight:l,lineHeight:n,canCacheByTextString:u}}function Qh(t,e){var r={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return r;for(var a,i=Jo.lastIndex=0;null!=(a=Jo.exec(t));){var n=a.index;n>i&&rs(r,t.substring(i,n)),rs(r,a[2],a[1]),i=Jo.lastIndex}i<t.length&&rs(r,t.substring(i,t.length));var o=r.lines,s=0,l=0,u=[],h=e.textPadding,f=e.truncate,c=f&&f.outerWidth,v=f&&f.outerHeight;h&&(null!=c&&(c-=h[1]+h[3]),null!=v&&(v-=h[0]+h[2]));for(var d=0;d<o.length;d++){for(var p=o[d],g=0,_=0,m=0;m<p.tokens.length;m++){var x=(y=p.tokens[m]).styleName&&e.rich[y.styleName]||{},w=y.textPadding=x.textPadding,C=y.font=x.font||e.font,b=y.textHeight=At(x.textHeight,qh(C));if(w&&(b+=w[0]+w[2]),y.height=b,y.lineHeight=li(x.textLineHeight,e.textLineHeight,b),y.textAlign=x&&x.textAlign||e.textAlign,y.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=v&&s+y.lineHeight>v)return{lines:[],width:0,height:0};y.textWidth=Ut(y.text,C);var M=x.textWidth,T=null==M||"auto"===M;if("string"==typeof M&&"%"===M.charAt(M.length-1))y.percentWidth=M,u.push(y),M=0;else{if(T){M=y.textWidth;var D=x.textBackgroundColor,A=D&&D.image;A&&Ta(A=y_(A))&&(M=Math.max(M,A.width*b/A.height))}var P=w?w[1]+w[3]:0;M+=P;var L=null!=c?c-_:null;null!=L&&L<M&&(!T||L<P?(y.text="",y.textWidth=M=0):(y.text=Uh(y.text,L-P,C,f.ellipsis,{minChar:f.minChar}),y.textWidth=Ut(y.text,C),M=y.textWidth+P))}_+=y.width=M,x&&(g=Math.max(g,y.lineHeight))}p.width=_,p.lineHeight=g,s+=g,l=Math.max(l,_)}for(r.outerWidth=r.width=At(e.textWidth,l),r.outerHeight=r.height=At(e.textHeight,s),h&&(r.outerWidth+=h[1]+h[3],r.outerHeight+=h[0]+h[2]),d=0;d<u.length;d++){var y;(y=u[d]).width=parseInt(y.percentWidth,10)/100*l}return r}function rs(t,e,r){for(var i=""===e,a=e.split("\n"),n=t.lines,o=0;o<a.length;o++){var s=a[o],l={styleName:r,text:s,isLineHolder:!s&&!i};if(o)n.push({tokens:[l]});else{var u=(n[n.length-1]||(n[0]={tokens:[]})).tokens,h=u.length;1===h&&u[0].isLineHolder?u[0]=l:(s||!h||i)&&u.push(l)}}}function $h(t,e){var s,l,u,h,f,r=e.x,i=e.y,a=e.width,n=e.height,o=e.r;a<0&&(r+=a,a=-a),n<0&&(i+=n,n=-n),"number"==typeof o?s=l=u=h=o:o instanceof Array?1===o.length?s=l=u=h=o[0]:2===o.length?(s=u=o[0],l=h=o[1]):3===o.length?(s=o[0],l=h=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],h=o[3]):s=l=u=h=0,s+l>a&&(s*=a/(f=s+l),l*=a/f),u+h>a&&(u*=a/(f=u+h),h*=a/f),l+u>n&&(l*=n/(f=l+u),u*=n/f),s+h>n&&(s*=n/(f=s+h),h*=n/f),t.moveTo(r+s,i),t.lineTo(r+a-l,i),0!==l&&t.arc(r+a-l,i+l,l,-Math.PI/2,0),t.lineTo(r+a,i+n-u),0!==u&&t.arc(r+a-u,i+n-u,u,0,Math.PI/2),t.lineTo(r+h,i+n),0!==h&&t.arc(r+h,i+n-h,h,Math.PI/2,Math.PI),t.lineTo(r,i+s),0!==s&&t.arc(r+s,i+s,s,Math.PI,1.5*Math.PI)}ts.measureText=function(t,e){var r=(sa||(sa=ho().getContext("2d")),sa);return r.font=e||jo,r.measureText(t)};var is=jo,A_={left:1,right:1,center:1},D_={top:1,bottom:1,middle:1},Jh=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],jh={},tf={};function as(t){return ef(t),S(t.rich,ef),t}function ef(t){if(t){t.font=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&Vt(e)||t.textFont||t.font}(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||A_[e]?e:"left";var r=t.textVerticalAlign||t.textBaseline;"center"===r&&(r="middle"),t.textVerticalAlign=null==r||D_[r]?r:"top",t.textPadding&&(t.textPadding=Ku(t.textPadding))}}function rf(t,e,r,i,a,n){i.rich?function(t,e,r,i,a,n){9!==n&&(e.__attrCachedBy=0);var o=t.__textCotentBlock;(!o||t.__dirtyText)&&(o=t.__textCotentBlock=Qh(r,i)),function(t,e,r,i,a){var n=r.width,o=r.outerWidth,s=r.outerHeight,l=i.textPadding,u=nf(tf,t,i,a),h=u.baseX,f=u.baseY,c=u.textAlign,v=u.textVerticalAlign;af(e,i,a,h,f);var d=La(h,o,c),p=Ia(f,s,v),g=d,_=p;l&&(g+=l[3],_+=l[0]);var m=g+n;os(i)&&ss(t,e,i,d,p,o,s);for(var y=0;y<r.lines.length;y++){for(var L,x=r.lines[y],w=x.tokens,C=w.length,b=x.lineHeight,M=x.width,T=0,D=g,A=m,P=C-1;T<C&&(!(L=w[T]).textAlign||"left"===L.textAlign);)ns(t,e,L,i,b,_,D,"left"),M-=L.width,D+=L.width,T++;for(;P>=0&&"right"===(L=w[P]).textAlign;)ns(t,e,L,i,b,_,A,"right"),M-=L.width,A-=L.width,P--;for(D+=(n-(D-g)-(m-A)-M)/2;T<=P;)ns(t,e,L=w[T],i,b,_,D+L.width/2,"center"),D+=L.width,T++;_+=b}}(t,e,o,i,a)}(t,e,r,i,a,n):function(t,e,r,i,a,n){var s,o=os(i),l=!1,u=2===e.__attrCachedBy;9!==n?(n&&(s=n.style,l=!o&&u&&s),e.__attrCachedBy=o?0:2):u&&(e.__attrCachedBy=0);var h=i.font||is;(!l||h!==(s.font||is))&&(e.font=h);var f=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,f=t.__computedFont=e.font);var c=i.textPadding,d=t.__textCotentBlock;(!d||t.__dirtyText)&&(d=t.__textCotentBlock=Kh(r,f,c,i.textLineHeight,i.truncate));var p=d.outerHeight,g=d.lines,_=d.lineHeight,m=nf(tf,t,i,a),y=m.baseX,x=m.baseY,w=m.textAlign||"left",C=m.textVerticalAlign;af(e,i,a,y,x);var b=Ia(x,p,C),M=y,T=b;if(o||c){var A=Ut(r,f);c&&(A+=c[1]+c[3]);var P=La(y,A,w);o&&ss(t,e,i,P,b,A,p),c&&(M=lf(y,w,c),T+=c[0])}e.textAlign=w,e.textBaseline="middle",e.globalAlpha=i.opacity||1;for(var L=0;L<Jh.length;L++){var U=Jh[L],H=U[0],vt=U[1],te=i[H];(!l||te!==s[H])&&(e[vt]=Wo(e,vt,te||U[2]))}T+=_/2;var It=i.textStrokeWidth,yt=!l||It!==(l?s.textStrokeWidth:null),B=!l||yt||i.textStroke!==s.textStroke,ve=ls(i.textStroke,It),Pt=of(i.textFill);if(ve&&(yt&&(e.lineWidth=It),B&&(e.strokeStyle=ve)),Pt&&(!l||i.textFill!==s.textFill)&&(e.fillStyle=Pt),1===g.length)ve&&e.strokeText(g[0],M,T),Pt&&e.fillText(g[0],M,T);else for(L=0;L<g.length;L++)ve&&e.strokeText(g[L],M,T),Pt&&e.fillText(g[L],M,T),T+=_}(t,e,r,i,a,n)}function af(t,e,r,i,a){if(r&&e.textRotation){var n=e.textOrigin;"center"===n?(i=r.width/2+r.x,a=r.height/2+r.y):n&&(i=n[0]+r.x,a=n[1]+r.y),t.translate(i,a),t.rotate(-e.textRotation),t.translate(-i,-a)}}function ns(t,e,r,i,a,n,o,s){var l=i.rich[r.styleName]||{};l.text=r.text;var u=r.textVerticalAlign,h=n+a/2;"top"===u?h=n+r.height/2:"bottom"===u&&(h=n+a-r.height/2),!r.isLineHolder&&os(l)&&ss(t,e,l,"right"===s?o-r.width:"center"===s?o-r.width/2:o,h-r.height/2,r.width,r.height);var f=r.textPadding;f&&(o=lf(o,s,f),h-=r.height/2-f[2]-r.textHeight/2),st(e,"shadowBlur",li(l.textShadowBlur,i.textShadowBlur,0)),st(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),st(e,"shadowOffsetX",li(l.textShadowOffsetX,i.textShadowOffsetX,0)),st(e,"shadowOffsetY",li(l.textShadowOffsetY,i.textShadowOffsetY,0)),st(e,"textAlign",s),st(e,"textBaseline","middle"),st(e,"font",r.font||is);var c=ls(l.textStroke||i.textStroke,d),v=of(l.textFill||i.textFill),d=At(l.textStrokeWidth,i.textStrokeWidth);c&&(st(e,"lineWidth",d),st(e,"strokeStyle",c),e.strokeText(r.text,o,h)),v&&(st(e,"fillStyle",v),e.fillText(r.text,o,h))}function os(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function ss(t,e,r,i,a,n,o){var s=r.textBackgroundColor,l=r.textBorderWidth,u=r.textBorderColor,h=j(s);if(st(e,"shadowBlur",r.textBoxShadowBlur||0),st(e,"shadowColor",r.textBoxShadowColor||"transparent"),st(e,"shadowOffsetX",r.textBoxShadowOffsetX||0),st(e,"shadowOffsetY",r.textBoxShadowOffsetY||0),h||l&&u){e.beginPath();var f=r.textBorderRadius;f?$h(e,{x:i,y:a,width:n,height:o,r:f}):e.rect(i,a,n,o),e.closePath()}if(h)if(st(e,"fillStyle",s),null!=r.fillOpacity){var c=e.globalAlpha;e.globalAlpha=r.fillOpacity*r.opacity,e.fill(),e.globalAlpha=c}else e.fill();else if(z(s)){var v=s.image;(v=Zh(v,null,t,R_,s))&&Ta(v)&&e.drawImage(v,i,a,n,o)}l&&u&&(st(e,"lineWidth",l),st(e,"strokeStyle",u),null!=r.strokeOpacity?(c=e.globalAlpha,e.globalAlpha=r.strokeOpacity*r.opacity,e.stroke(),e.globalAlpha=c):e.stroke())}function R_(t,e){e.image=t}function nf(t,e,r,i){var a=r.x||0,n=r.y||0,o=r.textAlign,s=r.textVerticalAlign;if(i){var l=r.textPosition;if(l instanceof Array)a=i.x+sf(l[0],i.width),n=i.y+sf(l[1],i.height);else{var u=e&&e.calculateTextPosition?e.calculateTextPosition(jh,r,i):es(jh,r,i);a=u.x,n=u.y,o=o||u.textAlign,s=s||u.textVerticalAlign}var h=r.textOffset;h&&(a+=h[0],n+=h[1])}return(t=t||{}).baseX=a,t.baseY=n,t.textAlign=o,t.textVerticalAlign=s,t}function st(t,e,r){return t[e]=Wo(t,e,r),t[e]}function ls(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function of(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function sf(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function lf(t,e,r){return"right"===e?t-r[1]:"center"===e?t+r[3]/2-r[1]/2:t+r[3]}function uf(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var us=new gt,hs=function(){};hs.prototype={constructor:hs,drawRectText:function(t,e){var r=this.style;e=r.textRect||e,this.__dirty&&as(r);var i=r.text;if(null!=i&&(i+=""),uf(i,r)){t.save();var a=this.transform;r.transformText?this.setTransform(t):a&&(us.copy(e),us.applyTransform(a),e=us),rf(this,t,i,r,e,9),t.restore()}}};const O_=hs;function mi(t){for(var e in gi.call(this,t=t||{}),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new Ma(t.style,this),this._rect=null,this.__clipPaths=null}mi.prototype={constructor:mi,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var r=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(r[0],r[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?gi.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new Ma(t,this),this.dirty(!1),this},calculateTextPosition:null},xt(mi,gi),at(mi,O_);const ge=mi;function Pa(t){ge.call(this,t)}Pa.prototype={constructor:Pa,type:"image",brush:function(t,e){var r=this.style,i=r.image;r.bind(t,this,e);var a=this._image=Zh(i,this._image,this,this.onload);if(a&&Ta(a)){var n=r.x||0,o=r.y||0,s=r.width,l=r.height,u=a.width/a.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=a.width,l=a.height),this.setTransform(t),r.sWidth&&r.sHeight)t.drawImage(a,h=r.sx||0,f=r.sy||0,r.sWidth,r.sHeight,n,o,s,l);else if(r.sx&&r.sy){var h,f;t.drawImage(a,h=r.sx,f=r.sy,s-h,l-f,n,o,s,l)}else t.drawImage(a,n,o,s,l);null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new gt(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},xt(Pa,ge);const Ar=Pa;var qe=314159;function Oa(t){return parseInt(t,10)}var fs=new gt(0,0,0,0),cs=new gt(0,0,0,0),vs=function(t,e,r){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=V({},r||{}),this.dpr=r.devicePixelRatio||ma,this._singleCanvas=i,this.root=t;var a=t.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var n=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var l=t.width,u=t.height;null!=r.width&&(l=r.width),null!=r.height&&(u=r.height),this.dpr=r.devicePixelRatio||1,t.width=l*this.dpr,t.height=u*this.dpr,this._width=l,this._height=u;var h=new qo(t,this,this.dpr);h.__builtin__=!0,h.initContext(),o[qe]=h,h.zlevel=qe,n.push(qe),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var s=this._domRoot=function(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}(this._width,this._height);t.appendChild(s)}this._hoverlayer=null,this._hoverElements=[]};vs.prototype={constructor:vs,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<r.length;i++){var n=this._layers[r[i]];!n.__builtin__&&n.refresh&&n.refresh(0===i?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var r=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return r.__from=t,t.__hoverMir=r,e&&r.setStyle(e),this._hoverElements.push(r),r}},removeHover:function(t){var r=this._hoverElements,i=G(r,t.__hoverMir);i>=0&&r.splice(i,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,r=0;r<e.length;r++){var i=e[r].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){Sa(t,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(1e5));var i={};r.ctx.save();for(var a=0;a<e;){var n=t[a],o=n.__from;o&&o.__zr?(a++,o.invisible||(n.transform=o.transform,n.invTransform=o.invTransform,n.__clipPaths=o.__clipPaths,this._doPaintEl(n,r,!0,i))):(t.splice(a,1),o.__hoverMir=null,e--)}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,r){if(this._redrawId===r){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var a=this;Ko(function(){a._paintList(t,e,r)})}}},_compositeManually:function(){var t=this.getLayer(qe).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,r)})},_doPaintList:function(t,e){for(var r=[],i=0;i<this._zlevelList.length;i++)(n=this._layers[this._zlevelList[i]]).__builtin__&&n!==this._hoverlayer&&(n.__dirty||e)&&r.push(n);for(var o=!0,s=0;s<r.length;s++){var n,l=(n=r[s]).ctx,u={};l.save();var h=e?n.__startIndex:n.__drawIndex,f=!e&&n.incremental&&Date.now,c=f&&Date.now(),v=n.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(n.__startIndex===n.__endIndex)n.clear(!1,v);else if(h===n.__startIndex){var d=t[h];(!d.incremental||!d.notClear||e)&&n.clear(!1,v)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=n.__startIndex);for(var p=h;p<n.__endIndex;p++){var g=t[p];if(this._doPaintEl(g,n,e,u),g.__dirty=g.__dirtyText=!1,f&&Date.now()-c>15)break}n.__drawIndex=p,n.__drawIndex<n.__endIndex&&(o=!1),u.prevElClipPaths&&l.restore(),l.restore()}return k.wxa&&S(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),o},_doPaintEl:function(t,e,r,i){var a=e.ctx,n=t.transform;if((e.__dirty||r)&&!t.invisible&&0!==t.style.opacity&&(!n||n[0]||n[3])&&(!t.culling||!function(t,e,r){return fs.copy(t.getBoundingRect()),t.transform&&fs.applyTransform(t.transform),cs.width=e,cs.height=r,!fs.intersect(cs)}(t,this._width,this._height))){var o=t.__clipPaths,s=i.prevElClipPaths;(!s||function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}(o,s))&&(s&&(a.restore(),i.prevElClipPaths=null,i.prevEl=null),o&&(a.save(),function(t,e){for(var r=0;r<t.length;r++){var i=t[r];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(o,a),i.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(a),t.brush(a,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(a)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=qe);var r=this._layers[t];return r||((r=new qo("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]?F(r,this._layerConfig[t],!0):this._layerConfig[t-.01]&&F(r,this._layerConfig[t-.01],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},insertLayer:function(t,e){var r=this._layers,i=this._zlevelList,a=i.length,n=null,o=-1,s=this._domRoot;if(r[t])ya("ZLevel "+t+" has been used already");else if(function(t){return!(!t||!t.__builtin__&&("function"!=typeof t.resize||"function"!=typeof t.refresh))}(e)){if(a>0&&t>i[0]){for(o=0;o<a-1&&!(i[o]<t&&i[o+1]>t);o++);n=r[i[o]]}if(i.splice(o+1,0,t),r[t]=e,!e.virtual)if(n){var l=n.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else ya("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,a,r=this._zlevelList;for(a=0;a<r.length;a++)t.call(e,this._layers[i=r[a]],i)},eachBuiltinLayer:function(t,e){var i,a,n,r=this._zlevelList;for(n=0;n<r.length;n++)(i=this._layers[a=r[n]]).__builtin__&&t.call(e,i,a)},eachOtherLayer:function(t,e){var i,a,n,r=this._zlevelList;for(n=0;n<r.length;n++)(i=this._layers[a=r[n]]).__builtin__||t.call(e,i,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(u){a&&(a.__endIndex!==u&&(a.__dirty=!0),a.__endIndex=u)}if(this.eachBuiltinLayer(function(u,h){u.__dirty=u.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++)if((i=t[r]).zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}var o,a=null,n=0;for(r=0;r<t.length;r++){var i,l,s=(i=t[r]).zlevel;o!==s&&(o=s,n=0),i.incremental?((l=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,n=1):l=this.getLayer(s+(n>0?.01:0),this._needsManuallyCompositing),l.__builtin__||ya("ZLevel "+s+" has been used by unkown layer "+l.id),l!==a&&(l.__used=!0,l.__startIndex!==r&&(l.__dirty=!0),l.__startIndex=r,l.__drawIndex=l.incremental?-1:r,e(r),a=l),i.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(u,h){!u.__used&&u.getElementCount()>0&&(u.__dirty=!0,u.__startIndex=u.__endIndex=u.__drawIndex=0),u.__dirty&&u.__drawIndex<0&&(u.__drawIndex=u.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var r=this._layerConfig;r[t]?F(r[t],e,!0):r[t]=e;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];a!==t&&a!==t+.01||F(this._layers[a],r[t],!0)}}},delLayer:function(t){var e=this._layers,r=this._zlevelList,i=e[t];!i||(i.dom.parentNode.removeChild(i.dom),delete e[t],r.splice(G(r,t),1))},resize:function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||e!==this._height){for(var a in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);S(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(qe).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[qe].dom;var e=new qo("image",this,(t=t||{}).pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,i=e.dom.height,a=e.ctx;this.eachLayer(function(u){u.__builtin__?a.drawImage(u.dom,0,0,r,i):u.renderToCanvas&&(e.ctx.save(),u.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var n={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++)this._doPaintEl(o[s],e,!0,n);return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],n=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[i]||Oa(s[r])||Oa(o.style[r]))-(Oa(s[a])||0)-(Oa(s[n])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var r=document.createElement("canvas"),i=r.getContext("2d"),a=t.getBoundingRect(),n=t.style,o=n.shadowBlur*e,s=n.shadowOffsetX*e,l=n.shadowOffsetY*e,u=n.hasStroke()?n.lineWidth:0,h=Math.max(u/2,-s+o),f=Math.max(u/2,s+o),c=Math.max(u/2,-l+o),v=Math.max(u/2,l+o),d=a.width+h+f,p=a.height+c+v;r.width=d*e,r.height=p*e,i.scale(e,e),i.clearRect(0,0,d,p),i.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-a.x,c-a.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var m=new Ar({style:{x:0,y:0,image:r}});return null!=g.position&&(m.position=t.position=g.position),null!=g.rotation&&(m.rotation=t.rotation=g.rotation),null!=g.scale&&(m.scale=t.scale=g.scale),m}};const V_=vs;var Ea=function(t){this.stage=(t=t||{}).stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,dt.call(this)};Ea.prototype={constructor:Ea,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),r=0;r<e.length;r++)this.addClip(e[r])},removeClip:function(t){var e=G(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),r=0;r<e.length;r++)this.removeClip(e[r]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,r=this._clips,i=r.length,a=[],n=[],o=0;o<i;o++){var s=r[o],l=s.step(t,e);l&&(a.push(l),n.push(s))}for(o=0;o<i;)r[o]._needsRemove?(r[o]=r[i-1],r.pop(),i--):o++;for(i=a.length,o=0;o<i;o++)n[o].fire(a[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,Ko(function e(){t._running&&(Ko(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var r=new Lh(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(r),r}},at(Ea,dt);const H_=Ea;var ds=k.domSupported,gs=function(){var t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=E(t,function(a){var n=a.replace("mouse","pointer");return r.hasOwnProperty(n)?n:a});return{mouse:t,touch:["touchstart","touchend","touchmove"],pointer:i}}(),ff_mouse=["mousemove","mouseup"],ff_pointer=["pointermove","pointerup"];function cf(t){return"mousewheel"===t&&k.browser.firefox?"DOMMouseScroll":t}function ps(t){var e=t.pointerType;return"pen"===e||"touch"===e}function _s(t){t&&(t.zrByTouch=!0)}function vf(t,e){for(var r=e,i=!1;r&&9!==r.nodeType&&!(i=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return i}function df(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var ms=df.prototype;ms.stopPropagation=ms.stopImmediatePropagation=ms.preventDefault=be;var Yt={mousedown:function(t){t=ae(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ae(this.dom,t);var e=this._mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&ws(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=ae(this.dom,t),ws(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=ae(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout"),t.zrIsToLocalDOM=vf(this,t.toElement||t.relatedTarget),this.trigger("mouseout",t)},touchstart:function(t){_s(t=ae(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Yt.mousemove.call(this,t),Yt.mousedown.call(this,t)},touchmove:function(t){_s(t=ae(this.dom,t)),this.handler.processGesture(t,"change"),Yt.mousemove.call(this,t)},touchend:function(t){_s(t=ae(this.dom,t)),this.handler.processGesture(t,"end"),Yt.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Yt.click.call(this,t)},pointerdown:function(t){Yt.mousedown.call(this,t)},pointermove:function(t){ps(t)||Yt.mousemove.call(this,t)},pointerup:function(t){Yt.mouseup.call(this,t)},pointerout:function(t){ps(t)||Yt.mouseout.call(this,t)}};S(["click","mousewheel","dblclick","contextmenu"],function(t){Yt[t]=function(e){e=ae(this.dom,e),this.trigger(t,e)}});var ys={pointermove:function(t){ps(t)||ys.mousemove.call(this,t)},pointerup:function(t){ys.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;ws(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function ka(t,e,r,i){t.mounted[e]=r,t.listenerOpts[e]=i,function(t,e,r,i){yo?t.addEventListener(e,r,i):t.attachEvent("on"+e,r)}(t.domTarget,cf(e),r,i)}function xs(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&Gp(t.domTarget,cf(r),e[r],t.listenerOpts[r]);t.mounted={}}function ws(t,e){if(t._mayPointerCapture=null,ds&&t._pointerCapturing^e){t._pointerCapturing=e;var r=t._globalHandlerScope;e?function(t,e){function r(i){ka(e,i,function(n){n=bo(n),vf(t,n.target)||(n=function(t,e){return ae(t.dom,new df(t,e),!0)}(t,n),e.domHandlers[i].call(t,n))},{capture:!0})}k.pointerEventsSupported?S(ff_pointer,r):k.touchEventsSupported||S(ff_mouse,r)}(t,r):xs(r)}}function gf(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function bs(t,e){dt.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new gf(t,Yt),ds&&(this._globalHandlerScope=new gf(document,ys)),this._pointerCapturing=!1,this._mayPointerCapture=null,function(t,e){var r=e.domHandlers;k.pointerEventsSupported?S(gs.pointer,function(i){ka(e,i,function(a){r[i].call(t,a)})}):(k.touchEventsSupported&&S(gs.touch,function(i){ka(e,i,function(a){r[i].call(t,a),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}(e)})}),S(gs.mouse,function(i){ka(e,i,function(a){a=bo(a),e.touching||r[i].call(t,a)})}))}(this,this._localHandlerScope)}var pf=bs.prototype;pf.dispose=function(){xs(this._localHandlerScope),ds&&xs(this._globalHandlerScope)},pf.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},at(bs,dt);const X_=bs;var q_=!k.canvasSupported,Ba={canvas:V_},Ke={};function mf(t,e){var r=new Ss(Zu(),t,e);return Ke[r.id]=r,r}var Ss=function(t,e,r){r=r||{},this.dom=e,this.id=t;var i=this,a=new d_,n=r.renderer;if(q_){if(!Ba.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");n="vml"}else(!n||!Ba[n])&&(n="canvas");var o=new Ba[n](e,a,r,t);this.storage=a,this.painter=o;var s=k.node||k.worker?null:new X_(o.getViewportRoot(),o.root);this.handler=new Qp(a,o,s,o.root),this.animation=new H_({stage:{update:J(this.flush,this)}}),this.animation.start();var l=a.delFromStorage,u=a.addToStorage;a.delFromStorage=function(h){l.call(a,h),h&&h.removeSelfFromZr(i)},a.addToStorage=function(h){u.call(a,h),h.addSelfToZr(i)}};Ss.prototype={constructor:Ss,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var r=this.painter.addHover(t,e);return this.refreshHover(),r}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,r){this.handler.on(t,e,r)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function(t){delete Ke[t]}(this.id)}};var Dr=S,Lr=z,Q_=O,yf="series\0";function bt(t){return t instanceof Array?t:null==t?[]:[t]}function Cs(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,a=r.length;i<a;i++){var n=r[i];!t.emphasis[e].hasOwnProperty(n)&&t[e].hasOwnProperty(n)&&(t.emphasis[e][n]=t[e][n])}}}var xf=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function za(t){return!Lr(t)||Q_(t)||t instanceof Date?t:t.value}function wf(t,e){e=(e||[]).slice();var r=E(t||[],function(i,a){return{exist:i}});return Dr(e,function(i,a){if(Lr(i)){for(var n=0;n<r.length;n++)if(!r[n].option&&null!=i.id&&r[n].exist.id===i.id+"")return r[n].option=i,void(e[a]=null);for(n=0;n<r.length;n++){var o=r[n].exist;if(!(r[n].option||null!=o.id&&null!=i.id||null==i.name||Na(i)||Na(o)||o.name!==i.name+""))return r[n].option=i,void(e[a]=null)}}}),Dr(e,function(i,a){if(Lr(i)){for(var n=0;n<r.length;n++)if(!r[n].option&&!Na(r[n].exist)&&null==i.id){r[n].option=i;break}n>=r.length&&r.push({option:i})}}),r}function bf(t){var e=t.name;return!(!e||!e.indexOf(yf))}function Na(t){return Lr(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Sf(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?O(e.dataIndex)?E(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?O(e.name)?E(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name):void 0}function Xt(){var t="__\0ec_inner_"+j_+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}var j_=0;function Ms(t,e,r){if(j(e)){var i={};i[e+"Index"]=0,e=i}var a=r&&r.defaultMainType;a&&!Ts(e,a+"Index")&&!Ts(e,a+"Id")&&!Ts(e,a+"Name")&&(e[a+"Index"]=0);var n={};return Dr(e,function(o,s){if(o=e[s],"dataIndex"!==s&&"dataIndexInside"!==s){var l=s.match(/^(\w+)(Index|Id|Name)$/)||[],u=l[1],h=(l[2]||"").toLowerCase();if(!(!u||!h||null==o||"index"===h&&"none"===o||r&&r.includeMainTypes&&G(r.includeMainTypes,u)<0)){var f={mainType:u};("index"!==h||"all"!==o)&&(f[h]=o);var c=t.queryComponents(f);n[u+"Models"]=c,n[u+"Model"]=c[0]}}else n[s]=o}),n}function Ts(t,e){return t&&t.hasOwnProperty(e)}function Cf(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function Mf(t){return"auto"===t?k.domSupported?"html":"richText":t||"html"}var Qe="___EC__COMPONENT__CONTAINER___";function Ae(t){var e={main:"",sub:""};return t&&(t=t.split("."),e.main=t[0]||"",e.sub=t[1]||""),e}function yi(t,e){t.$constructor=t,t.extend=function(r){R&&S(e,function(n){r[n]||console.warn("Method `"+n+"` should be implemented"+(r.type?" in "+r.type:"")+".")});var i=this,a=function(){r.$constructor?r.$constructor.apply(this,arguments):i.apply(this,arguments)};return V(a.prototype,r),a.extend=this.extend,a.superCall=a0,a.superApply=n0,xt(a,this),a.superClass=i,a}}var i0=0;function Tf(t){var e=["__\0is_clz",i0++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,R&&ot(!t.isInstance,'The method "is" can not be defined.'),t.isInstance=function(r){return!(!r||!r[e])}}function a0(t,e){var r=qu(arguments,2);return this.superClass.prototype[e].apply(t,r)}function n0(t,e,r){return this.superClass.prototype[e].apply(t,r)}function Fa(t,e){e=e||{};var r={};if(t.registerClass=function(n,o){if(o)if(function(t){ot(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}(o),(o=Ae(o)).sub){if(o.sub!==Qe){var s=function(n){var o=r[n.main];return(!o||!o[Qe])&&((o=r[n.main]={})[Qe]=!0),o}(o);s[o.sub]=n}}else R&&r[o.main]&&console.warn(o.main+" exists."),r[o.main]=n;return n},t.getClass=function(n,o,s){var l=r[n];if(l&&l[Qe]&&(l=o?l[o]:null),s&&!l)throw new Error(o?"Component "+n+"."+(o||"")+" not exists. Load it first.":n+".type should be specified.");return l},t.getClassesByMainType=function(n){n=Ae(n);var o=[],s=r[n.main];return s&&s[Qe]?S(s,function(l,u){u!==Qe&&o.push(l)}):o.push(s),o},t.hasClass=function(n){return n=Ae(n),!!r[n.main]},t.getAllClassMainTypes=function(){var n=[];return S(r,function(o,s){n.push(s)}),n},t.hasSubTypes=function(n){n=Ae(n);var o=r[n.main];return o&&o[Qe]},t.parseClassType=Ae,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(n){var o=a.call(this,n);return t.registerClass(o,n.type)})}return t}function Va(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(r,i,a){for(var n={},o=0;o<t.length;o++){var s=t[o][1];if(!(i&&G(i,s)>=0||a&&G(a,s)<0)){var l=r.getShallow(s);null!=l&&(n[t[o][0]]=l)}}return n}}var o0=Va([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);const s0={getLineStyle:function(t){var e=o0(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),r=Math.max(t,2),i=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[i,i]:[r,r])}};var l0=Va([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);const u0={getAreaStyle:function(t,e){return l0(this,t,e)}};var Ha=Math.pow,De=Math.sqrt,Df=De(3),Ga=1/3,ne=_r(),Rt=_r(),Ir=_r();function Le(t){return t>-1e-8&&t<1e-8}function Lf(t){return t>1e-8||t<-1e-8}function pt(t,e,r,i,a){var n=1-a;return n*n*(n*t+3*a*e)+a*a*(a*i+3*n*r)}function If(t,e,r,i,a){var n=1-a;return 3*(((e-t)*n+2*(r-e)*a)*n+(i-r)*a*a)}function Pf(t,e,r,i,a){var n=6*r-12*e+6*t,o=9*e+3*i-3*t-9*r,s=3*e-3*t,l=0;if(Le(o))Lf(n)&&(u=-s/n)>=0&&u<=1&&(a[l++]=u);else{var h=n*n-4*o*s;if(Le(h))a[0]=-n/(2*o);else if(h>0){var u,f=De(h),c=(-n-f)/(2*o);(u=(-n+f)/(2*o))>=0&&u<=1&&(a[l++]=u),c>=0&&c<=1&&(a[l++]=c)}}return l}function Rf(t,e,r,i,a,n){var o=(e-t)*a+t,s=(r-e)*a+e,l=(i-r)*a+r,u=(s-o)*a+o,h=(l-s)*a+s,f=(h-u)*a+u;n[0]=t,n[1]=o,n[2]=u,n[3]=f,n[4]=f,n[5]=h,n[6]=l,n[7]=i}function St(t,e,r,i){var a=1-i;return a*(a*t+2*i*e)+i*i*r}function Of(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))}function Ef(t,e,r){var i=t+r-2*e;return 0===i?.5:(t-e)/i}function kf(t,e,r,i,a){var n=(e-t)*i+t,o=(r-e)*i+e,s=(o-n)*i+n;a[0]=t,a[1]=n,a[2]=s,a[3]=s,a[4]=o,a[5]=r}var Ct=Math.min,Mt=Math.max,As=Math.sin,Ds=Math.cos,$e=2*Math.PI,Za=_r(),Ua=_r(),Ya=_r();function Bf(t,e,r,i,a,n){a[0]=Ct(t,r),a[1]=Ct(e,i),n[0]=Mt(t,r),n[1]=Mt(e,i)}var zf=[],Nf=[];function d0(t,e,r,i,a,n,o,s,l,u){var c,h=Pf,f=pt,v=h(t,r,a,o,zf);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,c=0;c<v;c++){var d=f(t,r,a,o,zf[c]);l[0]=Ct(d,l[0]),u[0]=Mt(d,u[0])}for(v=h(e,i,n,s,Nf),c=0;c<v;c++){var p=f(e,i,n,s,Nf[c]);l[1]=Ct(p,l[1]),u[1]=Mt(p,u[1])}l[0]=Ct(t,l[0]),u[0]=Mt(t,u[0]),l[0]=Ct(o,l[0]),u[0]=Mt(o,u[0]),l[1]=Ct(e,l[1]),u[1]=Mt(e,u[1]),l[1]=Ct(s,l[1]),u[1]=Mt(s,u[1])}function g0(t,e,r,i,a,n,o,s){var l=Ef,u=St,h=Mt(Ct(l(t,r,a),1),0),f=Mt(Ct(l(e,i,n),1),0),c=u(t,r,a,h),v=u(e,i,n,f);o[0]=Ct(t,a,c),o[1]=Ct(e,n,v),s[0]=Mt(t,a,c),s[1]=Mt(e,n,v)}function p0(t,e,r,i,a,n,o,s,l){var u=yr,h=xr,f=Math.abs(a-n);if(f%$e<1e-4&&f>1e-4)return s[0]=t-r,s[1]=e-i,l[0]=t+r,void(l[1]=e+i);if(Za[0]=Ds(a)*r+t,Za[1]=As(a)*i+e,Ua[0]=Ds(n)*r+t,Ua[1]=As(n)*i+e,u(s,Za,Ua),h(l,Za,Ua),(a%=$e)<0&&(a+=$e),(n%=$e)<0&&(n+=$e),a>n&&!o?n+=$e:a<n&&o&&(a+=$e),o){var c=n;n=a,a=c}for(var v=0;v<n;v+=Math.PI/2)v>a&&(Ya[0]=Ds(v)*r+t,Ya[1]=As(v)*i+e,u(s,Ya,s),h(l,Ya,l))}var q={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},oe=[],Ie=[],se=[],le=[],Ff=Math.min,Vf=Math.max,xi=Math.cos,wi=Math.sin,Xa=Math.sqrt,Pr=Math.abs,Ls="undefined"!=typeof Float32Array,qa=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};qa.prototype={constructor:qa,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,r){this._ux=Pr((r=r||0)/ma/t)||0,this._uy=Pr(r/ma/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(q.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var r=Pr(t-this._xi)>this._ux||Pr(e-this._yi)>this._uy||this._len<5;return this.addData(q.L,t,e),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),r&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,r,i,a,n){return this.addData(q.C,t,e,r,i,a,n),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,r,i,a,n):this._ctx.bezierCurveTo(t,e,r,i,a,n)),this._xi=a,this._yi=n,this},quadraticCurveTo:function(t,e,r,i){return this.addData(q.Q,t,e,r,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,r,i):this._ctx.quadraticCurveTo(t,e,r,i)),this._xi=r,this._yi=i,this},arc:function(t,e,r,i,a,n){return this.addData(q.A,t,e,r,r,i,a-i,0,n?0:1),this._ctx&&this._ctx.arc(t,e,r,i,a,n),this._xi=xi(a)*r+t,this._yi=wi(a)*r+e,this},arcTo:function(t,e,r,i,a){return this._ctx&&this._ctx.arcTo(t,e,r,i,a),this},rect:function(t,e,r,i){return this._ctx&&this._ctx.rect(t,e,r,i),this.addData(q.R,t,e,r,i),this},closePath:function(){this.addData(q.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,r),t.closePath()),this._xi=e,this._yi=r,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,r=0;r<t.length;r++)e+=t[r];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;(!this.data||this.data.length!==e)&&Ls&&(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,i=this._len,a=0;a<e;a++)r+=t[a].len();for(Ls&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r)),a=0;a<e;a++)for(var n=t[a].data,o=0;o<n.length;o++)this.data[i++]=n[o];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var r=0;r<arguments.length;r++)e[this._len++]=arguments[r];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var v,p,r=this._dashSum,i=this._dashOffset,a=this._lineDash,n=this._ctx,o=this._xi,s=this._yi,l=t-o,u=e-s,h=Xa(l*l+u*u),f=o,c=s,d=a.length;for(i<0&&(i=r+i),f-=(i%=r)*(l/=h),c-=i*(u/=h);l>0&&f<=t||l<0&&f>=t||0===l&&(u>0&&c<=e||u<0&&c>=e);)f+=l*(v=a[p=this._dashIdx]),c+=u*v,this._dashIdx=(p+1)%d,!(l>0&&f<o||l<0&&f>o||u>0&&c<s||u<0&&c>s)&&n[p%2?"moveTo":"lineTo"](l>=0?Ff(f,t):Vf(f,t),u>=0?Ff(c,e):Vf(c,e));this._dashOffset=-Xa((l=f-t)*l+(u=c-e)*u)},_dashedBezierTo:function(t,e,r,i,a,n){var c,v,d,y,x,o=this._dashSum,s=this._dashOffset,l=this._lineDash,u=this._ctx,h=this._xi,f=this._yi,p=pt,g=0,_=this._dashIdx,m=l.length,w=0;for(s<0&&(s=o+s),s%=o,c=0;c<1;c+=.1)v=p(h,t,r,a,c+.1)-p(h,t,r,a,c),d=p(f,e,i,n,c+.1)-p(f,e,i,n,c),g+=Xa(v*v+d*d);for(;_<m&&!((w+=l[_])>s);_++);for(c=(w-s)/g;c<=1;)y=p(h,t,r,a,c),x=p(f,e,i,n,c),_%2?u.moveTo(y,x):u.lineTo(y,x),c+=l[_]/g,_=(_+1)%m;_%2!=0&&u.lineTo(a,n),this._dashOffset=-Xa((v=a-y)*v+(d=n-x)*d)},_dashedQuadraticTo:function(t,e,r,i){var a=r,n=i;r=(r+2*t)/3,i=(i+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,r,i,a,n)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Ls&&(this.data=new Float32Array(t)))},getBoundingRect:function(){oe[0]=oe[1]=se[0]=se[1]=Number.MAX_VALUE,Ie[0]=Ie[1]=le[0]=le[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,r=0,i=0,a=0,n=0;n<t.length;){var o=t[n++];switch(1===n&&(i=e=t[n],a=r=t[n+1]),o){case q.M:e=i=t[n++],r=a=t[n++],se[0]=i,se[1]=a,le[0]=i,le[1]=a;break;case q.L:Bf(e,r,t[n],t[n+1],se,le),e=t[n++],r=t[n++];break;case q.C:d0(e,r,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],se,le),e=t[n++],r=t[n++];break;case q.Q:g0(e,r,t[n++],t[n++],t[n],t[n+1],se,le),e=t[n++],r=t[n++];break;case q.A:var s=t[n++],l=t[n++],u=t[n++],h=t[n++],f=t[n++],c=t[n++]+f;n+=1;var v=1-t[n++];1===n&&(i=xi(f)*u+s,a=wi(f)*h+l),p0(s,l,u,h,f,c,v,se,le),e=xi(c)*u+s,r=wi(c)*h+l;break;case q.R:Bf(i=e=t[n++],a=r=t[n++],i+t[n++],a+t[n++],se,le);break;case q.Z:e=i,r=a}yr(oe,oe,se),xr(Ie,Ie,le)}return 0===n&&(oe[0]=oe[1]=Ie[0]=Ie[1]=0),new gt(oe[0],oe[1],Ie[0]-oe[0],Ie[1]-oe[1])},rebuildPath:function(t){for(var r,i,a,n,o,s,e=this.data,l=this._ux,u=this._uy,h=this._len,f=0;f<h;){var c=e[f++];switch(1===f&&(r=a=e[f],i=n=e[f+1]),c){case q.M:r=a=e[f++],i=n=e[f++],t.moveTo(a,n);break;case q.L:o=e[f++],s=e[f++],(Pr(o-a)>l||Pr(s-n)>u||f===h-1)&&(t.lineTo(o,s),a=o,n=s);break;case q.C:t.bezierCurveTo(e[f++],e[f++],e[f++],e[f++],e[f++],e[f++]),a=e[f-2],n=e[f-1];break;case q.Q:t.quadraticCurveTo(e[f++],e[f++],e[f++],e[f++]),a=e[f-2],n=e[f-1];break;case q.A:var v=e[f++],d=e[f++],p=e[f++],g=e[f++],_=e[f++],m=e[f++],y=e[f++],x=e[f++],w=p>g?p:g,C=p>g?1:p/g,b=p>g?g/p:1,T=_+m;Math.abs(p-g)>.001?(t.translate(v,d),t.rotate(y),t.scale(C,b),t.arc(0,0,w,_,T,1-x),t.scale(1/C,1/b),t.rotate(-y),t.translate(-v,-d)):t.arc(v,d,w,_,T,1-x),1===f&&(r=xi(_)*p+v,i=wi(_)*g+d),a=xi(T)*p+v,n=wi(T)*g+d;break;case q.R:r=a=e[f],i=n=e[f+1],t.rect(e[f++],e[f++],e[f++],e[f++]);break;case q.Z:t.closePath(),a=r,n=i}}}},qa.CMD=q;const Pe=qa;function Rr(t,e,r,i,a,n,o){if(0===a)return!1;var l,s=a;if(o>e+s&&o>i+s||o<e-s&&o<i-s||n>t+s&&n>r+s||n<t-s&&n<r-s)return!1;if(t===r)return Math.abs(n-t)<=s/2;var h=(l=(e-i)/(t-r))*n-o+(t*i-r*e)/(t-r);return h*h/(l*l+1)<=s/2*s/2}function _0(t,e,r,i,a,n,o,s,l,u,h){if(0===l)return!1;var f=l;if(h>e+f&&h>i+f&&h>n+f&&h>s+f||h<e-f&&h<i-f&&h<n-f&&h<s-f||u>t+f&&u>r+f&&u>a+f&&u>o+f||u<t-f&&u<r-f&&u<a-f&&u<o-f)return!1;var c=function(t,e,r,i,a,n,o,s,l,u,h){var f,d,p,g,_,c=.005,v=1/0;ne[0]=l,ne[1]=u;for(var m=0;m<1;m+=.05)Rt[0]=pt(t,r,a,o,m),Rt[1]=pt(e,i,n,s,m),(g=mr(ne,Rt))<v&&(f=m,v=g);v=1/0;for(var y=0;y<32&&!(c<1e-4);y++)p=f+c,Rt[0]=pt(t,r,a,o,d=f-c),Rt[1]=pt(e,i,n,s,d),g=mr(Rt,ne),d>=0&&g<v?(f=d,v=g):(Ir[0]=pt(t,r,a,o,p),Ir[1]=pt(e,i,n,s,p),_=mr(Ir,ne),p<=1&&_<v?(f=p,v=_):c*=.5);return De(v)}(t,e,r,i,a,n,o,s,u,h);return c<=f/2}function m0(t,e,r,i,a,n,o,s,l){if(0===o)return!1;var u=o;if(l>e+u&&l>i+u&&l>n+u||l<e-u&&l<i-u&&l<n-u||s>t+u&&s>r+u&&s>a+u||s<t-u&&s<r-u&&s<a-u)return!1;var h=function(t,e,r,i,a,n,o,s,l){var u,h=.005,f=1/0;ne[0]=o,ne[1]=s;for(var c=0;c<1;c+=.05)Rt[0]=St(t,r,a,c),Rt[1]=St(e,i,n,c),(v=mr(ne,Rt))<f&&(u=c,f=v);f=1/0;for(var d=0;d<32&&!(h<1e-4);d++){var p=u-h,g=u+h;Rt[0]=St(t,r,a,p),Rt[1]=St(e,i,n,p);var v=mr(Rt,ne);if(p>=0&&v<f)u=p,f=v;else{Ir[0]=St(t,r,a,g),Ir[1]=St(e,i,n,g);var _=mr(Ir,ne);g<=1&&_<f?(u=g,f=_):h*=.5}}return De(f)}(t,e,r,i,a,n,s,l);return h<=u/2}var Hf=2*Math.PI;function Re(t){return(t%=Hf)<0&&(t+=Hf),t}var bi=2*Math.PI;function y0(t,e,r,i,a,n,o,s,l){if(0===o)return!1;var u=o;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>r||h+u<r)return!1;if(Math.abs(i-a)%bi<1e-4)return!0;if(n){var f=i;i=Re(a),a=Re(f)}else i=Re(i),a=Re(a);i>a&&(a+=bi);var c=Math.atan2(l,s);return c<0&&(c+=bi),c>=i&&c<=a||c+bi>=i&&c+bi<=a}function Je(t,e,r,i,a,n){if(n>e&&n>i||n<e&&n<i||i===e)return 0;var o=i<e?1:-1,s=(n-e)/(i-e);(1===s||0===s)&&(o=i<e?.5:-.5);var l=s*(r-t)+t;return l===a?1/0:l>a?o:0}var Oe=Pe.CMD,Or=2*Math.PI,_t=[-1,-1,-1],Ot=[-1,-1];function b0(){var t=Ot[0];Ot[0]=Ot[1],Ot[1]=t}function S0(t,e,r,i,a,n,o,s,l,u){if(u>e&&u>i&&u>n&&u>s||u<e&&u<i&&u<n&&u<s)return 0;var h=function(t,e,r,i,a,n){var o=i+3*(e-r)-t,s=3*(r-2*e+t),l=3*(e-t),u=t-a,h=s*s-3*o*l,f=s*l-9*o*u,c=l*l-3*s*u,v=0;if(Le(h)&&Le(f))Le(s)?n[0]=0:(d=-l/s)>=0&&d<=1&&(n[v++]=d);else{var p=f*f-4*h*c;if(Le(p)){var g=f/h,_=-g/2;(d=-s/o+g)>=0&&d<=1&&(n[v++]=d),_>=0&&_<=1&&(n[v++]=_)}else if(p>0){var m=De(p),y=h*s+1.5*o*(-f+m),x=h*s+1.5*o*(-f-m);(d=(-s-((y=y<0?-Ha(-y,Ga):Ha(y,Ga))+(x=x<0?-Ha(-x,Ga):Ha(x,Ga))))/(3*o))>=0&&d<=1&&(n[v++]=d)}else{var w=(2*h*s-3*o*f)/(2*De(h*h*h)),C=Math.acos(w)/3,b=De(h),M=Math.cos(C),d=(-s-2*b*M)/(3*o),T=(_=(-s+b*(M+Df*Math.sin(C)))/(3*o),(-s+b*(M-Df*Math.sin(C)))/(3*o));d>=0&&d<=1&&(n[v++]=d),_>=0&&_<=1&&(n[v++]=_),T>=0&&T<=1&&(n[v++]=T)}}return v}(e,i,n,s,u,_t);if(0===h)return 0;for(var v,d,f=0,c=-1,p=0;p<h;p++){var g=_t[p],_=0===g||1===g?.5:1;pt(t,r,a,o,g)<l||(c<0&&(c=Pf(e,i,n,s,Ot),Ot[1]<Ot[0]&&c>1&&b0(),v=pt(e,i,n,s,Ot[0]),c>1&&(d=pt(e,i,n,s,Ot[1]))),f+=2===c?g<Ot[0]?v<e?_:-_:g<Ot[1]?d<v?_:-_:s<d?_:-_:g<Ot[0]?v<e?_:-_:s<v?_:-_)}return f}function C0(t,e,r,i,a,n,o,s){if(s>e&&s>i&&s>n||s<e&&s<i&&s<n)return 0;var l=function(t,e,r,i,a){var n=t-2*e+r,o=2*(e-t),s=t-i,l=0;if(Le(n))Lf(o)&&(u=-s/o)>=0&&u<=1&&(a[l++]=u);else{var h=o*o-4*n*s;if(Le(h))(u=-o/(2*n))>=0&&u<=1&&(a[l++]=u);else if(h>0){var u,f=De(h),c=(-o-f)/(2*n);(u=(-o+f)/(2*n))>=0&&u<=1&&(a[l++]=u),c>=0&&c<=1&&(a[l++]=c)}}return l}(e,i,n,s,_t);if(0===l)return 0;var u=Ef(e,i,n);if(u>=0&&u<=1){for(var h=0,f=St(e,i,n,u),c=0;c<l;c++){var v=0===_t[c]||1===_t[c]?.5:1;St(t,r,a,_t[c])<o||(h+=_t[c]<u?f<e?v:-v:n<f?v:-v)}return h}return v=0===_t[0]||1===_t[0]?.5:1,St(t,r,a,_t[0])<o?0:n<e?v:-v}function M0(t,e,r,i,a,n,o,s){if((s-=e)>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);_t[0]=-l,_t[1]=l;var u=Math.abs(i-a);if(u<1e-4)return 0;if(u%Or<1e-4){i=0,a=Or;var h=n?1:-1;return o>=_t[0]+t&&o<=_t[1]+t?h:0}n?(l=i,i=Re(a),a=Re(l)):(i=Re(i),a=Re(a)),i>a&&(a+=Or);for(var f=0,c=0;c<2;c++){var v=_t[c];if(v+t>o){var d=Math.atan2(s,v);h=n?1:-1,d<0&&(d=Or+d),(d>=i&&d<=a||d+Or>=i&&d+Or<=a)&&(d>Math.PI/2&&d<1.5*Math.PI&&(h=-h),f+=h)}}return f}function Wf(t,e,r,i,a){for(var n=0,o=0,s=0,l=0,u=0,h=0;h<t.length;){var f=t[h++];switch(f===Oe.M&&h>1&&(r||(n+=Je(o,s,l,u,i,a))),1===h&&(l=o=t[h],u=s=t[h+1]),f){case Oe.M:o=l=t[h++],s=u=t[h++];break;case Oe.L:if(r){if(Rr(o,s,t[h],t[h+1],e,i,a))return!0}else n+=Je(o,s,t[h],t[h+1],i,a)||0;o=t[h++],s=t[h++];break;case Oe.C:if(r){if(_0(o,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],e,i,a))return!0}else n+=S0(o,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],i,a)||0;o=t[h++],s=t[h++];break;case Oe.Q:if(r){if(m0(o,s,t[h++],t[h++],t[h],t[h+1],e,i,a))return!0}else n+=C0(o,s,t[h++],t[h++],t[h],t[h+1],i,a)||0;o=t[h++],s=t[h++];break;case Oe.A:var c=t[h++],v=t[h++],d=t[h++],p=t[h++],g=t[h++],_=t[h++];h+=1;var m=1-t[h++],y=Math.cos(g)*d+c,x=Math.sin(g)*p+v;h>1?n+=Je(o,s,y,x,i,a):(l=y,u=x);var w=(i-c)*p/d+c;if(r){if(y0(c,v,p,g,g+_,m,e,w,a))return!0}else n+=M0(c,v,p,g,g+_,m,w,a);o=Math.cos(g+_)*d+c,s=Math.sin(g+_)*p+v;break;case Oe.R:if(l=o=t[h++],u=s=t[h++],y=l+t[h++],x=u+t[h++],r){if(Rr(l,u,y,u,e,i,a)||Rr(y,u,y,x,e,i,a)||Rr(y,x,l,x,e,i,a)||Rr(l,x,l,u,e,i,a))return!0}else n+=Je(y,u,y,x,i,a),n+=Je(l,x,l,u,i,a);break;case Oe.Z:if(r){if(Rr(o,s,l,u,e,i,a))return!0}else n+=Je(o,s,l,u,i,a);o=l,s=u}}return!r&&!function(t,e){return Math.abs(t-e)<1e-4}(s,u)&&(n+=Je(o,s,l,u,i,a)||0),0!==n}var Gf=Wh.prototype.getCanvasPattern,Is=Math.abs,D0=new Pe(!0);function je(t){ge.call(this,t),this.path=null}je.prototype={constructor:je,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var c,r=this.style,i=this.path||D0,a=r.hasStroke(),n=r.hasFill(),o=r.fill,s=r.stroke,l=n&&!!o.colorStops,u=a&&!!s.colorStops,h=n&&!!o.image,f=a&&!!s.image;r.bind(t,this,e),this.setTransform(t),this.__dirty&&(l&&(c=c||this.getBoundingRect(),this._fillGradient=r.getGradient(t,o,c)),u&&(c=c||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,s,c))),l?t.fillStyle=this._fillGradient:h&&(t.fillStyle=Gf.call(o,t)),u?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=Gf.call(s,t));var v=r.lineDash,d=r.lineDashOffset,p=!!t.setLineDash,g=this.getGlobalScale();if(i.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||v&&!p&&a?(i.beginPath(t),v&&!p&&(i.setLineDash(v),i.setLineDashOffset(d)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),n)if(null!=r.fillOpacity){var _=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,i.fill(t),t.globalAlpha=_}else i.fill(t);v&&p&&(t.setLineDash(v),t.lineDashOffset=d),a&&(null!=r.strokeOpacity?(_=t.globalAlpha,t.globalAlpha=r.strokeOpacity*r.opacity,i.stroke(t),t.globalAlpha=_):i.stroke(t)),v&&p&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,r){},createPathProxy:function(){this.path=new Pe},getBoundingRect:function(){var t=this._rect,e=this.style,r=!t;if(r){var i=this.path;i||(i=this.path=new Pe),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){a.copy(t);var n=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),o>1e-10&&(a.width+=n/o,a.height+=n/o,a.x-=n/o/2,a.y-=n/o/2)}return a}return t},contain:function(t,e){var r=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),a=this.style;if(i.contain(t=r[0],e=r[1])){var n=this.path.data;if(a.hasStroke()){var o=a.lineWidth,s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(a.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),function(t,e,r,i){return Wf(t,e,!0,r,i)}(n,o/s,t,e)))return!0}if(a.hasFill())return function(t,e,r){return Wf(t,0,!1,e,r)}(n,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):ge.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var r=this.shape;if(r){if(z(t))for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);else r[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&Is(t[0]-1)>1e-10&&Is(t[3]-1)>1e-10?Math.sqrt(Is(t[0]*t[3]-t[2]*t[1])):1}},je.extend=function(t){var e=function(i){je.call(this,i),t.style&&this.style.extendFrom(t.style,!1);var a=t.shape;if(a){this.shape=this.shape||{};var n=this.shape;for(var o in a)!n.hasOwnProperty(o)&&a.hasOwnProperty(o)&&(n[o]=a[o])}t.init&&t.init.call(this,i)};for(var r in xt(e,je),t)"style"!==r&&"shape"!==r&&(e.prototype[r]=t[r]);return e},xt(je,ge);const tt=je;var Er=Pe.CMD,L0=[[],[],[]],Zf=Math.sqrt,I0=Math.atan2,Ps=Math.sqrt,Ka=Math.sin,Qa=Math.cos,$a=Math.PI,Uf=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Rs=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Uf(t)*Uf(e))},Yf=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Rs(t,e))};function Xf(t,e,r,i,a,n,o,s,l,u,h){var f=l*($a/180),c=Qa(f)*(t-r)/2+Ka(f)*(e-i)/2,v=-1*Ka(f)*(t-r)/2+Qa(f)*(e-i)/2,d=c*c/(o*o)+v*v/(s*s);d>1&&(o*=Ps(d),s*=Ps(d));var p=(a===n?-1:1)*Ps((o*o*(s*s)-o*o*(v*v)-s*s*(c*c))/(o*o*(v*v)+s*s*(c*c)))||0,g=p*o*v/s,_=p*-s*c/o,m=(t+r)/2+Qa(f)*g-Ka(f)*_,y=(e+i)/2+Ka(f)*g+Qa(f)*_,x=Yf([1,0],[(c-g)/o,(v-_)/s]),w=[(c-g)/o,(v-_)/s],C=[(-1*c-g)/o,(-1*v-_)/s],b=Yf(w,C);Rs(w,C)<=-1&&(b=$a),Rs(w,C)>=1&&(b=0),0===n&&b>0&&(b-=2*$a),1===n&&b<0&&(b+=2*$a),h.addData(u,m,y,o,s,x,b,f,n)}var R0=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,O0=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function qf(t,e){var r=function(t){if(!t)return new Pe;for(var n,e=0,r=0,i=e,a=r,o=new Pe,s=Pe.CMD,l=t.match(R0),u=0;u<l.length;u++){for(var c,h=l[u],f=h.charAt(0),v=h.match(O0)||[],d=v.length,p=0;p<d;p++)v[p]=parseFloat(v[p]);for(var g=0;g<d;){var _,m,y,x,w,C,b,M=e,T=r;switch(f){case"l":e+=v[g++],r+=v[g++],o.addData(c=s.L,e,r);break;case"L":e=v[g++],r=v[g++],o.addData(c=s.L,e,r);break;case"m":e+=v[g++],r+=v[g++],o.addData(c=s.M,e,r),i=e,a=r,f="l";break;case"M":e=v[g++],r=v[g++],o.addData(c=s.M,e,r),i=e,a=r,f="L";break;case"h":e+=v[g++],o.addData(c=s.L,e,r);break;case"H":e=v[g++],o.addData(c=s.L,e,r);break;case"v":r+=v[g++],o.addData(c=s.L,e,r);break;case"V":r=v[g++],o.addData(c=s.L,e,r);break;case"C":o.addData(c=s.C,v[g++],v[g++],v[g++],v[g++],v[g++],v[g++]),e=v[g-2],r=v[g-1];break;case"c":o.addData(c=s.C,v[g++]+e,v[g++]+r,v[g++]+e,v[g++]+r,v[g++]+e,v[g++]+r),e+=v[g-2],r+=v[g-1];break;case"S":_=e,m=r;var D=o.len(),A=o.data;n===s.C&&(_+=e-A[D-4],m+=r-A[D-3]),M=v[g++],T=v[g++],e=v[g++],r=v[g++],o.addData(c=s.C,_,m,M,T,e,r);break;case"s":_=e,m=r,D=o.len(),A=o.data,n===s.C&&(_+=e-A[D-4],m+=r-A[D-3]),M=e+v[g++],T=r+v[g++],e+=v[g++],r+=v[g++],o.addData(c=s.C,_,m,M,T,e,r);break;case"Q":M=v[g++],T=v[g++],e=v[g++],r=v[g++],o.addData(c=s.Q,M,T,e,r);break;case"q":M=v[g++]+e,T=v[g++]+r,e+=v[g++],r+=v[g++],o.addData(c=s.Q,M,T,e,r);break;case"T":_=e,m=r,D=o.len(),A=o.data,n===s.Q&&(_+=e-A[D-4],m+=r-A[D-3]),e=v[g++],r=v[g++],o.addData(c=s.Q,_,m,e,r);break;case"t":_=e,m=r,D=o.len(),A=o.data,n===s.Q&&(_+=e-A[D-4],m+=r-A[D-3]),e+=v[g++],r+=v[g++],o.addData(c=s.Q,_,m,e,r);break;case"A":y=v[g++],x=v[g++],w=v[g++],C=v[g++],b=v[g++],Xf(M=e,T=r,e=v[g++],r=v[g++],C,b,y,x,w,c=s.A,o);break;case"a":y=v[g++],x=v[g++],w=v[g++],C=v[g++],b=v[g++],Xf(M=e,T=r,e+=v[g++],r+=v[g++],C,b,y,x,w,c=s.A,o)}}("z"===f||"Z"===f)&&(o.addData(c=s.Z),e=i,r=a),n=c}return o.toStatic(),o}(t);return(e=e||{}).buildPath=function(i){var a;i.setData?(i.setData(r.data),(a=i.getContext())&&i.rebuildPath(a)):r.rebuildPath(a=i)},e.applyTransform=function(i){(function(t,e){var i,a,n,o,s,r=t.data,u=Er.M,h=Er.C,f=Er.L,c=Er.R,v=Er.A,d=Er.Q;for(n=0,o=0;n<r.length;){switch(i=r[n++],o=n,a=0,i){case u:case f:a=1;break;case h:a=3;break;case d:a=2;break;case v:var p=e[4],g=e[5],_=Zf(e[0]*e[0]+e[1]*e[1]),m=Zf(e[2]*e[2]+e[3]*e[3]),y=I0(-e[1]/m,e[0]/_);r[n]*=_,r[n++]+=p,r[n]*=m,r[n++]+=g,r[n++]*=_,r[n++]*=m,r[n++]+=y,r[n++]+=y,o=n+=2;break;case c:l[0]=r[n++],l[1]=r[n++],Ht(l,l,e),r[o++]=l[0],r[o++]=l[1],l[0]+=r[n++],l[1]+=r[n++],Ht(l,l,e),r[o++]=l[0],r[o++]=l[1]}for(s=0;s<a;s++){var l;(l=L0[s])[0]=r[n++],l[1]=r[n++],Ht(l,l,e),r[o++]=l[0],r[o++]=l[1]}}})(r,i),this.dirty(!0)},e}function Kf(t,e){return new tt(qf(t,e))}var Ja=function(t){ge.call(this,t)};Ja.prototype={constructor:Ja,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&as(r),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var i=r.text;null!=i&&(i+=""),uf(i,r)?(this.setTransform(t),rf(this,t,i,r,null,e),this.restoreTransform(t)):t.__attrCachedBy=0},getBoundingRect:function(){var t=this.style;if(this.__dirty&&as(t),!this._rect){var e=t.text;null!=e?e+="":e="";var r=Da(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(r.x+=t.x||0,r.y+=t.y||0,ls(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;r.x-=i/2,r.y-=i/2,r.width+=i,r.height+=i}this._rect=r}return this._rect}},xt(Ja,ge);const tr=Ja,ja=tt.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,r){r&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});var Ee=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];const Si=tt.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:function(t){return k.browser.ie&&k.browser.version>=11?function(){var i,e=this.__clipPaths,r=this.style;if(e)for(var a=0;a<e.length;a++){var n=e[a],o=n&&n.shape,s=n&&n.type;if(o&&("sector"===s&&o.startAngle===o.endAngle||"rect"===s&&(!o.width||!o.height))){for(var l=0;l<Ee.length;l++)Ee[l][2]=r[Ee[l][0]],r[Ee[l][0]]=Ee[l][1];i=!0;break}}if(t.apply(this,arguments),i)for(l=0;l<Ee.length;l++)r[Ee[l][0]]=Ee[l][2]}:t}(tt.prototype.brush),buildPath:function(t,e){var r=e.cx,i=e.cy,a=Math.max(e.r0||0,0),n=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(o),h=Math.sin(o);t.moveTo(u*a+r,h*a+i),t.lineTo(u*n+r,h*n+i),t.arc(r,i,n,o,s,!l),t.lineTo(Math.cos(s)*a+r,Math.sin(s)*a+i),0!==a&&t.arc(r,i,a,s,o,l),t.closePath()}}),Qf=tt.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var r=e.cx,i=e.cy,a=2*Math.PI;t.moveTo(r+e.r,i),t.arc(r,i,e.r,0,a,!1),t.moveTo(r+e.r0,i),t.arc(r,i,e.r0,0,a,!0)}});function $f(t,e,r,i,a,n,o){var s=.5*(r-t),l=.5*(i-e);return(2*(e-r)+s+l)*o+(-3*(e-r)-2*s-l)*n+s*a+e}function Jf(t,e,r){var i=e.points,a=e.smooth;if(i&&i.length>=2){if(a&&"spline"!==a){var n=function(t,e,r,i){var l,u,h,f,a=[],n=[],o=[],s=[];if(i){h=[1/0,1/0],f=[-1/0,-1/0];for(var c=0,v=t.length;c<v;c++)yr(h,h,t[c]),xr(f,f,t[c]);yr(h,h,i[0]),xr(f,f,i[1])}for(c=0,v=t.length;c<v;c++){var d=t[c];if(r)l=t[c?c-1:v-1],u=t[(c+1)%v];else{if(0===c||c===v-1){a.push(ju(t[c]));continue}l=t[c-1],u=t[c+1]}eh(n,u,l),fo(n,n,e);var p=fa(d,l),g=fa(d,u),_=p+g;0!==_&&(p/=_,g/=_),fo(o,n,-p),fo(s,n,g);var m=th([],d,o),y=th([],d,s);i&&(xr(m,m,h),yr(m,m,f),xr(y,y,h),yr(y,y,f)),a.push(m),a.push(y)}return r&&a.push(a.shift()),a}(i,a,r,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(r?o:o-1);s++){var l=n[2*s],u=n[2*s+1],h=i[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===a&&(i=function(t,e){for(var r=t.length,i=[],a=0,n=1;n<r;n++)a+=fa(t[n-1],t[n]);var o=a/2;for(o=o<r?r:o,n=0;n<o;n++){var h,c,v,s=n/(o-1)*(e?r:r-1),l=Math.floor(s),u=s-l,f=t[l%r];e?(h=t[(l-1+r)%r],c=t[(l+1)%r],v=t[(l+2)%r]):(h=t[0===l?l:l-1],c=t[l>r-2?r-1:l+1],v=t[l>r-3?r-1:l+2]);var d=u*u,p=u*d;i.push([$f(h[0],f[0],c[0],v[0],u,d,p),$f(h[1],f[1],c[1],v[1],u,d,p)])}return i}(i,r)),t.moveTo(i[0][0],i[0][1]),s=1;for(var f=i.length;s<f;s++)t.lineTo(i[s][0],i[s][1])}r&&t.closePath()}}const tn=tt.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Jf(t,e,!0)}}),en=tt.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Jf(t,e,!1)}});var kr=Math.round;function jf(t,e,r){if(e){var i=e.x1,a=e.x2,n=e.y1,o=e.y2;t.x1=i,t.x2=a,t.y1=n,t.y2=o;var s=r&&r.lineWidth;!s||(kr(2*i)===kr(2*a)&&(t.x1=t.x2=er(i,s,!0)),kr(2*n)===kr(2*o)&&(t.y1=t.y2=er(n,s,!0)))}}function tc(t,e,r){if(e){var i=e.x,a=e.y,n=e.width,o=e.height;t.x=i,t.y=a,t.width=n,t.height=o;var s=r&&r.lineWidth;!s||(t.x=er(i,s,!0),t.y=er(a,s,!0),t.width=Math.max(er(i+n,s,!1)-t.x,0===n?0:1),t.height=Math.max(er(a+o,s,!1)-t.y,0===o?0:1))}}function er(t,e,r){if(!e)return t;var i=kr(2*t);return(i+kr(e))%2==0?i/2:(i+(r?1:-1))/2}var rr={};const it=tt.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var r,i,a,n;this.subPixelOptimize?(tc(rr,e,this.style),r=rr.x,i=rr.y,a=rr.width,n=rr.height,rr.r=e.r,e=rr):(r=e.x,i=e.y,a=e.width,n=e.height),e.r?$h(t,e):t.rect(r,i,a,n),t.closePath()}});var Ci={};const pe=tt.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,i,a,n;this.subPixelOptimize?(jf(Ci,e,this.style),r=Ci.x1,i=Ci.y1,a=Ci.x2,n=Ci.y2):(r=e.x1,i=e.y1,a=e.x2,n=e.y2);var o=e.percent;0!==o&&(t.moveTo(r,i),o<1&&(a=r*(1-o)+a*o,n=i*(1-o)+n*o),t.lineTo(a,n))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});var Tt=[];function ec(t,e,r){return null===t.cpx2||null===t.cpy2?[(r?If:pt)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?If:pt)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?Of:St)(t.x1,t.cpx1,t.x2,e),(r?Of:St)(t.y1,t.cpy1,t.y2,e)]}const Os=tt.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1,i=e.y1,a=e.x2,n=e.y2,o=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(r,i),null==l||null==u?(h<1&&(kf(r,o,a,h,Tt),o=Tt[1],a=Tt[2],kf(i,s,n,h,Tt),s=Tt[1],n=Tt[2]),t.quadraticCurveTo(o,s,a,n)):(h<1&&(Rf(r,o,l,a,h,Tt),o=Tt[1],l=Tt[2],a=Tt[3],Rf(i,s,u,n,h,Tt),s=Tt[1],u=Tt[2],n=Tt[3]),t.bezierCurveTo(o,s,l,u,a,n)))},pointAt:function(t){return ec(this.shape,t,!1)},tangentAt:function(t){var e=ec(this.shape,t,!0);return co(e,e)}}),Es=tt.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.cx,i=e.cy,a=Math.max(e.r,0),n=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(n),u=Math.sin(n);t.moveTo(l*a+r,u*a+i),t.arc(r,i,a,n,o,!s)}}),V0=tt.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,r=0;r<e.length;r++)t=t||e[r].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(e[0],e[1],t[r].segmentIgnoreThreshold)},buildPath:function(t,e){for(var r=e.paths||[],i=0;i<r.length;i++)r[i].buildPath(t,r[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),tt.prototype.getBoundingRect.call(this)}});var ks=function(t){this.colorStops=t||[]};ks.prototype={constructor:ks,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};const Mi=ks;var rn=function(t,e,r,i,a,n){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==r?1:r,this.y2=null==i?0:i,this.type="linear",this.global=n||!1,Mi.call(this,a)};rn.prototype={constructor:rn},xt(rn,Mi);const rc=rn;var an=function(t,e,r,i,a){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==r?.5:r,this.type="radial",this.global=a||!1,Mi.call(this,i)};an.prototype={constructor:an},xt(an,Mi);const H0=an;function qt(t){ge.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}qt.prototype.incremental=!0,qt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},qt.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},qt.prototype.addDisplayables=function(t,e){e=e||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],e)},qt.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},qt.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},qt.prototype.brush=function(t,e){for(var r=this._cursor;r<this._displayables.length;r++)(i=this._displayables[r]).beforeBrush&&i.beforeBrush(t),i.brush(t,r===this._cursor?null:this._displayables[r-1]),i.afterBrush&&i.afterBrush(t);for(this._cursor=r,r=0;r<this._temporaryDisplayables.length;r++){var i;(i=this._temporaryDisplayables[r]).beforeBrush&&i.beforeBrush(t),i.brush(t,0===r?null:this._temporaryDisplayables[r-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var W0=[];qt.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new gt(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var r=this._displayables[e],i=r.getBoundingRect().clone();r.needLocalTransform()&&i.applyTransform(r.getLocalTransform(W0)),t.union(i)}this._rect=t}return this._rect},qt.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(t,e))return!0;return!1},xt(qt,ge);const ic=qt;var nn=Math.max,on=Math.min,sn={},Bs=1,G0={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},ac="emphasis",oc=1,sc={},zs={};function _e(t){return tt.extend(t)}function Z0(t,e){return function(t,e){return tt.extend(qf(t,e))}(t,e)}function ue(t,e){zs[t]=e}function U0(t){if(zs.hasOwnProperty(t))return zs[t]}function Ns(t,e,r,i){var a=Kf(t,e);return r&&("center"===i&&(r=uc(r,a.getBoundingRect())),hc(a,r)),a}function lc(t,e,r){var i=new Ar({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(a){"center"===r&&i.setStyle(uc(e,{width:a.width,height:a.height}))}});return i}function uc(t,e){var a,r=e.width/e.height,i=t.height*r;return a=i<=t.width?t.height:(i=t.width)/r,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-a/2,width:i,height:a}}var Y0=function(t,e){for(var r=[],i=t.length,a=0;a<i;a++){var n=t[a];n.path||n.createPathProxy(),n.__dirtyPath&&n.buildPath(n.path,n.shape,!0),r.push(n.path)}var o=new tt(e);return o.createPathProxy(),o.buildPath=function(s){s.appendPath(r);var l=s.getContext();l&&s.rebuildPath(l)},o};function hc(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function X0(t){return jf(t.shape,t.shape,t.style),t}function q0(t){return tc(t.shape,t.shape,t.style),t}var K0=er;function fc(t){return null!=t&&"none"!==t}var cc=W(),vc=0;function Fs(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var r=t.__zr,i=t.useHoverLayer&&r&&"canvas"===r.painter.type;if(t.__highlighted=i?"layer":"plain",!(t.isGroup||!r&&t.useHoverLayer)){var a=t,n=t.style;i&&(n=(a=r.addHover(t)).style),hn(n),i||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(!e)return void(t.__cachedNormalStl=t.__cachedNormalZ2=null);var r=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var a in e)null!=e[a]&&(r[a]=i[a]);r.fill=i.fill,r.stroke=i.stroke}}(a),n.extendFrom(e),dc(n,e,"fill"),dc(n,e,"stroke"),Ai(n),i||(t.dirty(!1),t.z2+=Bs)}}}function dc(t,e,r){!fc(e[r])&&fc(t[r])&&(t[r]=function(t){if("string"!=typeof t)return t;var e=cc.get(t);return e||(e=function(t,e){var r=Ce(t);if(r){for(var i=0;i<3;i++)r[i]=1.1*r[i]|0,r[i]>255?r[i]=255:t[i]<0&&(r[i]=0);return vi(r,4===r.length?"rgba":"rgb")}}(t),vc<1e4&&(cc.set(t,e),vc++)),e}(t[r]))}function Vs(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var r=t.style,i=t.__cachedNormalStl;i&&(hn(r),t.setStyle(i),Ai(r));var a=t.__cachedNormalZ2;null!=a&&t.z2-a===Bs&&(t.z2=a)}}function Ti(t,e,r){var n,i="normal",a="normal";t.__highlighted&&(i=ac,n=!0),e(t,r),t.__highlighted&&(a=ac,n=!0),t.isGroup&&t.traverse(function(o){!o.isGroup&&e(o,r)}),n&&t.__highDownOnUpdate&&t.__highDownOnUpdate(i,a)}function gc(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,Vs(t),Fs(t))}function J0(t){!pc(this,t)&&!this.__highByOuter&&Ti(this,Fs)}function j0(t){!pc(this,t)&&!this.__highByOuter&&Ti(this,Vs)}function tm(t){this.__highByOuter|=1<<(t||0),Ti(this,Fs)}function em(t){!(this.__highByOuter&=~(1<<(t||0)))&&Ti(this,Vs)}function pc(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function ln(t,e){_c(t,!0),Ti(t,gc,e)}function _c(t,e){var r=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!r||t.__highDownDispatcher){var i=r?"off":"on";t[i]("mouseover",J0)[i]("mouseout",j0),t[i]("emphasis",tm)[i]("normal",em),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!r}}function mc(t){return!(!t||!t.__highDownDispatcher)}function yc(t){var e=sc[t];return null==e&&oc<=32&&(e=sc[t]=oc++),e}function Hs(t,e,r,i,a,n,o){var v,s=(a=a||sn).labelFetcher,l=a.labelDataIndex,u=a.labelDimIndex,h=a.labelProp,f=r.getShallow("show"),c=i.getShallow("show");(f||c)&&(s&&(v=s.getFormattedLabel(l,"normal",null,u,h)),null==v&&(v=wt(a.defaultText)?a.defaultText(l,a):a.defaultText));var d=f?v:null,p=c?At(s?s.getFormattedLabel(l,"emphasis",null,u,h):null,v):null;(null!=d||null!=p)&&(ir(t,r,n,a),ir(e,i,o,a,!0)),t.text=d,e.text=p}function rm(t,e,r){var i=t.style;e&&(hn(i),t.setStyle(e),Ai(i)),i=t.__hoverStl,r&&i&&(hn(i),V(i,r),Ai(i))}function ir(t,e,r,i,a){return xc(t,e,i,a),r&&V(t,r),t}function im(t,e,r){var a,i={isRectText:!0};!1===r?a=!0:i.autoColor=r,xc(t,e,i,a)}function xc(t,e,r,i){if((r=r||sn).isRectText){var a;r.getTextPosition?a=r.getTextPosition(e,i):"outside"===(a=e.getShallow("position")||(i?null:"inside"))&&(a="top"),t.textPosition=a,t.textOffset=e.getShallow("offset");var n=e.getShallow("rotate");null!=n&&(n*=Math.PI/180),t.textRotation=n,t.textDistance=At(e.getShallow("distance"),i?null:5)}var u,o=e.ecModel,s=o&&o.option.textStyle,l=function(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||sn).rich;if(r)for(var i in e=e||{},r)r.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}(e);if(l)for(var h in u={},l)if(l.hasOwnProperty(h)){var f=e.getModel(["rich",h]);wc(u[h]={},f,s,r,i)}return t.rich=u,wc(t,e,s,r,i,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),t}function wc(t,e,r,i,a,n){r=!a&&r||sn,t.textFill=un(e.getShallow("color"),i)||r.color,t.textStroke=un(e.getShallow("textBorderColor"),i)||r.textBorderColor,t.textStrokeWidth=At(e.getShallow("textBorderWidth"),r.textBorderWidth),a||(n&&(t.insideRollbackOpt=i,Ai(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||r.fontStyle,t.fontWeight=e.getShallow("fontWeight")||r.fontWeight,t.fontSize=e.getShallow("fontSize")||r.fontSize,t.fontFamily=e.getShallow("fontFamily")||r.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),(!n||!i.disableBox)&&(t.textBackgroundColor=un(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=un(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||r.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||r.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||r.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function un(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Ai(t){var i,e=t.textPosition,r=t.insideRollbackOpt;if(r&&null==t.textFill){var a=r.autoColor,o=r.useInsideStyle,s=!1!==o&&(!0===o||r.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0),l=!s&&null!=a;(s||l)&&(i={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=a,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=a)}t.insideRollback=i}function hn(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function bc(t,e){var r=e&&e.getModel("textStyle");return Vt([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function Sc(t,e,r,i,a,n){if("function"==typeof a&&(n=a,a=null),i&&i.isAnimationEnabled()){var s=t?"Update":"",l=i.getShallow("animationDuration"+s),u=i.getShallow("animationEasing"+s),h=i.getShallow("animationDelay"+s);"function"==typeof h&&(h=h(a,i.getAnimationDelayParams?i.getAnimationDelayParams(e,a):null)),"function"==typeof l&&(l=l(a)),l>0?e.animateTo(r,l,h||0,u,n,!!n):(e.stopAnimation(),e.attr(r),n&&n())}else e.stopAnimation(),e.attr(r),n&&n()}function Kt(t,e,r,i,a){Sc(!0,t,e,r,i,a)}function Di(t,e,r,i,a){Sc(!1,t,e,r,i,a)}function Cc(t,e){for(var r=ca([]);t&&t!==e;)Sr(r,t.getLocalTransform(),r),t=t.parent;return r}function Li(t,e,r){return e&&!we(e)&&(e=Do.getLocalTransform(e)),r&&(e=gh([],e)),Ht([],t,e)}function Mc(t,e,r){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),a=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),n=["left"===t?-i:"right"===t?i:0,"top"===t?-a:"bottom"===t?a:0];return n=Li(n,e,r),Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function Tc(t,e,r,i){if(t&&e){var l,o=(l={},t.traverse(function(u){!u.isGroup&&u.anid&&(l[u.anid]=u)}),l);e.traverse(function(s){if(!s.isGroup&&s.anid){var l=o[s.anid];if(l){var u=n(s);s.attr(n(l)),Kt(s,u,r,s.dataIndex)}}})}function n(s){var l={position:ju(s.position),rotation:s.rotation};return s.shape&&(l.shape=V({},s.shape)),l}}function nm(t,e){return E(t,function(r){var i=r[0];i=nn(i,e.x),i=on(i,e.x+e.width);var a=r[1];return a=nn(a,e.y),[i,a=on(a,e.y+e.height)]})}function om(t,e){var r=nn(t.x,e.x),i=on(t.x+t.width,e.x+e.width),a=nn(t.y,e.y),n=on(t.y+t.height,e.y+e.height);if(i>=r&&n>=a)return{x:r,y:a,width:i-r,height:n-a}}function Ws(t,e,r){var i=(e=V({rectHover:!0},e)).style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),Y(i,r),new Ar(e)):Ns(t.replace("path://",""),e,r,"center")}function sm(t,e,r,i,a){for(var n=0,o=a[a.length-1];n<a.length;n++){var s=a[n];if(Ac(t,e,r,i,s[0],s[1],o[0],o[1]))return!0;o=s}}function Ac(t,e,r,i,a,n,o,s){var l=r-t,u=i-e,h=o-a,f=s-n,c=Gs(h,f,l,u);if(function(t){return t<=1e-6&&t>=-1e-6}(c))return!1;var v=t-a,d=e-n,p=Gs(v,d,l,u)/c;if(p<0||p>1)return!1;var g=Gs(v,d,h,f)/c;return!(g<0||g>1)}function Gs(t,e,r,i){return t*i-r*e}ue("circle",ja),ue("sector",Si),ue("ring",Qf),ue("polygon",tn),ue("polyline",en),ue("rect",it),ue("line",pe),ue("bezierCurve",Os),ue("arc",Es);var um=["textStyle","color"];const hm={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(um):null)},getFont:function(){return bc({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return Da(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}};var fm=Va([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);const cm={getItemStyle:function(t,e){var r=fm(this,t,e),i=this.getBorderLineDash();return i&&(r.lineDash=i),r},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}};var fn=at,Dc=Xt();function he(t,e,r){this.parentModel=e,this.ecModel=r,this.option=t}function Lc(t,e,r){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&r&&(t=r.get(e)),t}function Zs(t,e){var r=Dc(t).getParent;return r?r.call(t,e):t.parentModel}he.prototype={constructor:he,init:null,mergeOption:function(t){F(this.option,t,!0)},get:function(t,e){return null==t?this.option:Lc(this.option,this.parsePath(t),!e&&Zs(this,t))},getShallow:function(t,e){var r=this.option,i=null==r?r:r[t],a=!e&&Zs(this,t);return null==i&&a&&(i=a.getShallow(t)),i},getModel:function(t,e){var i;return new he(null==t?this.option:Lc(this.option,t=this.parsePath(t)),e=e||(i=Zs(this,t))&&i.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(Q(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Dc(this).getParent=t},isAnimationEnabled:function(){if(!k.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},yi(he),Tf(he),fn(he,s0),fn(he,u0),fn(he,hm),fn(he,cm);const Qt=he;var vm=0;function cn(t){return[t||"",vm++,Math.random().toFixed(5)].join("_")}function ke(t,e,r,i){var a=e[1]-e[0],n=r[1]-r[0];if(0===a)return 0===n?r[0]:(r[0]+r[1])/2;if(i)if(a>0){if(t<=e[0])return r[0];if(t>=e[1])return r[1]}else{if(t>=e[0])return r[0];if(t<=e[1])return r[1]}else{if(t===e[0])return r[0];if(t===e[1])return r[1]}return(t-e[0])/a*n+r[0]}function et(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?function(t){return t.replace(/^\s+|\s+$/g,"")}(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function ut(t,e,r){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),r?t:+t}function Pc(t){return t.sort(function(e,r){return e-r}),t}function Us(t){var e=t.toString(),r=e.indexOf("e");if(r>0){var i=+e.slice(r+1);return i<0?-i:0}var a=e.indexOf(".");return a<0?0:e.length-1-a}function Rc(t,e){var r=Math.log,i=Math.LN10,a=Math.floor(r(t[1]-t[0])/i),n=Math.round(r(Math.abs(e[1]-e[0]))/i),o=Math.min(Math.max(-a+n,0),20);return isFinite(o)?o:20}function Oc(t){var e=2*Math.PI;return(t%e+e)%e}function vn(t){return t>-1e-4&&t<1e-4}var mm=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ys(t){if(t instanceof Date)return t;if("string"==typeof t){var e=mm.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(r-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Ec(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function kc(t,e){var r=Ec(t),i=Math.pow(10,r),a=t/i;return t=(e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10)*i,r>=-20?+t.toFixed(r<0?-r:0):t}function dn(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}var Xs=Ku,wm=/([&<>"'])/g,bm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $t(t){return null==t?"":(t+"").replace(wm,function(e,r){return bm[r]})}var Bc=["a","b","c","d","e","f","g"],qs=function(t,e){return"{"+t+(null==e?"":e)+"}"};function zc(t,e,r){O(e)||(e=[e]);var i=e.length;if(!i)return"";for(var a=e[0].$vars||[],n=0;n<a.length;n++){var o=Bc[n];t=t.replace(qs(o),qs(o,0))}for(var s=0;s<i;s++)for(var l=0;l<a.length;l++){var u=e[s][a[l]];t=t.replace(qs(Bc[l],s),r?$t(u):u)}return t}function Ks(t,e){var r=(t=j(t)?{color:t,extraCssText:e}:t||{}).color,a=(e=t.extraCssText,t.renderMode||"html"),n=t.markerId||"X";return r?"html"===a?"subItem"===t.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$t(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+$t(r)+";"+(e||"")+'"></span>':{renderMode:a,content:"{marker"+n+"|}  ",style:{color:r}}:""}function Br(t,e){return"0000".substr(0,e-(t+="").length)+t}function Nc(t,e,r){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var i=Ys(e),a=r?"UTC":"",n=i["get"+a+"FullYear"](),o=i["get"+a+"Month"]()+1,s=i["get"+a+"Date"](),l=i["get"+a+"Hours"](),u=i["get"+a+"Minutes"](),h=i["get"+a+"Seconds"](),f=i["get"+a+"Milliseconds"]();return t.replace("MM",Br(o,2)).replace("M",o).replace("yyyy",n).replace("yy",n%100).replace("dd",Br(s,2)).replace("d",s).replace("hh",Br(l,2)).replace("h",l).replace("mm",Br(u,2)).replace("m",u).replace("ss",Br(h,2)).replace("s",h).replace("SSS",Br(f,3))}function Fc(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)}var Sm=Uh,gn=S,Cm=["left","right","top","bottom","width","height"],ar=[["width","left","right"],["height","top","bottom"]];function Vc(t,e,r,i,a){var n=0,o=0;null==i&&(i=1/0),null==a&&(a=1/0);var s=0;e.eachChild(function(l,u){var d,p,h=l.position,f=l.getBoundingRect(),c=e.childAt(u+1),v=c&&c.getBoundingRect();if("horizontal"===t){var g=f.width+(v?-v.x+f.x:0);(d=n+g)>i||l.newline?(n=0,d=g,o+=s+r,s=f.height):s=Math.max(s,f.height)}else{var _=f.height+(v?-v.y+f.y:0);(p=o+_)>a||l.newline?(n+=s+r,o=0,p=_,s=f.width):s=Math.max(s,f.width)}l.newline||(h[0]=n,h[1]=o,"horizontal"===t?n=d+r:o=p+r)})}function pn(t,e,r){r=Xs(r||0);var i=e.width,a=e.height,n=et(t.left,i),o=et(t.top,a),s=et(t.right,i),l=et(t.bottom,a),u=et(t.width,i),h=et(t.height,a),f=r[2]+r[0],c=r[1]+r[3],v=t.aspect;switch(isNaN(u)&&(u=i-s-c-n),isNaN(h)&&(h=a-l-f-o),null!=v&&(isNaN(u)&&isNaN(h)&&(v>i/a?u=.8*i:h=.8*a),isNaN(u)&&(u=v*h),isNaN(h)&&(h=u/v)),isNaN(n)&&(n=i-s-u-c),isNaN(o)&&(o=a-l-h-f),t.left||t.right){case"center":n=i/2-u/2-r[3];break;case"right":n=i-u-c}switch(t.top||t.bottom){case"middle":case"center":o=a/2-h/2-r[0];break;case"bottom":o=a-h-f}n=n||0,o=o||0,isNaN(u)&&(u=i-c-n-(s||0)),isNaN(h)&&(h=a-f-o-(l||0));var d=new gt(n+r[3],o+r[0],u,h);return d.margin=r,d}function Ii(t,e,r){!z(r)&&(r={});var i=r.ignoreSize;!O(i)&&(i=[i,i]);var a=o(ar[0],0),n=o(ar[1],1);function o(h,f){var c={},v=0,d={},p=0;if(gn(h,function(y){d[y]=t[y]}),gn(h,function(y){s(e,y)&&(c[y]=d[y]=e[y]),l(c,y)&&v++,l(d,y)&&p++}),i[f])return l(e,h[1])?d[h[2]]=null:l(e,h[2])&&(d[h[1]]=null),d;if(2===p||!v)return d;if(v>=2)return c;for(var _=0;_<h.length;_++){var m=h[_];if(!s(c,m)&&s(t,m)){c[m]=t[m];break}}return c}function s(h,f){return h.hasOwnProperty(f)}function l(h,f){return null!=h[f]&&"auto"!==h[f]}function u(h,f,c){gn(h,function(v){f[v]=c[v]})}u(ar[0],t,a),u(ar[1],t,n)}function _n(t){return function(t,e){return e&&t&&gn(Cm,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}({},t)}nt(Vc,"vertical"),nt(Vc,"horizontal");var Am=Xt(),zr=Qt.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,r,i){Qt.call(this,t,e,r,i),this.uid=cn("ec_cpt_model")},init:function(t,e,r,i){this.mergeDefaultAndTheme(t,r)},mergeDefaultAndTheme:function(t,e){var r=this.layoutMode,i=r?_n(t):{};F(t,e.getTheme().get(this.mainType)),F(t,this.getDefaultOption()),r&&Ii(t,i,r)},mergeOption:function(t,e){F(this.option,t,!0);var r=this.layoutMode;r&&Ii(this.option,t,r)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Am(this);if(!t.defaultOption){for(var e=[],r=this.constructor;r;){var i=r.prototype.defaultOption;i&&e.push(i),r=r.superClass}for(var a={},n=e.length-1;n>=0;n--)a=F(a,e[n],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});Fa(zr,{registerWhenExtend:!0}),function(t){var e={};t.registerSubTypeDefaulter=function(r,i){r=Ae(r),e[r.main]=i},t.determineSubType=function(r,i){var a=i.type;if(!a){var n=Ae(r).main;t.hasSubTypes(r)&&e[n]&&(a=e[n](i))}return a}}(zr),function(t,e){function i(n,o){return n[o]||(n[o]={predecessor:[],successor:[]}),n[o]}t.topologicalTravel=function(n,o,s,l){if(n.length){var u=function(n){var o={},s=[];return S(n,function(l){var u=i(o,l),f=function(n,o){var s=[];return S(n,function(l){G(o,l)>=0&&s.push(l)}),s}(u.originalDeps=function(t){var e=[];return S(zr.getClassesByMainType(t),function(r){e=e.concat(r.prototype.dependencies||[])}),e=E(e,function(r){return Ae(r).main}),"dataset"!==t&&G(e,"dataset")<=0&&e.unshift("dataset"),e}(l),n);u.entryCount=f.length,0===u.entryCount&&s.push(l),S(f,function(c){G(u.predecessor,c)<0&&u.predecessor.push(c);var v=i(o,c);G(v.successor,c)<0&&v.successor.push(l)})}),{graph:o,noEntryList:s}}(o),h=u.graph,f=u.noEntryList,c={};for(S(n,function(m){c[m]=!0});f.length;){var v=f.pop(),d=h[v],p=!!c[v];p&&(s.call(l,v,d.originalDeps.slice()),delete c[v]),S(d.successor,p?_:g)}S(c,function(){throw new Error("Circle dependency may exists")})}function g(m){h[m].entryCount--,0===h[m].entryCount&&f.push(m)}function _(m){c[m]=!0,g(m)}}}(zr),at(zr,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});const rt=zr;var Hc="";"undefined"!=typeof navigator&&(Hc=navigator.platform||"");const Lm={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Hc.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Qs=Xt();const $s={clearColorPalette:function(){Qs(this).colorIdx=0,Qs(this).colorNameMap={}},getColorFromPalette:function(t,e,r){var i=Qs(e=e||this),a=i.colorIdx||0,n=i.colorNameMap=i.colorNameMap||{};if(n.hasOwnProperty(t))return n[t];var o=bt(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=r&&s?function(t,e){for(var r=t.length,i=0;i<r;i++)if(t[i].length>e)return t[i];return t[r-1]}(s,r):o;if((l=l||o)&&l.length){var u=l[a];return t&&(n[t]=u),i.colorIdx=(a+1)%l.length,u}}};var Pi="original",Ri="arrayRows",Js="objectRows",mn="keyedColumns",Wc="unknown",Oi="typedArray",js="row";function yn(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===mn?{}:[]),this.sourceFormat=t.sourceFormat||Wc,this.seriesLayoutBy=t.seriesLayoutBy||"column",this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&W(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}yn.seriesDataToSource=function(t){return new yn({data:t,sourceFormat:ie(t)?Oi:Pi,fromDataset:!1})},Tf(yn);const Be=yn;var Nr=Xt();function Zc(t){var e=t.option,r=e.data,i=ie(r)?Oi:Pi,a=!1,n=e.seriesLayoutBy,o=e.sourceHeader,s=e.dimensions,l=tl(t);if(l){var u=l.option;r=u.source,i=Nr(l).sourceFormat,a=!0,n=n||u.seriesLayoutBy,null==o&&(o=u.sourceHeader),s=s||u.dimensions}var h=function(t,e,r,i,a){if(!t)return{dimensionsDefine:Uc(a)};var n,o;if(e===Ri)"auto"===i||null==i?Yc(function(l){null!=l&&"-"!==l&&(j(l)?null==o&&(o=1):o=0)},r,t,10):o=i?1:0,!a&&1===o&&(a=[],Yc(function(l,u){a[u]=null!=l?l:""},r,t)),n=a?a.length:"row"===r?t.length:t[0]?t[0].length:null;else if(e===Js)a||(a=function(t){for(var r,e=0;e<t.length&&!(r=t[e++]););if(r){var i=[];return S(r,function(a,n){i.push(n)}),i}}(t));else if(e===mn)a||(a=[],S(t,function(l,u){a.push(u)}));else if(e===Pi){var s=za(t[0]);n=O(s)&&s.length||1}else e===Oi&&R&&ot(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:o,dimensionsDefine:Uc(a),dimensionsDetectCount:n}}(r,i,n,o,s);Nr(t).source=new Be({data:r,fromDataset:a,seriesLayoutBy:n,sourceFormat:i,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:e.encode})}function Uc(t){if(t){var e=W();return E(t,function(r,i){if(null==(r=V({},z(r)?r:{name:r})).name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var a=e.get(r.name);return a?r.name+="-"+a.count++:e.set(r.name,{count:1}),r})}}function Yc(t,e,r,i){if(null==i&&(i=1/0),"row"===e)for(var a=0;a<r.length&&a<i;a++)t(r[a]?r[a][0]:null,a);else{var n=r[0]||[];for(a=0;a<n.length&&a<i;a++)t(n[a],a)}}function Bm(t,e,r){var i={},a=tl(e);if(!a||!t)return i;var h,f,n=[],o=[],l=Nr(e.ecModel).datasetMap,u=a.uid+"_"+r.seriesLayoutBy;S(t=t.slice(),function(p,g){!z(p)&&(t[g]={name:p}),"ordinal"===p.type&&null==h&&(h=g,f=d(t[g])),i[p.name]=[]});var c=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});function v(p,g,_){for(var m=0;m<_;m++)p.push(g+m)}function d(p){var g=p.dimsDef;return g?g.length:1}return S(t,function(p,g){var _=p.name,m=d(p);if(null==h)v(i[_],y=c.valueWayDim,m),v(o,y,m),c.valueWayDim+=m;else if(h===g)v(i[_],0,m),v(n,0,m);else{var y;v(i[_],y=c.categoryWayDim,m),v(o,y,m),c.categoryWayDim+=m}}),n.length&&(i.itemName=n),o.length&&(i.seriesName=o),i}function tl(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function zm(t,e){return function(t,e,r,i,a,n){var o,l,u;if(ie(t))return 3;if(i){var h=i[n];z(h)?(l=h.name,u=h.type):j(h)&&(l=h)}if(null!=u)return"ordinal"===u?1:3;if(e===Ri)if(r===js){for(var f=t[n],c=0;c<(f||[]).length&&c<5;c++)if(null!=(o=g(f[a+c])))return o}else for(c=0;c<t.length&&c<5;c++){var v=t[a+c];if(v&&null!=(o=g(v[n])))return o}else if(e===Js){if(!l)return 3;for(c=0;c<t.length&&c<5;c++)if((d=t[c])&&null!=(o=g(d[l])))return o}else if(e===mn){if(!l)return 3;if(!(f=t[l])||ie(f))return 3;for(c=0;c<f.length&&c<5;c++)if(null!=(o=g(f[c])))return o}else if(e===Pi)for(c=0;c<t.length&&c<5;c++){var d,p=za(d=t[c]);if(!O(p))return 3;if(null!=(o=g(p[n])))return o}function g(_){var m=j(_);return null!=_&&isFinite(_)&&""!==_?m?2:3:m&&"-"!==_?1:void 0}return 3}(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}var el="\0_ec_inner",qc=Qt.extend({init:function(t,e,r,i){r=r||{},this.option=null,this._theme=new Qt(r),this._optionManager=i},setOption:function(t,e){ot(!(el in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,r=this._optionManager;if(!t||"recreate"===t){var i=r.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):Vm.call(this,i),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=r.getTimelineOption(this);a&&(this.mergeOption(a),e=!0)}if(!t||"recreate"===t||"media"===t){var n=r.getMediaOption(this,this._api);n.length&&S(n,function(o){this.mergeOption(o,e=!0)},this)}return e},mergeOption:function(t){var e=this.option,r=this._componentsMap,i=[];(function(t){Nr(t).datasetMap=W()})(this),S(t,function(n,o){null!=n&&(rt.hasClass(o)?o&&i.push(o):e[o]=null==e[o]?Q(n):F(e[o],n,!0))}),rt.topologicalTravel(i,rt.getAllClassMainTypes(),function(n,o){var s=bt(t[n]),l=wf(r.get(n),s);(function(t){var e=W();Dr(t,function(r,i){var a=r.exist;a&&e.set(a.id,r)}),Dr(t,function(r,i){var a=r.option;ot(!a||null==a.id||!e.get(a.id)||e.get(a.id)===r,"id duplicates: "+(a&&a.id)),a&&null!=a.id&&e.set(a.id,r),!r.keyInfo&&(r.keyInfo={})}),Dr(t,function(r,i){var a=r.exist,n=r.option,o=r.keyInfo;if(Lr(n)){if(o.name=null!=n.name?n.name+"":a?a.name:yf+i,a)o.id=a.id;else if(null!=n.id)o.id=n.id+"";else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(e.get(o.id))}e.set(o.id,r)}})})(l),S(l,function(h,f){var c=h.option;z(c)&&(h.keyInfo.mainType=n,h.keyInfo.subType=function(t,e,r){return e.type?e.type:r?r.subType:rt.determineSubType(t,e)}(n,c,h.exist))});var u=function(t,e){O(e)||(e=e?[e]:[]);var r={};return S(e,function(i){r[i]=(t.get(i)||[]).slice()}),r}(r,o);e[n]=[],r.set(n,[]),S(l,function(h,f){var c=h.exist,v=h.option;if(ot(z(v)||c,"Empty component definition"),v){var d=rt.getClass(n,h.keyInfo.subType,!0);if(c&&c.constructor===d)c.name=h.keyInfo.name,c.mergeOption(v,this),c.optionUpdated(v,!1);else{var p=V({dependentModels:u,componentIndex:f},h.keyInfo);V(c=new d(v,this,this,p),p),c.init(v,this,this,p),c.optionUpdated(null,!0)}}else c.mergeOption({},this),c.optionUpdated({},!1);r.get(n)[f]=c,e[n][f]=c.option},this),"series"===n&&rl(this,r.get("series"))},this),this._seriesIndicesMap=W(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=Q(this.option);return S(t,function(e,r){if(rt.hasClass(r)){for(var i=(e=bt(e)).length-1;i>=0;i--)Na(e[i])&&e.splice(i,1);t[r]=e}}),delete t[el],t},getTheme:function(){return this._theme},getComponent:function(t,e){var r=this._componentsMap.get(t);if(r)return r[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var o,r=t.index,i=t.id,a=t.name,n=this._componentsMap.get(e);if(!n||!n.length)return[];if(null!=r)O(r)||(r=[r]),o=re(E(r,function(u){return n[u]}),function(u){return!!u});else if(null!=i){var s=O(i);o=re(n,function(u){return s&&G(i,u.id)>=0||!s&&u.id===i})}else if(null!=a){var l=O(a);o=re(n,function(u){return l&&G(a,u.name)>=0||!l&&u.name===a})}else o=n.slice();return Kc(o,t)},findComponents:function(t){var s,l,u,h,r=t.mainType,i=(l=r+"Index",u=r+"Id",h=r+"Name",!(s=t.query)||null==s[l]&&null==s[u]&&null==s[h]?null:{mainType:r,index:s[l],id:s[u],name:s[h]});return function(s){return t.filter?re(s,t.filter):s}(Kc(i?this.queryComponents(i):this._componentsMap.get(r),t))},eachComponent:function(t,e,r){var i=this._componentsMap;"function"==typeof t?(r=e,e=t,i.each(function(n,o){S(n,function(s,l){e.call(r,o,s,l)})})):j(t)?S(i.get(t),e,r):z(t)&&S(this.findComponents(t),e,r)},getSeriesByName:function(t){return re(this._componentsMap.get("series"),function(r){return r.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){return re(this._componentsMap.get("series"),function(r){return r.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){xn(this),S(this._seriesIndices,function(r){var i=this._componentsMap.get("series")[r];t.call(e,i,r)},this)},eachRawSeries:function(t,e){S(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,r){xn(this),S(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];a.subType===t&&e.call(r,a,i)},this)},eachRawSeriesByType:function(t,e,r){return S(this.getSeriesByType(t),e,r)},isSeriesFiltered:function(t){return xn(this),null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){xn(this),rl(this,re(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;rl(this,e.get("series"));var r=[];e.each(function(i,a){r.push(a)}),rt.topologicalTravel(r,rt.getAllClassMainTypes(),function(i,a){S(e.get(i),function(n){("series"!==i||!function(t,e){if(e){var r=e.seiresIndex,i=e.seriesId,a=e.seriesName;return null!=r&&t.componentIndex!==r||null!=i&&t.id!==i||null!=a&&t.name!==a}}(n,t))&&n.restoreData()})})}});function Vm(t){t=t,this.option={},this.option[el]=1,this._componentsMap=W({series:[]}),function(t,e){var r=t.color&&!t.colorLayer;S(e,function(i,a){"colorLayer"===a&&r||rt.hasClass(a)||("object"==typeof i?t[a]=t[a]?F(t[a],i,!1):Q(i):null==t[a]&&(t[a]=i))})}(t,this._theme.option),F(t,Lm,!1),this.mergeOption(t)}function rl(t,e){t._seriesIndicesMap=W(t._seriesIndices=E(e,function(r){return r.componentIndex})||[])}function Kc(t,e){return e.hasOwnProperty("subType")?re(t,function(r){return r.subType===e.subType}):t}function xn(t){if(R&&!t._seriesIndices)throw new Error("Option should contains series.")}at(qc,$s);const Qc=qc;var Gm=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];const $c=function(t){S(Gm,function(e){this[e]=J(t[e],t)},this)};var il={};function Ei(){this._coordinateSystems=[]}Ei.prototype={constructor:Ei,create:function(t,e){var r=[];S(il,function(i,a){var n=i.create(t,e);r=r.concat(n||[])}),this._coordinateSystems=r},update:function(t,e){S(this._coordinateSystems,function(r){r.update&&r.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Ei.register=function(t,e){il[t]=e},Ei.get=function(t){return il[t]};const ki=Ei;var wn=S,nr=Q,bn=E,Jc=F,Um=/^(min|max)?(.+)$/;function al(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function Ym(t,e,r){var n,o,i=[],a=[],s=t.timeline;return t.baseOption&&(o=t.baseOption),(s||t.options)&&(o=o||{},i=(t.options||[]).slice()),t.media&&(o=o||{},wn(t.media,function(u){u&&u.option&&(u.query?a.push(u):n||(n=u))})),o||(o=t),o.timeline||(o.timeline=s),wn([o].concat(i).concat(E(a,function(u){return u.option})),function(u){wn(e,function(h){h(u,r)})}),{baseOption:o,timelineOptions:i,mediaDefault:n,mediaList:a}}function Xm(t,e,r){var i={width:e,height:r,aspectratio:e/r},a=!0;return S(t,function(n,o){var s=o.match(Um);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();(function(t,e,r){return"min"===r?t>=e:"max"===r?t<=e:t===e})(i[u],n,l)||(a=!1)}}),a}al.prototype={constructor:al,setOption:function(t,e){t&&S(bt(t.series),function(a){a&&a.data&&ie(a.data)&&$u(a.data)}),t=nr(t);var r=this._optionBackup,i=Ym.call(this,t,e,!r);this._newBaseOption=i.baseOption,r?(function(t,e){wn(e=e||{},function(r,i){if(null!=r){var a=t[i];if(rt.hasClass(i)){r=bt(r);var n=wf(a=bt(a),r);t[i]=bn(n,function(o){return o.option&&o.exist?Jc(o.exist,o.option,!0):o.exist||o.option})}else t[i]=Jc(a,r,!0)}})}(r.baseOption,i.baseOption),i.timelineOptions.length&&(r.timelineOptions=i.timelineOptions),i.mediaList.length&&(r.mediaList=i.mediaList),i.mediaDefault&&(r.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=bn(e.timelineOptions,nr),this._mediaList=bn(e.mediaList,nr),this._mediaDefault=nr(e.mediaDefault),this._currentMediaIndices=[],nr(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(e=nr(r[i.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,n=[],o=[];if(!i.length&&!a)return o;for(var s=0,l=i.length;s<l;s++)Xm(i[s].query,e,r)&&n.push(s);return!n.length&&a&&(n=[-1]),n.length&&!function(t,e){return t.join(",")===e.join(",")}(n,this._currentMediaIndices)&&(o=bn(n,function(u){return nr(-1===u?a.option:i[u].option)})),this._currentMediaIndices=n,o}};const $m=al;var Jt=S,Bi=z,jc=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function nl(t){var e=t&&t.itemStyle;if(e)for(var r=0,i=jc.length;r<i;r++){var a=jc[r],n=e.normal,o=e.emphasis;n&&n[a]&&(t[a]=t[a]||{},t[a].normal?F(t[a].normal,n[a]):t[a].normal=n[a],n[a]=null),o&&o[a]&&(t[a]=t[a]||{},t[a].emphasis?F(t[a].emphasis,o[a]):t[a].emphasis=o[a],o[a]=null)}}function ft(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,a=t[e].emphasis;i&&(r?(t[e].normal=t[e].emphasis=null,Y(t[e],i)):t[e]=i),a&&(t.emphasis=t.emphasis||{},t.emphasis[e]=a)}}function zi(t){ft(t,"itemStyle"),ft(t,"lineStyle"),ft(t,"areaStyle"),ft(t,"label"),ft(t,"labelLine"),ft(t,"upperLabel"),ft(t,"edgeLabel")}function K(t,e){var r=Bi(t)&&t[e],i=Bi(r)&&r.textStyle;if(i)for(var a=0,n=xf.length;a<n;a++)i.hasOwnProperty(e=xf[a])&&(r[e]=i[e])}function Et(t){t&&(zi(t),K(t,"label"),t.emphasis&&K(t.emphasis,"label"))}function me(t){return O(t)?t:t?[t]:[]}function tv(t){return(O(t)?t[0]:t)||{}}function ev(t){S(ry,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var ry=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],iy=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function rv(t,e){(function(t,e){Jt(me(t.series),function(i){Bi(i)&&function(t){if(Bi(t)){nl(t),zi(t),K(t,"label"),K(t,"upperLabel"),K(t,"edgeLabel"),t.emphasis&&(K(t.emphasis,"label"),K(t.emphasis,"upperLabel"),K(t.emphasis,"edgeLabel")),(e=t.markPoint)&&(nl(e),Et(e)),(r=t.markLine)&&(nl(r),Et(r));var i=t.markArea;i&&Et(i);var e,r,a=t.data;if("graph"===t.type){a=a||t.nodes;var n=t.links||t.edges;if(n&&!ie(n))for(var o=0;o<n.length;o++)Et(n[o]);S(t.categories,function(u){zi(u)})}if(a&&!ie(a))for(o=0;o<a.length;o++)Et(a[o]);if((e=t.markPoint)&&e.data){var s=e.data;for(o=0;o<s.length;o++)Et(s[o])}if((r=t.markLine)&&r.data){var l=r.data;for(o=0;o<l.length;o++)O(l[o])?(Et(l[o][0]),Et(l[o][1])):Et(l[o])}"gauge"===t.type?(K(t,"axisLabel"),K(t,"title"),K(t,"detail")):"treemap"===t.type?(ft(t.breadcrumb,"itemStyle"),S(t.levels,function(u){zi(u)})):"tree"===t.type&&zi(t.leaves)}}(i)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Jt(r,function(i){Jt(me(t[i]),function(a){a&&(K(a,"axisLabel"),K(a.axisPointer,"label"))})}),Jt(me(t.parallel),function(i){var a=i&&i.parallelAxisDefault;K(a,"axisLabel"),K(a&&a.axisPointer,"label")}),Jt(me(t.calendar),function(i){ft(i,"itemStyle"),K(i,"dayLabel"),K(i,"monthLabel"),K(i,"yearLabel")}),Jt(me(t.radar),function(i){K(i,"name")}),Jt(me(t.geo),function(i){Bi(i)&&(Et(i),Jt(me(i.regions),function(a){Et(a)}))}),Jt(me(t.timeline),function(i){Et(i),ft(i,"label"),ft(i,"itemStyle"),ft(i,"controlStyle",!0);var a=i.data;O(a)&&S(a,function(n){z(n)&&(ft(n,"label"),ft(n,"itemStyle"))})}),Jt(me(t.toolbox),function(i){ft(i,"iconStyle"),Jt(i.feature,function(a){ft(a,"iconStyle")})}),K(tv(t.axisPointer),"label"),K(tv(t.tooltip).axisPointer,"label")})(t,e),t.series=bt(t.series),S(t.series,function(r){if(z(r)){var i=r.type;if("line"===i)null!=r.clipOverflow&&(r.clip=r.clipOverflow);else if("pie"===i||"gauge"===i)null!=r.clockWise&&(r.clockwise=r.clockWise);else if("gauge"===i){var a=function(t,e){e=e.split(",");for(var r=t,i=0;i<e.length&&null!=(r=r&&r[e[i]]);i++);return r}(r,"pointer.color");null!=a&&function(t,e,r,i){e=e.split(",");for(var n,a=t,o=0;o<e.length-1;o++)null==a[n=e[o]]&&(a[n]={}),a=a[n];null==a[e[o]]&&(a[e[o]]=r)}(r,"itemStyle.color",a)}ev(r)}}),t.dataRange&&(t.visualMap=t.dataRange),S(iy,function(r){var i=t[r];i&&(O(i)||(i=[i]),S(i,function(a){ev(a)}))})}function ny(t){S(t,function(e,r){var i=[],a=[NaN,NaN],o=e.data,s=e.isStackedByIndex,l=o.map([e.stackResultDimension,e.stackedOverDimension],function(u,h,f){var v,d,c=o.get(e.stackedDimension,f);if(isNaN(c))return a;s?d=o.getRawIndex(f):v=o.get(e.stackedByDimension,f);for(var p=NaN,g=r-1;g>=0;g--){var _=t[g];if(s||(d=_.data.rawIndexOf(_.stackedByDimension,v)),d>=0){var m=_.data.getByRawIndex(_.stackResultDimension,d);if(c>=0&&m>0||c<=0&&m<0){c+=m,p=m;break}}}return i[0]=c,i[1]=p,i});o.hostModel.setData(l),e.data=l})}function iv(t,e){Be.isInstance(t)||(t=Be.seriesDataToSource(t)),this._source=t;var r=this._data=t.data,i=t.sourceFormat;if(i===Oi){if(R&&null==e)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=e,this._data=r}var a=oy[i===Ri?i+"_"+t.seriesLayoutBy:i];R&&ot(a,"Invalide sourceFormat: "+i),V(this,a)}var ol=iv.prototype;ol.pure=!1,ol.persistent=!0,ol.getSource=function(){return this._source};var oy={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:sl},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],r=this._data,i=0;i<r.length;i++){var a=r[i];e.push(a?a[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:av,getItem:nv,appendData:sl},keyedColumns:{pure:!0,count:function(){var e=this._data[this._source.dimensionsDefine[0].name];return e?e.length:0},getItem:function(t){for(var e=[],r=this._source.dimensionsDefine,i=0;i<r.length;i++){var a=this._data[r[i].name];e.push(a?a[t]:null)}return e},appendData:function(t){var e=this._data;S(t,function(r,i){for(var a=e[i]||(e[i]=[]),n=0;n<(r||[]).length;n++)a.push(r[n])})}},original:{count:av,getItem:nv,appendData:sl},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){e=e||[];for(var r=this._dimSize*(t-=this._offset),i=0;i<this._dimSize;i++)e[i]=this._data[r+i];return e},appendData:function(t){R&&ot(ie(t),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function av(){return this._data.length}function nv(t){return this._data[t]}function sl(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var sy={arrayRows:ll,objectRows:function(t,e,r,i){return null!=r?t[i]:t},keyedColumns:ll,original:function(t,e,r,i){var a=za(t);return null!=r&&a instanceof Array?a[r]:a},typedArray:ll};function ll(t,e,r,i){return null!=r?t[r]:t}var ov={arrayRows:sv,objectRows:function(t,e,r,i){return ul(t[e],this._dimensionInfos[e])},keyedColumns:sv,original:function(t,e,r,i){var a=t&&(null==t.value?t:t.value);return!this._rawData.pure&&function(t){return Lr(t)&&!(t instanceof Array)}(t)&&(this.hasItemOption=!0),ul(a instanceof Array?a[i]:a,this._dimensionInfos[e])},typedArray:function(t,e,r,i){return t[i]}};function sv(t,e,r,i){return ul(t[i],this._dimensionInfos[e])}function ul(t,e){var r=e&&e.type;if("ordinal"===r){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===r&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Ys(t)),null==t||""===t?NaN:+t}function or(t,e,r){if(t){var i=t.getRawDataItem(e);if(null!=i){var n,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(r);return s&&(n=s.name,o=s.index),sy[a](i,e,o,n)}}}var ly=/\{@(.+?)\}/g;const lv={getDataParams:function(t,e){var r=this.getData(e),i=this.getRawValue(t,e),a=r.getRawIndex(t),n=r.getName(t),o=r.getRawDataItem(t),s=r.getItemVisual(t,"color"),l=r.getItemVisual(t,"borderColor"),u=this.ecModel.getComponent("tooltip"),f=Mf(u&&u.get("renderMode")),c=this.mainType,v="series"===c,d=r.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:v?this.subType:null,seriesIndex:this.seriesIndex,seriesId:v?this.id:null,seriesName:v?this.name:null,name:n,dataIndex:a,data:o,dataType:e,value:i,color:s,borderColor:l,dimensionNames:d?d.dimensionNames:null,encode:d?d.encode:null,marker:Ks({color:s,renderMode:f}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,r,i,a){e=e||"normal";var n=this.getData(r),o=n.getItemModel(t),s=this.getDataParams(t,r);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=o.get("normal"===e?[a||"label","formatter"]:[e,a||"label","formatter"]);return"function"==typeof l?(s.status=e,s.dimensionIndex=i,l(s)):"string"==typeof l?zc(l,s).replace(ly,function(h,f){var c=f.length;return"["===f.charAt(0)&&"]"===f.charAt(c-1)&&(f=+f.slice(1,c-1)),or(n,t,f)}):void 0},getRawValue:function(t,e){return or(this.getData(e),t)},formatTooltip:function(){}};function Ni(t){return new uv(t)}function uv(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}var ze=uv.prototype;ze.perform=function(t){var a,e=this._upstream,r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(a=this._plan(this.context));var h,n=u(this._modBy),o=this._modDataCount||0,s=u(t&&t.modBy),l=t&&t.modDataCount||0;function u(_){return!(_>=1)&&(_=1),_}(n!==s||o!==l)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,h=function(t,e){var r,i;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((r=t._reset(t.context))&&r.progress&&(i=r.forceFirstProgress,r=r.progress),O(r)&&!r.length&&(r=null)),t._progress=r,t._modBy=t._modDataCount=null;var a=t._downstream;return a&&a.dirty(),i}(this,r)),this._modBy=s,this._modDataCount=l;var f=t&&t.step;if(e?(R&&ot(null!=e._outputDueEnd),this._dueEnd=e._outputDueEnd):(R&&ot(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var c=this._dueIndex,v=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(h||c<v)){var d=this._progress;if(O(d))for(var p=0;p<d.length;p++)fv(this,d[p],c,v,s,l);else fv(this,d,c,v,s,l)}this._dueIndex=v;var g=null!=this._settedOutputEnd?this._settedOutputEnd:v;R&&ot(g>=this._outputDueEnd),this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var hv=function(){var t,e,r,i,a,n={reset:function(l,u,h,f){e=l,t=u,r=h,i=f,a=Math.ceil(i/r),n.next=r>1&&i>0?s:o}};return n;function o(){return e<t?e++:null}function s(){var l=e%a*r+Math.ceil(e/a),u=e>=t?null:l<i?l:e;return e++,u}}();function fv(t,e,r,i,a,n){hv.reset(r,i,a,n),t._callingProgress=e,t._callingProgress({start:r,end:i,count:i-r,next:hv.next},t.context)}ze.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},ze.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},ze.pipe=function(t){R&&ot(t&&!t._disposed&&t!==this),(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},ze.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},ze.getUpstream=function(){return this._upstream},ze.getDownstream=function(){return this._downstream},ze.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var Fi=Xt(),hl=rt.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,r,i){this.seriesIndex=this.componentIndex,this.dataTask=Ni({count:fy,reset:cy}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),Zc(this);var a=this.getInitialData(t,r);vv(a,this),this.dataTask.context.data=a,R&&ot(a,"getInitialData returned invalid data."),Fi(this).dataBeforeProcessed=a,cv(this)},mergeDefaultAndTheme:function(t,e){var r=this.layoutMode,i=r?_n(t):{},a=this.subType;rt.hasClass(a)&&(a+="Series"),F(t,e.getTheme().get(this.subType)),F(t,this.getDefaultOption()),Cs(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&Ii(t,i,r)},mergeOption:function(t,e){t=F(this.option,t,!0),this.fillDataTextStyle(t.data);var r=this.layoutMode;r&&Ii(this.option,t,r),Zc(this);var i=this.getInitialData(t,e);vv(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,Fi(this).dataBeforeProcessed=i,cv(this)},fillDataTextStyle:function(t){if(t&&!ie(t))for(var e=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&Cs(t[r],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=fl(this);if(e){var r=e.context.data;return null==t?r:r.getLinkedData(t)}return Fi(this).data},setData:function(t){var e=fl(this);if(e){var r=e.context;r.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),r.outputData=t,e!==this.dataTask&&(r.data=t)}Fi(this).data=t},getSource:function(){return function(t){return Nr(t).source}(this)},getRawData:function(){return Fi(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,r,i){var a=this,n="html"===(i=i||"html")?"<br/>":"\n",o="richText"===i,s={},l=0,f=this.getData(),c=f.mapDimension("defaultedTooltip",!0),v=c.length,d=this.getRawValue(t),p=O(d),g=f.getItemVisual(t,"color");z(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color),g=g||"transparent";var T,_=v>1||p&&!v?function(T){var D=function(t,e,r,i){if(t&&e){if(t.reduce&&t.reduce===Ap)return t.reduce(e,r,i);for(var a=0,n=t.length;a<n;a++)r=e.call(i,r,t[a],a,t);return r}}(T,function(H,vt,te){var It=f.getDimensionInfo(te);return H|(It&&!1!==It.tooltip&&null!=It.displayName)},0),A=[];function P(H,vt){var te=f.getDimensionInfo(vt);if(te&&!1!==te.otherDims.tooltip){var It=te.type,ee="sub"+a.seriesIndex+"at"+l,yt=Ks({color:g,type:"subItem",renderMode:i,markerId:ee}),ve=(D?("string"==typeof yt?yt:yt.content)+$t(te.displayName||"-")+": ":"")+$t("ordinal"===It?H+"":"time"===It?e?"":Nc("yyyy/MM/dd hh:mm:ss",H):dn(H));ve&&A.push(ve),o&&(s[ee]=g,++l)}}c.length?S(c,function(H){P(or(f,t,H),H)}):S(T,P);var L=D?o?"\n":"<br/>":"",U=L+A.join(L||", ");return{renderMode:i,content:U,style:s}}(d):(T=v?or(f,t,c[0]):p?d[0]:d,{renderMode:i,content:$t(dn(T)),style:s}),m=_.content,y=a.seriesIndex+"at"+l,x=Ks({color:g,type:"item",renderMode:i,markerId:y});s[y]=g,++l;var w=f.getName(t),C=this.name;bf(this)||(C=""),C=C?$t(C)+(e?": ":n):"";var b="string"==typeof x?x:x.content;return{html:e?b+C+m:C+b+(w?$t(w)+": "+m:m),markers:s}},isAnimationEnabled:function(){if(k.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,r){var i=this.ecModel,a=$s.getColorFromPalette.call(this,t,e,r);return a||(a=i.getColorFromPalette(t,e,r)),a},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function cv(t){var e=t.name;bf(t)||(t.name=function(t){var e=t.getRawData(),r=e.mapDimension("seriesName",!0),i=[];return S(r,function(a){var n=e.getDimensionInfo(a);n.displayName&&i.push(n.displayName)}),i.join(" ")}(t)||e)}function fy(t){return t.model.getRawData().count()}function cy(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),vy}function vy(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function vv(t,e){S(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,nt(dy,e))})}function dy(t){var e=fl(t);e&&e.setOutputEnd(this.count())}function fl(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var i=r.currentTask;if(i){var a=i.agentStubMap;a&&(i=a.get(t.uid))}return i}}at(hl,lv),at(hl,$s);const cl=hl;var Fr=function(){this.group=new Z,this.uid=cn("viewComponent")},vl=Fr.prototype={constructor:Fr,init:function(t,e){},render:function(t,e,r,i){},dispose:function(){},filterForExposedEvent:null};vl.updateView=vl.updateLayout=vl.updateVisual=function(t,e,r,i){},yi(Fr),Fa(Fr,{registerWhenExtend:!0});const Sn=Fr;function dl(){var t=Xt();return function(e){var r=t(e),i=e.pipelineContext,a=r.large,n=r.progressiveRender,o=r.large=i&&i.large,s=r.progressiveRender=i&&i.progressiveRender;return!!(a^o||n^s)&&"reset"}}var dv=Xt(),gy=dl();function Vr(){this.group=new Z,this.uid=cn("viewChart"),this.renderTask=Ni({plan:py,reset:_y}),this.renderTask.context={view:this}}var gl=Vr.prototype={type:"chart",init:function(t,e){},render:function(t,e,r,i){},highlight:function(t,e,r,i){gv(t.getData(),i,"emphasis")},downplay:function(t,e,r,i){gv(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function pl(t,e,r){if(t&&(t.trigger(e,r),t.isGroup&&!mc(t)))for(var i=0,a=t.childCount();i<a;i++)pl(t.childAt(i),e,r)}function gv(t,e,r){var i=Sf(t,e),a=e&&null!=e.highlightKey?yc(e.highlightKey):null;null!=i?S(bt(i),function(n){pl(t.getItemGraphicEl(n),r,a)}):t.eachItemGraphicEl(function(n){pl(n,r,a)})}function py(t){return gy(t.model)}function _y(t){var e=t.model,r=t.ecModel,i=t.api,a=t.payload,n=e.pipelineContext.progressiveRender,o=t.view,s=a&&dv(a).updateMethod,l=n?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](e,r,i,a),my[l]}gl.updateView=gl.updateLayout=gl.updateVisual=function(t,e,r,i){this.render(t,e,r,i)},yi(Vr,["dispose"]),Fa(Vr,{registerWhenExtend:!0}),Vr.markUpdateMethod=function(t,e){dv(t).updateMethod=e};var my={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const _l=Vr;var Cn="\0__throttleOriginMethod",pv="\0__throttleRate",_v="\0__throttleType";function ml(t,e,r){var i,s,l,u,h,a=0,n=0,o=null;function f(){n=(new Date).getTime(),o=null,t.apply(l,u||[])}e=e||0;var c=function(){i=(new Date).getTime(),l=this,u=arguments;var v=h||e,d=h||r;h=null,s=i-(d?a:n)-v,clearTimeout(o),d?o=setTimeout(f,v):s>=0?f():o=setTimeout(f,-s),a=i};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.debounceNextCall=function(v){h=v},c}function yl(t,e,r,i){var a=t[e];if(a){var n=a[Cn]||a;if(a[pv]!==r||a[_v]!==i){if(null==r||!i)return t[e]=n;(a=t[e]=ml(n,r,"debounce"===i))[Cn]=n,a[_v]=i,a[pv]=r}return a}}function mv(t,e){var r=t[e];r&&r[Cn]&&(t[e]=r[Cn])}const yy={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),i=(t.visualColorAccessPath||"itemStyle.color").split("."),a=t.get(i),n=!wt(a)||a instanceof Mi?null:a;(!a||n)&&(a=t.getColorFromPalette(t.name,null,e.getSeriesCount())),r.setVisual("color",a);var o=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=t.get(o);if(r.setVisual("borderColor",s),!e.isSeriesFiltered(t))return n&&r.each(function(u){r.setItemVisual(u,"color",n(t.getDataParams(u)))}),{dataEach:r.hasItemOption?function(u,h){var f=u.getItemModel(h),c=f.get(i,!0),v=f.get(o,!0);null!=c&&u.setItemVisual(h,"color",c),null!=v&&u.setItemVisual(h,"borderColor",v)}:null}}},yv={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}};var Mn=Math.PI;function xl(t,e,r,i){this.ecInstance=t,this.api=e,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i),this._stageTaskMap=W()}var kt=xl.prototype;function xv(t,e,r,i,a){var n;function o(s,l){return s.setDirty&&(!s.dirtyMap||s.dirtyMap.get(l.__pipeline.id))}a=a||{},S(e,function(s,l){if(!a.visualType||a.visualType===s.visualType){var u=t._stageTaskMap.get(s.uid),h=u.seriesTaskMap,f=u.overallTask;if(f){var c,v=f.agentStubMap;v.each(function(p){o(a,p)&&(p.dirty(),c=!0)}),c&&f.dirty(),wv(f,i);var d=t.getPerformArgs(f,a.block);v.each(function(p){p.perform(d)}),n|=f.perform(d)}else h&&h.each(function(p,g){o(a,p)&&p.dirty();var _=t.getPerformArgs(p,a.block);_.skip=!s.performRawSeries&&r.isSeriesFiltered(p.context.model),wv(p,i),n|=p.perform(_)})}}),t.unfinished|=n}kt.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},kt.getPerformArgs=function(t,e){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,n=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex?r.step:null,o=i&&i.modDataCount;return{step:n,modBy:null!=o?Math.ceil(o/n):null,modDataCount:o}}},kt.getPipeline=function(t){return this._pipelineMap.get(t)},kt.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid),a=t.getData().count(),n=r.progressiveEnabled&&e.incrementalPrepareRender&&a>=r.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=r.context={progressiveRender:n,modDataCount:s,large:o}},kt.restorePipelines=function(t){var e=this,r=e._pipelineMap=W();t.eachSeries(function(i){var a=i.getProgressive(),n=i.uid;r.set(n,{id:n,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),Tn(e,i,i.dataTask)})},kt.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),r=this.api;S(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,[]);i.reset&&function(t,e,r,i,a){var n=r.seriesTaskMap||(r.seriesTaskMap=W()),o=e.seriesType,s=e.getTargetSeries;function l(h){var f=h.uid,c=n.get(f)||n.set(f,Ni({plan:Dy,reset:Ly,count:Py}));c.context={model:h,ecModel:i,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},Tn(t,h,c)}e.createOnAllSeries?i.eachRawSeries(l):o?i.eachRawSeriesByType(o,l):s&&s(i,a).each(l);var u=t._pipelineMap;n.each(function(h,f){u.get(f)||(h.dispose(),n.removeKey(f))})}(this,i,a,e,r),i.overallReset&&function(t,e,r,i,a){var n=r.overallTask=r.overallTask||Ni({reset:Cy});n.context={ecModel:i,api:a,overallReset:e.overallReset,scheduler:t};var o=n.agentStubMap=n.agentStubMap||W(),s=e.seriesType,l=e.getTargetSeries,u=!0,h=e.modifyOutputEnd;function f(v){var d=v.uid,p=o.get(d);p||(p=o.set(d,Ni({reset:My,onDirty:Ay})),n.dirty()),p.context={model:v,overallProgress:u,modifyOutputEnd:h},p.agent=n,p.__block=u,Tn(t,v,p)}s?i.eachRawSeriesByType(s,f):l?l(i,a).each(f):(u=!1,S(i.getSeries(),f));var c=t._pipelineMap;o.each(function(v,d){c.get(d)||(v.dispose(),n.dirty(),o.removeKey(d))})}(this,i,a,e,r)},this)},kt.prepareView=function(t,e,r,i){var a=t.renderTask,n=a.context;n.model=e,n.ecModel=r,n.api=i,a.__block=!t.incrementalPrepareRender,Tn(this,e,a)},kt.performDataProcessorTasks=function(t,e){xv(this,this._dataProcessorHandlers,t,e,{block:!0})},kt.performVisualTasks=function(t,e,r){xv(this,this._visualHandlers,t,e,r)},kt.performSeriesTasks=function(t){var e;t.eachSeries(function(r){e|=r.dataTask.perform()}),this.unfinished|=e},kt.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var wv=kt.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function Cy(t){t.overallReset(t.ecModel,t.api,t.payload)}function My(t,e){return t.overallProgress&&Ty}function Ty(){this.agent.dirty(),this.getDownstream().dirty()}function Ay(){this.agent&&this.agent.dirty()}function Dy(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Ly(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=bt(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?E(e,function(r,i){return bv(i)}):Iy}var Iy=bv(0);function bv(t){return function(e,r){var i=r.data,a=r.resetDefines[t];if(a&&a.dataEach)for(var n=e.start;n<e.end;n++)a.dataEach(i,n);else a&&a.progress&&a.progress(e,i)}}function Py(t){return t.data.count()}function Tn(t,e,r){var a=t._pipelineMap.get(e.uid);!a.head&&(a.head=r),a.tail&&a.tail.pipe(r),a.tail=r,r.__idxInPipeline=a.count++,r.__pipeline=a}function Ry(t){An=null;try{t(Vi,Sv)}catch(e){}return An}xl.wrapStageHandler=function(t,e){return wt(t)&&(t={overallReset:t,seriesType:Ry(t)}),t.uid=cn("stageHandler"),e&&(t.visualType=e),t};var An,Vi={},Sv={};function Cv(t,e){for(var r in e.prototype)t[r]=be}Cv(Vi,Qc),Cv(Sv,$c),Vi.eachSeriesByType=Vi.eachRawSeriesByType=function(t){An=t},Vi.eachComponent=function(t){"series"===t.mainType&&t.subType&&(An=t.subType)};const Mv=xl;var Tv=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Oy={color:Tv,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Tv]};var lt="#eee",Dn=function(){return{axisLine:{lineStyle:{color:lt}},axisTick:{lineStyle:{color:lt}},axisLabel:{textStyle:{color:lt}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:lt}}}},wl=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Av={color:wl,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:lt},crossStyle:{color:lt},label:{color:"#000"}}},legend:{textStyle:{color:lt}},textStyle:{color:lt},title:{textStyle:{color:lt}},toolbox:{iconStyle:{normal:{borderColor:lt}}},dataZoom:{textStyle:{color:lt}},visualMap:{textStyle:{color:lt}},timeline:{lineStyle:{color:lt},itemStyle:{normal:{color:wl[1]}},label:{normal:{textStyle:{color:lt}}},controlStyle:{normal:{color:lt,borderColor:lt}}},timeAxis:Dn(),logAxis:Dn(),valueAxis:Dn(),categoryAxis:Dn(),line:{symbol:"circle"},graph:{color:wl},gauge:{title:{textStyle:{color:lt}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Av.categoryAxis.splitLine.show=!1;const Ey=Av;rt.extend({type:"dataset",defaultOption:{seriesLayoutBy:"column",sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,r=Wc;if(ie(e))r=Oi;else if(O(e)){0===e.length&&(r=Ri);for(var i=0,a=e.length;i<a;i++){var n=e[i];if(null!=n){if(O(n)){r=Ri;break}if(z(n)){r=Js;break}}}}else if(z(e)){for(var o in e)if(e.hasOwnProperty(o)&&we(e[o])){r=mn;break}}else if(null!=e)throw new Error("Invalid data");Nr(t).sourceFormat=r}(this)}}),Sn.extend({type:"dataset"});const ky=tt.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var r=.5522848,i=e.cx,a=e.cy,n=e.rx,o=e.ry,s=n*r,l=o*r;t.moveTo(i-n,a),t.bezierCurveTo(i-n,a-l,i-s,a-o,i,a-o),t.bezierCurveTo(i+s,a-o,i+n,a-l,i+n,a),t.bezierCurveTo(i+n,a+l,i+s,a+o,i,a+o),t.bezierCurveTo(i-s,a+o,i-n,a+l,i-n,a),t.closePath()}});var Ne=/[\s,]+/;function Dv(t){for(j(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Ln(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}Ln.prototype.parse=function(t,e){e=e||{};var r=Dv(t);if(!r)throw new Error("Illegal svg");var i=new Z;this._root=i;var l,u,a=r.getAttribute("viewBox")||"",n=parseFloat(r.getAttribute("width")||e.width),o=parseFloat(r.getAttribute("height")||e.height);isNaN(n)&&(n=null),isNaN(o)&&(o=null),Dt(r,i,null,!0);for(var s=r.firstChild;s;)this._parseNode(s,i),s=s.nextSibling;if(a){var h=Vt(a).split(Ne);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=n&&null!=o&&(u=function(t,e,r){var n=Math.min(e/t.width,r/t.height);return{scale:[n,n],position:[-(t.x+t.width/2)*n+e/2,-(t.y+t.height/2)*n+r/2]}}(l,n,o),!e.ignoreViewBox)){var f=i;(i=new Z).add(f),f.scale=u.scale.slice(),f.position=u.position.slice()}return!e.ignoreRootClip&&null!=n&&null!=o&&i.setClipPath(new it({shape:{x:0,y:0,width:n,height:o}})),{root:i,width:n,height:o,viewBoxRect:l,viewBoxTransform:u}},Ln.prototype._parseNode=function(t,e){var i,a,r=t.nodeName.toLowerCase();if("defs"===r?this._isDefine=!0:"text"===r&&(this._isText=!0),this._isDefine){if(a=zy[r]){var n=a.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=n)}}else(a=By[r])&&(i=a.call(this,t,e),e.add(i));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===r?this._isDefine=!1:"text"===r&&(this._isText=!1)},Ln.prototype._parseText=function(t,e){if(1===t.nodeType){var r=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(r),this._textY+=parseFloat(i)}var a=new tr({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Bt(e,a),Dt(t,a,this._defs);var n=a.style.fontSize;n&&n<9&&(a.style.fontSize=9,a.scale=a.scale||[1,1],a.scale[0]*=n/9,a.scale[1]*=n/9);var o=a.getBoundingRect();return this._textX+=o.width,e.add(a),a};var By={g:function(t,e){var r=new Z;return Bt(e,r),Dt(t,r,this._defs),r},rect:function(t,e){var r=new it;return Bt(e,r),Dt(t,r,this._defs),r.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),r},circle:function(t,e){var r=new ja;return Bt(e,r),Dt(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),r},line:function(t,e){var r=new pe;return Bt(e,r),Dt(t,r,this._defs),r.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),r},ellipse:function(t,e){var r=new ky;return Bt(e,r),Dt(t,r,this._defs),r.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),r},polygon:function(t,e){var r=t.getAttribute("points");r&&(r=Lv(r));var i=new tn({shape:{points:r||[]}});return Bt(e,i),Dt(t,i,this._defs),i},polyline:function(t,e){var r=new tt;Bt(e,r),Dt(t,r,this._defs);var i=t.getAttribute("points");return i&&(i=Lv(i)),new en({shape:{points:i||[]}})},image:function(t,e){var r=new Ar;return Bt(e,r),Dt(t,r,this._defs),r.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),r},text:function(t,e){var r=t.getAttribute("x")||0,i=t.getAttribute("y")||0,a=t.getAttribute("dx")||0,n=t.getAttribute("dy")||0;this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(n);var o=new Z;return Bt(e,o),Dt(t,o,this._defs),o},tspan:function(t,e){var r=t.getAttribute("x"),i=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=i&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||0,n=t.getAttribute("dy")||0,o=new Z;return Bt(e,o),Dt(t,o,this._defs),this._textX+=a,this._textY+=n,o},path:function(t,e){var i=Kf(t.getAttribute("d")||"");return Bt(e,i),Dt(t,i,this._defs),i}},zy={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),r=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),a=parseInt(t.getAttribute("y2")||0,10),n=new rc(e,r,i,a);return function(t,e){for(var r=t.firstChild;r;){if(1===r.nodeType){var i=r.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var a=r.getAttribute("stop-color")||"#000000";e.addColorStop(i,a)}r=r.nextSibling}}(t,n),n},radialgradient:function(t){}};function Bt(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Y(e.__inheritedStyle,t.__inheritedStyle))}function Lv(t){for(var e=Vt(t).split(Ne),r=[],i=0;i<e.length;i+=2){var a=parseFloat(e[i]),n=parseFloat(e[i+1]);r.push([a,n])}return r}var Hr={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function Dt(t,e,r,i){var a=e.__inheritedStyle||{},n="text"===e.type;if(1===t.nodeType&&(function(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var i=null,a=[];r.replace(Vy,function(l,u,h){a.push(u,h)});for(var n=a.length-1;n>0;n-=2){var o=a[n],s=a[n-1];switch(i=i||Ue(),s){case"translate":o=Vt(o).split(Ne),va(i,i,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=Vt(o).split(Ne),Mo(i,i,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=Vt(o).split(Ne),da(i,i,parseFloat(o[0]));break;case"skew":o=Vt(o).split(Ne),console.warn("Skew transform is not supported yet");break;case"matrix":o=Vt(o).split(Ne),i[0]=parseFloat(o[0]),i[1]=parseFloat(o[1]),i[2]=parseFloat(o[2]),i[3]=parseFloat(o[3]),i[4]=parseFloat(o[4]),i[5]=parseFloat(o[5])}}e.setLocalTransform(i)}}(t,e),V(a,function(t){var e=t.getAttribute("style"),r={};if(!e)return r;var a,i={};for(Pv.lastIndex=0;null!=(a=Pv.exec(e));)i[a[1]]=a[2];for(var n in Hr)Hr.hasOwnProperty(n)&&null!=i[n]&&(r[Hr[n]]=i[n]);return r}(t)),!i))for(var o in Hr)if(Hr.hasOwnProperty(o)){var s=t.getAttribute(o);null!=s&&(a[Hr[o]]=s)}var l=n?"textFill":"fill",u=n?"textStroke":"stroke";e.style=e.style||new Ma;var h=e.style;null!=a.fill&&h.set(l,Iv(a.fill,r)),null!=a.stroke&&h.set(u,Iv(a.stroke,r)),S(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(f){null!=a[f]&&h.set("lineWidth"===f&&n?"textStrokeWidth":f,parseFloat(a[f]))}),(!a.textBaseline||"auto"===a.textBaseline)&&(a.textBaseline="alphabetic"),"alphabetic"===a.textBaseline&&(a.textBaseline="bottom"),"start"===a.textAlign&&(a.textAlign="left"),"end"===a.textAlign&&(a.textAlign="right"),S(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(f){null!=a[f]&&h.set(f,a[f])}),a.lineDash&&(e.style.lineDash=Vt(a.lineDash).split(Ne)),h[u]&&"none"!==h[u]&&(e[u]=!0),e.__inheritedStyle=a}var Fy=/url\(\s*#(.*?)\)/;function Iv(t,e){var r=e&&t&&t.match(Fy);return r?e[Vt(r[1])]:t}var Vy=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,Pv=/([^\s:;]+)\s*:\s*([^:;]+)/g,Rv=W();var Zy={geoJSON:function(t){var e=t.source;t.geoJSON=j(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=Dv(t.source)}},Wr=ot,$=S,Uy=wt,Hi=z,bl=rt.parseClassType,Ev="4.9.0",Sl={zrender:"4.3.2"},In={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},zt="__flagInMainProcess",Fe="__optionUpdated",Fv=/^[a-zA-Z0-9_]+$/;function Gr(t,e){return function(r,i,a){e||!this._disposed?(r=r&&r.toLowerCase(),dt.prototype[t].call(this,r,i,a)):Lt(this.id)}}function Wi(){dt.call(this)}function Gi(t,e,r){r=r||{},"string"==typeof e&&(e=Kv[e]),this._dom=t;var i="canvas";R&&(i=("undefined"==typeof window?global:window).__ECHARTS__DEFAULT__RENDERER__||i);var a=this._zr=mf(t,{renderer:r.renderer||i,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height});this._throttledZrFlush=ml(J(a.flush,a),17),(e=Q(e))&&rv(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new ki;var n=this._api=function(t){var e=t._coordSysMgr;return V(new $c(t),{getCoordinateSystems:J(e.getCoordinateSystems,e),getComponentByElement:function(r){for(;r;){var i=r.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);r=r.parent}}})}(this);function o(s,l){return s.__prio-l.__prio}Sa(kn,o),Sa(Dl,o),this._scheduler=new Mv(this,n,Dl,kn),dt.call(this,this._ecEventProcessor=new Al),this._messageCenter=new Wi,this._initEvents(),this.resize=J(this.resize,this),this._pendingActions=[],a.animation.on("frame",this._onframe,this),function(t,e){t.on("rendered",function(){e.trigger("rendered"),t.animation.isFinished()&&!e[Fe]&&!e._scheduler.unfinished&&!e._pendingActions.length&&e.trigger("finished")})}(a,this),$u(this)}Wi.prototype.on=Gr("on",!0),Wi.prototype.off=Gr("off",!0),Wi.prototype.one=Gr("one",!0),at(Wi,dt);var N=Gi.prototype;function Vv(t,e,r){if(this._disposed)Lt(this.id);else{var n,i=this._model,a=this._coordSysMgr.getCoordinateSystems();e=Ms(i,e);for(var o=0;o<a.length;o++){var s=a[o];if(s[t]&&null!=(n=s[t](i,e,r)))return n}R&&console.warn("No coordinate system that supports "+t+" found by the given finder.")}}N._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[Fe]){var e=this[Fe].silent;this[zt]=!0,Zi(this),Ve.update.call(this),this[zt]=!1,this[Fe]=!1,Pn.call(this,e),Rn.call(this,e)}else if(t.unfinished){var r=1,i=this._model;t.unfinished=!1;do{var n=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Wv(this,i),t.performVisualTasks(i),Ml(this,this._model,0,"remain"),r-=+new Date-n}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},N.getDom=function(){return this._dom},N.getZr=function(){return this._zr},N.setOption=function(t,e,r){if(R&&Wr(!this[zt],"`setOption` should not be called during main process."),this._disposed)Lt(this.id);else{var i;if(Hi(e)&&(r=e.lazyUpdate,i=e.silent,e=e.notMerge),this[zt]=!0,!this._model||e){var a=new $m(this._api),n=this._theme,o=this._model=new Qc;o.scheduler=this._scheduler,o.init(null,null,n,a)}this._model.setOption(t,Xv),r?(this[Fe]={silent:i},this[zt]=!1):(Zi(this),Ve.update.call(this),this._zr.flush(),this[Fe]=!1,this[zt]=!1,Pn.call(this,i),Rn.call(this,i))}},N.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},N.getModel=function(){return this._model},N.getOption=function(){return this._model&&this._model.getOption()},N.getWidth=function(){return this._zr.getWidth()},N.getHeight=function(){return this._zr.getHeight()},N.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},N.getRenderedCanvas=function(t){if(k.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},N.getSvgDataURL=function(){if(k.svgSupported){var t=this._zr;return S(t.storage.getDisplayList(),function(r){r.stopAnimation(!0)}),t.painter.toDataURL()}},N.getDataURL=function(t){if(!this._disposed){var r=this._model,i=[],a=this;$((t=t||{}).excludeComponents,function(o){r.eachComponent({mainType:o},function(s){var l=a._componentsMap[s.__viewId];l.group.ignore||(i.push(l),l.group.ignore=!0)})});var n="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return $(i,function(o){o.group.ignore=!1}),n}Lt(this.id)},N.getConnectedDataURL=function(t){if(this._disposed)Lt(this.id);else if(k.canvasSupported){var e="svg"===t.type,r=this.group,i=Math.min,a=Math.max,n=1/0;if(Bn[r]){var o=n,s=n,l=-n,u=-n,h=[],f=t&&t.pixelRatio||1;S(sr,function(_,m){if(_.group===r){var y=e?_.getZr().painter.getSvgDom().innerHTML:_.getRenderedCanvas(Q(t)),x=_.getDom().getBoundingClientRect();o=i(x.left,o),s=i(x.top,s),l=a(x.right,l),u=a(x.bottom,u),h.push({dom:y,left:x.left,top:x.top})}});var c=(l*=f)-(o*=f),v=(u*=f)-(s*=f),d=ho(),p=mf(d,{renderer:e?"svg":"canvas"});if(p.resize({width:c,height:v}),e){var g="";return $(h,function(_){g+='<g transform="translate('+(_.left-o)+","+(_.top-s)+')">'+_.dom+"</g>"}),p.painter.getSvgRoot().innerHTML=g,t.connectedBackgroundColor&&p.painter.setBackgroundColor(t.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()}return t.connectedBackgroundColor&&p.add(new it({shape:{x:0,y:0,width:c,height:v},style:{fill:t.connectedBackgroundColor}})),$(h,function(_){var m=new Ar({style:{x:_.left*f-o,y:_.top*f-s,image:_.dom}});p.add(m)}),p.refreshImmediately(),d.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},N.convertToPixel=nt(Vv,"convertToPixel"),N.convertFromPixel=nt(Vv,"convertFromPixel"),N.containPixel=function(t,e){var i;if(!this._disposed)return S(t=Ms(this._model,t),function(a,n){n.indexOf("Models")>=0&&S(a,function(o){var s=o.coordinateSystem;if(s&&s.containPoint)i|=!!s.containPoint(e);else if("seriesModels"===n){var l=this._chartsMap[o.__viewId];l&&l.containPoint?i|=l.containPoint(e,o):R&&console.warn(n+": "+(l?"The found component do not support containPoint.":"No view mapping to the found component."))}else R&&console.warn(n+": containPoint is not supported")},this)},this),!!i;Lt(this.id)},N.getVisual=function(t,e){var i=(t=Ms(this._model,t,{defaultMainType:"series"})).seriesModel;R&&(i||console.warn("There is no specified seires model"));var a=i.getData(),n=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?a.indexOfRawIndex(t.dataIndex):null;return null!=n?a.getItemVisual(n,e):a.getVisual(e)},N.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},N.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var Ve={prepareAndUpdate:function(t){Zi(this),Ve.update.call(this,t)},update:function(t){var e=this._model,r=this._api,i=this._zr,a=this._coordSysMgr,n=this._scheduler;if(e){n.restoreData(e,t),n.performSeriesTasks(e),a.create(e,r),n.performDataProcessorTasks(e,t),Wv(this,e),a.update(e,r),Cl(e),n.performVisualTasks(e,t),Uv(this,e,r,t);var o=e.get("backgroundColor")||"transparent";if(k.canvasSupported)i.setBackgroundColor(o);else{var s=Ce(o);o=vi(s,"rgb"),0===s[3]&&(o="transparent")}Tl(e,r)}},updateTransform:function(t){var e=this._model,r=this,i=this._api;if(e){var a=[];e.eachComponent(function(o,s){var l=r.getViewOfComponentModel(s);if(l&&l.__alive)if(l.updateTransform){var u=l.updateTransform(s,e,i,t);u&&u.update&&a.push(l)}else a.push(l)});var n=W();e.eachSeries(function(o){var s=r._chartsMap[o.__viewId];if(s.updateTransform){var l=s.updateTransform(o,e,i,t);l&&l.update&&n.set(o.uid,1)}else n.set(o.uid,1)}),Cl(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:n}),Ml(r,e,0,t,n),Tl(e,this._api)}},updateView:function(t){var e=this._model;!e||(_l.markUpdateMethod(t,"updateView"),Cl(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Uv(this,this._model,this._api,t),Tl(e,this._api))},updateVisual:function(t){Ve.update.call(this,t)},updateLayout:function(t){Ve.update.call(this,t)}};function Zi(t){var e=t._model,r=t._scheduler;r.restorePipelines(e),r.prepareStageTasks(),Zv(t,"component",e,r),Zv(t,"chart",e,r),r.plan()}function Hv(t,e,r,i,a){var n=t._model;if(i){var o={};o[i+"Id"]=r[i+"Id"],o[i+"Index"]=r[i+"Index"],o[i+"Name"]=r[i+"Name"];var s={mainType:i,query:o};a&&(s.subType=a);var l=r.excludeSeriesId;null!=l&&(l=W(bt(l))),n&&n.eachComponent(s,function(h){(!l||null==l.get(h.id))&&u(t["series"===i?"_chartsMap":"_componentsMap"][h.__viewId])},t)}else $(t._componentsViews.concat(t._chartsViews),u);function u(h){h&&h.__alive&&h[e]&&h[e](h.__model,n,t._api,r)}}function Wv(t,e){var r=t._chartsMap,i=t._scheduler;e.eachSeries(function(a){i.updateStreamModes(a,r[a.__viewId])})}function Gv(t,e){var r=t.type,i=t.escapeConnect,a=On[r],n=a.actionInfo,o=(n.update||"update").split(":"),s=o.pop();o=null!=o[0]&&bl(o[0]),this[zt]=!0;var l=[t],u=!1;t.batch&&(u=!0,l=E(t.batch,function(v){return(v=Y(V({},v),t)).batch=null,v}));var f,h=[],c="highlight"===r||"downplay"===r;$(l,function(v){(f=(f=a.action(v,this._model,this._api))||V({},v)).type=n.event||f.type,h.push(f),c?Hv(this,s,v,"series"):o&&Hv(this,s,v,o.main,o.sub)},this),"none"!==s&&!c&&!o&&(this[Fe]?(Zi(this),Ve.update.call(this,t),this[Fe]=!1):Ve[s].call(this,t)),f=u?{type:n.event||r,escapeConnect:i,batch:h}:h[0],this[zt]=!1,!e&&this._messageCenter.trigger(f.type,f)}function Pn(t){for(var e=this._pendingActions;e.length;){var r=e.shift();Gv.call(this,r,t)}}function Rn(t){!t&&this.trigger("updated")}function Zv(t,e,r,i){for(var a="component"===e,n=a?t._componentsViews:t._chartsViews,o=a?t._componentsMap:t._chartsMap,s=t._zr,l=t._api,u=0;u<n.length;u++)n[u].__alive=!1;function h(c){var v="_ec_"+c.id+"_"+c.type,d=o[v];if(!d){var p=bl(c.type),g=a?Sn.getClass(p.main,p.sub):_l.getClass(p.sub);R&&Wr(g,p.sub+" does not exist."),(d=new g).init(r,l),o[v]=d,n.push(d),s.add(d.group)}c.__viewId=d.__id=v,d.__alive=!0,d.__model=c,d.group.__ecComponentInfo={mainType:c.mainType,index:c.componentIndex},!a&&i.prepareView(d,c,r,l)}for(a?r.eachComponent(function(c,v){"series"!==c&&h(v)}):r.eachSeries(h),u=0;u<n.length;){var f=n[u];f.__alive?u++:(!a&&f.renderTask.dispose(),s.remove(f.group),f.dispose(r,l),n.splice(u,1),delete o[f.__id],f.__id=f.group.__ecComponentInfo=null)}}function Cl(t){t.clearColorPalette(),t.eachSeries(function(e){e.clearColorPalette()})}function Uv(t,e,r,i){(function(t,e,r,i,a){$(t._componentsViews,function(n){var o=n.__model;n.render(o,e,r,i),Yv(o,n)})})(t,e,r,i),$(t._chartsViews,function(a){a.__alive=!1}),Ml(t,e,0,i),$(t._chartsViews,function(a){a.__alive||a.remove(e,r)})}function Ml(t,e,r,i,a){var o,n=t._scheduler;e.eachSeries(function(s){var l=t._chartsMap[s.__viewId];l.__alive=!0;var u=l.renderTask;n.updatePayload(u,i),a&&a.get(s.uid)&&u.dirty(),o|=u.perform(n.getPerformArgs(u)),l.group.silent=!!s.get("silent"),Yv(s,l),function(t,e){var r=t.get("blendMode")||null;R&&!k.canvasSupported&&r&&"source-over"!==r&&console.warn("Only canvas support blendMode"),e.group.traverse(function(i){i.isGroup||i.style.blend!==r&&i.setStyle("blend",r),i.eachPendingDisplayable&&i.eachPendingDisplayable(function(a){a.setStyle("blend",r)})})}(s,l)}),n.unfinished|=o,function(t,e){var a=0;t._zr.storage.traverse(function(n){a++}),a>e.get("hoverLayerThreshold")&&!k.node&&e.eachSeries(function(n){if(!n.preventUsingHoverLayer){var o=t._chartsMap[n.__viewId];o.__alive&&o.group.traverse(function(s){s.useHoverLayer=!0})}})}(t,e),function(t,e){var r=e.getModel("aria");if(r.get("show"))if(r.get("description"))t.setAttribute("aria-label",r.get("description"));else{var i=0;e.eachSeries(function(p,g){++i},this);var s,a=r.get("data.maxCount")||10,n=r.get("series.maxCount")||10,o=Math.min(i,n);if(!(i<1)){var p,l=((p=e.getModel("title").option)&&p.length&&(p=p[0]),p&&p.text);s=l?f(c("general.withTitle"),{title:l}):c("general.withoutTitle");var u=[];s+=f(c(i>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:i}),e.eachSeries(function(p,g){if(g<o){var _,m=p.get("name"),y="series."+(i>1?"multiple":"single")+".";_=f(_=c(m?y+"withName":y+"withoutName"),{seriesId:p.seriesIndex,seriesName:p.get("name"),seriesType:d(p.subType)});var x=p.getData();window.data=x,x.count()>a?_+=f(c("data.partialData"),{displayCnt:a}):_+=c("data.allData");for(var w=[],C=0;C<x.count();C++)if(C<a){var b=x.getName(C),M=or(x,C);w.push(f(c(b?"data.withName":"data.withoutName"),{name:b,value:M}))}_+=w.join(c("data.separator.middle"))+c("data.separator.end"),u.push(_)}}),s+=u.join(c("series.multiple.separator.middle"))+c("series.multiple.separator.end"),t.setAttribute("aria-label",s)}}function f(p,g){if("string"!=typeof p)return p;var _=p;return S(g,function(m,y){_=_.replace(new RegExp("\\{\\s*"+y+"\\s*\\}","g"),m)}),_}function c(p){var g=r.get(p);if(null==g){for(var _=p.split("."),m=yv.aria,y=0;y<_.length;++y)m=m[_[y]];return m}return g}function d(p){return yv.series.typeNames[p]||"\u81ea\u5b9a\u4e49\u56fe"}}(t._zr.dom,e)}function Tl(t,e){$(qv,function(r){r(t,e)})}N.resize=function(t){if(R&&Wr(!this[zt],"`resize` should not be called during main process."),this._disposed)Lt(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var r=e.resetOption("media"),i=t&&t.silent;this[zt]=!0,r&&Zi(this),Ve.update.call(this),this[zt]=!1,Pn.call(this,i),Rn.call(this,i)}}},N.showLoading=function(t,e){if(this._disposed)Lt(this.id);else if(Hi(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Ll[t]){var r=Ll[t](this._api,e),i=this._zr;this._loadingFX=r,i.add(r)}else R&&console.warn("Loading effects "+t+" not exists.")},N.hideLoading=function(){this._disposed?Lt(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},N.makeActionFromEvent=function(t){var e=V({},t);return e.type=En[t.type],e},N.dispatchAction=function(t,e){if(this._disposed)Lt(this.id);else if(Hi(e)||(e={silent:!!e}),On[t.type]&&this._model){if(this[zt])return void this._pendingActions.push(t);Gv.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&k.browser.weChat&&this._throttledZrFlush(),Pn.call(this,e.silent),Rn.call(this,e.silent)}},N.appendData=function(t){if(this._disposed)Lt(this.id);else{var e=t.seriesIndex,i=this.getModel().getSeriesByIndex(e);R&&Wr(t.data&&i),i.appendData(t),this._scheduler.unfinished=!0}},N.on=Gr("on",!1),N.off=Gr("off",!1),N.one=Gr("one",!1);var r1=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Lt(t){R&&console.warn("Instance "+t+" has been disposed")}function Yv(t,e){var r=t.get("z"),i=t.get("zlevel");e.group.traverse(function(a){"group"!==a.type&&(null!=r&&(a.z=r),null!=i&&(a.zlevel=i))})}function Al(){}N._initEvents=function(){$(r1,function(t){var e=function(r){var n,i=this.getModel(),a=r.target,o="globalout"===t;if(o)n={};else if(a&&null!=a.dataIndex){var s=a.dataModel||i.getSeriesByIndex(a.seriesIndex);n=s&&s.getDataParams(a.dataIndex,a.dataType,a)||{}}else a&&a.eventData&&(n=V({},a.eventData));if(n){var l=n.componentType,u=n.componentIndex;("markLine"===l||"markPoint"===l||"markArea"===l)&&(l="series",u=n.seriesIndex);var h=l&&null!=u&&i.getComponent(l,u),f=h&&this["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];R&&!o&&!(h&&f)&&console.warn("model or view can not be found by params"),n.event=r,n.type=t,this._ecEventProcessor.eventInfo={targetEl:a,packedEvent:n,model:h,view:f},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)},this),$(En,function(t,e){this._messageCenter.on(e,function(r){this.trigger(e,r)},this)},this)},N.isDisposed=function(){return this._disposed},N.clear=function(){this._disposed?Lt(this.id):this.setOption({series:[]},!0)},N.dispose=function(){if(this._disposed)Lt(this.id);else{this._disposed=!0,Cf(this.getDom(),Il,"");var t=this._api,e=this._model;$(this._componentsViews,function(r){r.dispose(e,t)}),$(this._chartsViews,function(r){r.dispose(e,t)}),this._zr.dispose(),delete sr[this.id]}},at(Gi,dt),Al.prototype={constructor:Al,normalizeQuery:function(t){var e={},r={},i={};if(j(t)){var a=bl(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var n=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};S(t,function(s,l){for(var u=!1,h=0;h<n.length;h++){var f=n[h],c=l.lastIndexOf(f);if(c>0&&c===l.length-f.length){var v=l.slice(0,c);"data"!==v&&(e.mainType=v,e[f.toLowerCase()]=s,u=!0)}}o.hasOwnProperty(l)&&(r[l]=s,u=!0),u||(i[l]=s)})}return{cptQuery:e,dataQuery:r,otherQuery:i}},filter:function(t,e,r){var i=this.eventInfo;if(!i)return!0;var a=i.targetEl,n=i.packedEvent,o=i.model,s=i.view;if(!o||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,o,"mainType")&&h(l,o,"subType")&&h(l,o,"index","componentIndex")&&h(l,o,"name")&&h(l,o,"id")&&h(u,n,"name")&&h(u,n,"dataIndex")&&h(u,n,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,a,n));function h(f,c,v,d){return null==f[v]||c[d||v]===f[v]}},afterTrigger:function(){this.eventInfo=null}};var On={},En={},Dl=[],Xv=[],qv=[],kn=[],Kv={},Ll={},sr={},Bn={},o1=new Date-0,s1=new Date-0,Il="_echarts_instance_";function u1(t,e,r){if(R){if("4.3.2".replace(".","")-0<Sl.zrender.replace(".","")-0)throw new Error("zrender/src 4.3.2 is too old for ECharts "+Ev+". Current version need ZRender "+Sl.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.")}var i=Pl(t);if(i)return R&&console.warn("There is a chart instance already initialized on the dom."),i;R&&la(t)&&"CANVAS"!==t.nodeName.toUpperCase()&&(!t.clientWidth&&(!r||null==r.width)||!t.clientHeight&&(!r||null==r.height))&&console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.");var a=new Gi(t,e,r);return a.id="ec_"+o1++,sr[a.id]=a,Cf(t,Il,a.id),function(t){var a="__connectUpdateStatus";function n(o,s){for(var l=0;l<o.length;l++)o[l][a]=s}$(En,function(o,s){t._messageCenter.on(s,function(l){if(Bn[t.group]&&0!==t[a]){if(l&&l.escapeConnect)return;var u=t.makeActionFromEvent(l),h=[];$(sr,function(f){f!==t&&f.group===t.group&&h.push(f)}),n(h,0),$(h,function(f){1!==f[a]&&f.dispatchAction(u)}),n(h,2)}})})}(a),a}function h1(t){if(O(t)){var e=t;t=null,$(e,function(r){null!=r.group&&(t=r.group)}),t=t||"g_"+s1++,$(e,function(r){r.group=t})}return Bn[t]=!0,t}function Qv(t){Bn[t]=!1}var f1=Qv;function c1(t){"string"==typeof t?t=sr[t]:t instanceof Gi||(t=Pl(t)),t instanceof Gi&&!t.isDisposed()&&t.dispose()}function Pl(t){return sr[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(t,Il)]}function v1(t){return sr[t]}function Rl(t,e){Kv[t]=e}function Ui(t){Xv.push(t)}function zn(t,e){Ol(Dl,t,e,1e3)}function d1(t){qv.push(t)}function He(t,e,r){"function"==typeof e&&(r=e,e="");var i=Hi(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,Wr(Fv.test(i)&&Fv.test(e)),On[i]||(On[i]={action:r,actionInfo:t}),En[e]=i}function g1(t,e){ki.register(t,e)}function p1(t){var e=ki.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function Nn(t,e){Ol(kn,t,e,1e3,"layout")}function Fn(t,e){Ol(kn,t,e,3e3,"visual")}function Ol(t,e,r,i,a){if((Uy(e)||Hi(e))&&(r=e,e=i),R){if(isNaN(e)||null==e)throw new Error("Illegal priority");$(t,function(o){Wr(o.__raw!==r)})}var n=Mv.wrapStageHandler(r,a);return n.__prio=e,n.__raw=r,t.push(n),n}function $v(t,e){Ll[t]=e}function Yi(t){return rt.extend(t)}function Zr(t){return Sn.extend(t)}function _1(t){return cl.extend(t)}function El(t){return _l.extend(t)}function m1(t){!function(t,e){sa=null,uo[t]=e}("createCanvas",t)}function y1(t,e,r){!function(t,e,r){var i;O(e)?i=e:e.svg?i=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(r=e.specialAreas,e=e.geoJson),i=[{type:"geoJSON",source:e,specialAreas:r}]),S(i,function(a){var n=a.type;"geoJson"===n&&(n=a.type="geoJSON");var o=Zy[n];R&&ot(o,"Illegal map type: "+n),o(a)}),Rv.set(t,i)}(t,e,r)}function x1(t){var e=function(t){return Rv.get(t)}(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}Fn(2e3,yy),Ui(rv),zn(900,function(t){var e=W();t.eachSeries(function(r){var i=r.get("stack");if(i){var a=e.get(i)||e.set(i,[]),n=r.getData(),o={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:r};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;a.length&&n.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),e.each(ny)}),$v("default",function(t,e){Y(e=e||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Z,i=new it({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(i);var a=e.fontSize+" sans-serif",n=new it({style:{fill:"none",text:e.text,font:a,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});if(r.add(n),e.showSpinner){var o=new Es({shape:{startAngle:-Mn/2,endAngle:-Mn/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*Mn/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Mn/2}).delay(300).start("circularInOut"),r.add(o)}return r.resize=function(){var s=Ut(e.text,a),l=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-2*l-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner?0:s/2),h=t.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:h}),n.setShape({x:u-l,y:h-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}),He({type:"highlight",event:"highlight",update:"highlight"},be),He({type:"downplay",event:"downplay",update:"downplay"},be),Rl("light",Oy),Rl("dark",Ey);var w1={};function Jv(t){return t}function kl(t,e,r,i,a){this._old=t,this._new=e,this._oldKeyGetter=r||Jv,this._newKeyGetter=i||Jv,this.context=a}function jv(t,e,r,i,a){for(var n=0;n<t.length;n++){var o="_ec_"+a[i](t[n],n),s=e[o];null==s?(r.push(o),e[o]=n):(s.length||(e[o]=s=[s]),s.push(n))}}kl.prototype={constructor:kl,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},a=[],n=[];for(jv(t,{},a,"_oldKeyGetter",this),jv(e,i,n,"_newKeyGetter",this),o=0;o<t.length;o++)null!=(l=i[s=a[o]])?((u=l.length)?(1===u&&(i[s]=null),l=l.shift()):i[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o);for(var o=0;o<n.length;o++){var s;if(i.hasOwnProperty(s=n[o])){var l;if(null==(l=i[s]))continue;if(l.length)for(var h=0,u=l.length;h<u;h++)this._add&&this._add(l[h]);else this._add&&this._add(l)}}}};const b1=kl;var Bl=W(["tooltip","label","itemName","itemId","seriesName"]);function zl(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}const Xi=function(t){null!=t&&V(this,t),this.otherDims={}};var Vn=z,qi="undefined",D1={float:typeof Float64Array===qi?Array:Float64Array,int:typeof Int32Array===qi?Array:Int32Array,ordinal:Array,number:Array,time:Array},L1=typeof Uint32Array===qi?Array:Uint32Array,I1=typeof Int32Array===qi?Array:Int32Array,P1=typeof Uint16Array===qi?Array:Uint16Array;function Hn(t){return t._rawCount>65535?L1:P1}function R1(t){var e=t.constructor;return e===Array?t.slice():new e(t)}var O1=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],E1=["_extent","_approximateExtent","_rawExtent"];function ed(t,e){S(O1.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t.__wrappedMethods=e.__wrappedMethods,S(E1,function(r){t[r]=Q(e[r])}),t._calculationInfo=V(e._calculationInfo)}var Wn=function(t,e){t=t||["x","y"];for(var r={},i=[],a={},n=0;n<t.length;n++){var o=t[n];j(o)?o=new Xi({name:o}):o instanceof Xi||(o=new Xi(o));var s=o.name;o.type=o.type||"float",o.coordDim||(o.coordDim=s,o.coordDimIndex=0),o.otherDims=o.otherDims||{},i.push(s),r[s]=o,o.index=n,o.createInvertedIndices&&(a[s]=[])}this.dimensions=i,this._dimensionInfos=r,this.hostModel=e,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(t){var e={},r=e.encode={},i=W(),a=[],n=[],o=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};S(t.dimensions,function(f){var c=t.getDimensionInfo(f),v=c.coordDim;if(v){R&&ot(null==Bl.get(v));var d=c.coordDimIndex;zl(r,v)[d]=f,c.isExtraCoord||(i.set(v,1),function(t){return!("ordinal"===t||"time"===t)}(c.type)&&(a[0]=f),zl(o.encode,v)[d]=c.index),c.defaultTooltip&&n.push(f)}Bl.each(function(p,g){var _=zl(r,g),m=c.otherDims[g];null!=m&&!1!==m&&(_[m]=c.name)})});var s=[],l={};i.each(function(f,c){var v=r[c];l[c]=v[0],s=s.concat(v)}),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var u=r.label;u&&u.length&&(a=u.slice());var h=r.tooltip;return h&&h.length?n=h.slice():n.length||(n=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=n,e}(this),this._invertedIndicesMap=a,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},I=Wn.prototype;function rd(t,e,r,i,a){var n=D1[e.type],o=i-1,s=e.name,l=t[s][o];if(l&&l.length<r){for(var u=new n(Math.min(a-o*r,r)),h=0;h<l.length;h++)u[h]=l[h];t[s][o]=u}for(var f=i*r;f<a;f+=r)t[s].push(new n(Math.min(a-f,r)))}function id(t){var e=t._invertedIndicesMap;S(e,function(r,i){var n=t._dimensionInfos[i].ordinalMeta;if(n){r=e[i]=new I1(n.categories.length);for(var o=0;o<r.length;o++)r[o]=-1;for(o=0;o<t._count;o++)r[t.get(i,o)]=o}})}function ad(t,e,r){var i;if(null!=e){var a=t._chunkSize,n=Math.floor(r/a),s=t.dimensions[e],l=t._storage[s][n];if(l){i=l[r%a];var u=t._dimensionInfos[s].ordinalMeta;u&&u.categories.length&&(i=u.categories[i])}}return i}function Ki(t){return t}function Qi(t){return t<this._count&&t>=0?this._indices[t]:-1}function Nl(t,e){var r=t._idList[e];return null==r&&(r=ad(t,t._idDimIdx,e)),null==r&&(r="e\0\0"+e),r}function Fl(t){return O(t)||(t=[t]),t}function Gn(t,e){for(var r=0;r<e.length;r++)t._dimensionInfos[e[r]]||console.error("Unkown dimension "+e[r])}function nd(t,e){var r=t.dimensions,i=new Wn(E(r,t.getDimensionInfo,t),t.hostModel);ed(i,t);for(var a=i._storage={},n=t._storage,o=0;o<r.length;o++){var s=r[o];n[s]&&(G(e,s)>=0?(a[s]=k1(n[s]),i._rawExtent[s]=[1/0,-1/0],i._extent[s]=null):a[s]=n[s])}return i}function k1(t){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=R1(t[r]);return e}I.type="list",I.hasItemOption=!0,I.getDimension=function(t){return("number"==typeof t||!isNaN(t)&&!this._dimensionInfos.hasOwnProperty(t))&&(t=this.dimensions[t]),t},I.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},I.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},I.mapDimension=function(t,e){var r=this._dimensionsSummary;if(null==e)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return!0===e?(i||[]).slice():i&&i[e]},I.initData=function(t,e,r){var i=Be.isInstance(t)||we(t);if(i&&(t=new iv(t,this.dimensions.length)),R&&!i&&("function"!=typeof t.getItem||"function"!=typeof t.count))throw new Error("Inavlid data provider.");this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},r||(this.hasItemOption=!1),this.defaultDimValueGetter=ov[this._rawData.getSource().sourceFormat],this._dimValueGetter=r=r||this.defaultDimValueGetter,this._dimValueGetterArrayRows=ov.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},I.getProvider=function(){return this._rawData},I.appendData=function(t){R&&ot(!this._indices,"appendData can only be called on raw data.");var e=this._rawData,r=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=r),this._initDataFromProvider(r,i)},I.appendValues=function(t,e){for(var r=this._chunkSize,i=this._storage,a=this.dimensions,n=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),u=this._chunkCount,h=0;h<n;h++)o[f=a[h]]||(o[f]=[1/0,-1/0]),i[f]||(i[f]=[]),rd(i,this._dimensionInfos[f],r,u,l),this._chunkCount=i[f].length;for(var c=new Array(n),v=s;v<l;v++){for(var d=v-s,p=Math.floor(v/r),g=v%r,_=0;_<n;_++){var f,m=this._dimValueGetterArrayRows(t[d]||c,f=a[_],d,_);i[f][p][g]=m;var y=o[f];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}e&&(this._nameList[v]=e[d])}this._rawCount=this._count=l,this._extent={},id(this)},I._initDataFromProvider=function(t,e){if(!(t>=e)){for(var c,r=this._chunkSize,i=this._rawData,a=this._storage,n=this.dimensions,o=n.length,s=this._dimensionInfos,l=this._nameList,u=this._idList,h=this._rawExtent,f=this._nameRepeatCount={},v=this._chunkCount,d=0;d<o;d++){h[p=n[d]]||(h[p]=[1/0,-1/0]);var g=s[p];0===g.otherDims.itemName&&(c=this._nameDimIdx=d),0===g.otherDims.itemId&&(this._idDimIdx=d),a[p]||(a[p]=[]),rd(a,g,r,v,e),this._chunkCount=a[p].length}for(var _=new Array(o),m=t;m<e;m++){_=i.getItem(m,_);for(var y=Math.floor(m/r),x=m%r,w=0;w<o;w++){var p,C=a[p=n[w]][y],b=this._dimValueGetter(_,p,m,w);C[x]=b;var M=h[p];b<M[0]&&(M[0]=b),b>M[1]&&(M[1]=b)}if(!i.pure){var T=l[m];if(_&&null==T)if(null!=_.name)l[m]=T=_.name;else if(null!=c){var D=n[c],A=a[D][y];if(A){T=A[x];var P=s[D].ordinalMeta;P&&P.categories.length&&(T=P.categories[T])}}var L=null==_?null:_.id;null==L&&null!=T&&(f[T]=f[T]||0,L=T,f[T]>0&&(L+="__ec__"+f[T]),f[T]++),null!=L&&(u[m]=L)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},id(this)}},I.count=function(){return this._count},I.getIndices=function(){var e=this._indices;if(e){var i=this._count;if((r=e.constructor)===Array){t=new r(i);for(var a=0;a<i;a++)t[a]=e[a]}else t=new r(e.buffer,0,i)}else{var r,t=new(r=Hn(this))(this.count());for(a=0;a<t.length;a++)t[a]=a}return t},I.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var r=this._storage;if(!r[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize);return r[t][i][e%this._chunkSize]},I.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var r=this._storage[t];return r?r[Math.floor(e/this._chunkSize)][e%this._chunkSize]:NaN},I._getFast=function(t,e){var r=Math.floor(e/this._chunkSize);return this._storage[t][r][e%this._chunkSize]},I.getValues=function(t,e){var r=[];O(t)||(e=t,t=this.dimensions);for(var i=0,a=t.length;i<a;i++)r.push(this.get(t[i],e));return r},I.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,r=0,i=e.length;r<i;r++)if(isNaN(this.get(e[r],t)))return!1;return!0},I.getDataExtent=function(t){t=this.getDimension(t);var r=[1/0,-1/0];if(!this._storage[t])return r;var n,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var o=(n=r)[0],s=n[1],l=0;l<i;l++){var u=this._getFast(t,this.getRawIndex(l));u<o&&(o=u),u>s&&(s=u)}return this._extent[t]=n=[o,s],n},I.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},I.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},I.getCalculationInfo=function(t){return this._calculationInfo[t]},I.setCalculationInfo=function(t,e){Vn(t)?V(this._calculationInfo,t):this._calculationInfo[t]=e},I.getSum=function(t){var r=0;if(this._storage[t])for(var i=0,a=this.count();i<a;i++){var n=this.get(t,i);isNaN(n)||(r+=n)}return r},I.getMedian=function(t){var e=[];this.each(t,function(a,n){isNaN(a)||e.push(a)});var r=[].concat(e).sort(function(a,n){return a-n}),i=this.count();return 0===i?0:i%2==1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},I.rawIndexOf=function(t,e){var r=t&&this._invertedIndicesMap[t];if(R&&!r)throw new Error("Do not supported yet");var i=r[e];return null==i||isNaN(i)?-1:i},I.indexOfName=function(t){for(var e=0,r=this.count();e<r;e++)if(this.getName(e)===t)return e;return-1},I.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,r=e[t];if(null!=r&&r<this._count&&r===t)return t;for(var i=0,a=this._count-1;i<=a;){var n=(i+a)/2|0;if(e[n]<t)i=n+1;else{if(!(e[n]>t))return n;a=n-1}}return-1},I.indicesOfNearest=function(t,e,r){var n=[];if(!this._storage[t])return n;null==r&&(r=1/0);for(var o=1/0,s=-1,l=0,u=0,h=this.count();u<h;u++){var f=e-this.get(t,u),c=Math.abs(f);c<=r&&((c<o||c===o&&f>=0&&s<0)&&(o=c,s=f,l=0),f===s&&(n[l++]=u))}return n.length=l,n},I.getRawIndex=Ki,I.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],r=0;r<this.dimensions.length;r++)e.push(this.get(this.dimensions[r],t));return e},I.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||ad(this,this._nameDimIdx,e)||""},I.getId=function(t){return Nl(this,this.getRawIndex(t))},I.each=function(t,e,r,i){if(this._count){"function"==typeof t&&(i=r,r=e,e=t,t=[]),r=r||i||this,t=E(Fl(t),this.getDimension,this),R&&Gn(this,t);for(var a=t.length,n=0;n<this.count();n++)switch(a){case 0:e.call(r,n);break;case 1:e.call(r,this.get(t[0],n),n);break;case 2:e.call(r,this.get(t[0],n),this.get(t[1],n),n);break;default:for(var o=0,s=[];o<a;o++)s[o]=this.get(t[o],n);s[o]=n,e.apply(r,s)}}},I.filterSelf=function(t,e,r,i){if(this._count){"function"==typeof t&&(i=r,r=e,e=t,t=[]),r=r||i||this,t=E(Fl(t),this.getDimension,this),R&&Gn(this,t);for(var a=this.count(),o=new(Hn(this))(a),s=[],l=t.length,u=0,h=t[0],f=0;f<a;f++){var c,v=this.getRawIndex(f);if(0===l)c=e.call(r,f);else if(1===l){var d=this._getFast(h,v);c=e.call(r,d,f)}else{for(var p=0;p<l;p++)s[p]=this._getFast(h,v);s[p]=f,c=e.apply(r,s)}c&&(o[u++]=v)}return u<a&&(this._indices=o),this._count=u,this._extent={},this.getRawIndex=this._indices?Qi:Ki,this}},I.selectRange=function(t){if(this._count){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);R&&Gn(this,e);var i=e.length;if(i){var a=this.count(),o=new(Hn(this))(a),s=0,l=e[0],u=t[l][0],h=t[l][1],f=!1;if(!this._indices){var c=0;if(1===i){for(var v=this._storage[e[0]],d=0;d<this._chunkCount;d++)for(var p=v[d],g=Math.min(this._count-d*this._chunkSize,this._chunkSize),_=0;_<g;_++)((m=p[_])>=u&&m<=h||isNaN(m))&&(o[s++]=c),c++;f=!0}else if(2===i){v=this._storage[l];var y=this._storage[e[1]],x=t[e[1]][0],w=t[e[1]][1];for(d=0;d<this._chunkCount;d++){p=v[d];var C=y[d];for(g=Math.min(this._count-d*this._chunkSize,this._chunkSize),_=0;_<g;_++){var b=C[_];((m=p[_])>=u&&m<=h||isNaN(m))&&(b>=x&&b<=w||isNaN(b))&&(o[s++]=c),c++}}f=!0}}if(!f)if(1===i)for(_=0;_<a;_++){var M=this.getRawIndex(_);((m=this._getFast(l,M))>=u&&m<=h||isNaN(m))&&(o[s++]=M)}else for(_=0;_<a;_++){var T=!0;for(M=this.getRawIndex(_),d=0;d<i;d++){var m,D=e[d];((m=this._getFast(r,M))<t[D][0]||m>t[D][1])&&(T=!1)}T&&(o[s++]=this.getRawIndex(_))}return s<a&&(this._indices=o),this._count=s,this._extent={},this.getRawIndex=this._indices?Qi:Ki,this}}},I.mapArray=function(t,e,r,i){"function"==typeof t&&(i=r,r=e,e=t,t=[]);var a=[];return this.each(t,function(){a.push(e&&e.apply(this,arguments))},r=r||i||this),a},I.map=function(t,e,r,i){r=r||i||this,t=E(Fl(t),this.getDimension,this),R&&Gn(this,t);var a=nd(this,t);a._indices=this._indices,a.getRawIndex=a._indices?Qi:Ki;for(var n=a._storage,o=[],s=this._chunkSize,l=t.length,u=this.count(),h=[],f=a._rawExtent,c=0;c<u;c++){for(var v=0;v<l;v++)h[v]=this.get(t[v],c);h[l]=c;var d=e&&e.apply(r,h);if(null!=d){"object"!=typeof d&&(o[0]=d,d=o);for(var p=this.getRawIndex(c),g=Math.floor(p/s),_=p%s,m=0;m<d.length;m++){var y=t[m],x=d[m],w=f[y],C=n[y];C&&(C[g][_]=x),x<w[0]&&(w[0]=x),x>w[1]&&(w[1]=x)}}}return a},I.downSample=function(t,e,r,i){for(var a=nd(this,[t]),n=a._storage,o=[],s=Math.floor(1/e),l=n[t],u=this.count(),h=this._chunkSize,f=a._rawExtent[t],c=new(Hn(this))(u),v=0,d=0;d<u;d+=s){s>u-d&&(o.length=s=u-d);for(var p=0;p<s;p++){var g=this.getRawIndex(d+p),_=Math.floor(g/h);o[p]=l[_][g%h]}var y=r(o),x=this.getRawIndex(Math.min(d+i(o,y)||0,u-1));l[Math.floor(x/h)][x%h]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),c[v++]=x}return a._count=v,a._indices=c,a.getRawIndex=Qi,a},I.getItemModel=function(t){var e=this.hostModel;return new Qt(this.getRawDataItem(t),e,e&&e.ecModel)},I.diff=function(t){var e=this;return new b1(t?t.getIndices():[],this.getIndices(),function(r){return Nl(t,r)},function(r){return Nl(e,r)})},I.getVisual=function(t){var e=this._visual;return e&&e[t]},I.setVisual=function(t,e){if(Vn(t))for(var r in t)t.hasOwnProperty(r)&&this.setVisual(r,t[r]);else this._visual=this._visual||{},this._visual[t]=e},I.setLayout=function(t,e){if(Vn(t))for(var r in t)t.hasOwnProperty(r)&&this.setLayout(r,t[r]);else this._layout[t]=e},I.getLayout=function(t){return this._layout[t]},I.getItemLayout=function(t){return this._itemLayouts[t]},I.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?V(this._itemLayouts[t]||{},e):e},I.clearItemLayouts=function(){this._itemLayouts.length=0},I.getItemVisual=function(t,e,r){var i=this._itemVisuals[t],a=i&&i[e];return null!=a||r?a:this.getVisual(e)},I.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{},a=this.hasItemVisual;if(this._itemVisuals[t]=i,Vn(e))for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n],a[n]=!0);else i[e]=r,a[e]=!0},I.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var B1=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};I.setItemGraphicEl=function(t,e){var r=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=r&&r.seriesIndex,"group"===e.type&&e.traverse(B1,e)),this._graphicEls[t]=e},I.getItemGraphicEl=function(t){return this._graphicEls[t]},I.eachItemGraphicEl=function(t,e){S(this._graphicEls,function(r,i){r&&t&&t.call(e,r,i)})},I.cloneShallow=function(t){if(!t){var e=E(this.dimensions,this.getDimensionInfo,this);t=new Wn(e,this.hostModel)}return t._storage=this._storage,ed(t,this),t._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,t.getRawIndex=t._indices?Qi:Ki,t},I.wrapMethod=function(t,e){var r=this[t];"function"==typeof r&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return e.apply(this,[i].concat(qu(arguments)))})},I.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],I.CHANGABLE_METHODS=["filterSelf","selectRange"];const Un=Wn;function od(t,e,r){if(r||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function H1(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=W(),this.categoryAxisMap=W(),this.firstCategoryDimIndex=null}var G1={cartesian2d:function(t,e,r,i){var a=t.getReferringComponents("xAxis")[0],n=t.getReferringComponents("yAxis")[0];if(R){if(!a)throw new Error('xAxis "'+Ft(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found');if(!n)throw new Error('yAxis "'+Ft(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}e.coordSysDims=["x","y"],r.set("x",a),r.set("y",n),Ur(a)&&(i.set("x",a),e.firstCategoryDimIndex=0),Ur(n)&&(i.set("y",n),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,r,i){var a=t.getReferringComponents("singleAxis")[0];if(R&&!a)throw new Error("singleAxis should be specified.");e.coordSysDims=["single"],r.set("single",a),Ur(a)&&(i.set("single",a),e.firstCategoryDimIndex=0)},polar:function(t,e,r,i){var a=t.getReferringComponents("polar")[0],n=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");if(R){if(!o)throw new Error("angleAxis option not found");if(!n)throw new Error("radiusAxis option not found")}e.coordSysDims=["radius","angle"],r.set("radius",n),r.set("angle",o),Ur(n)&&(i.set("radius",n),e.firstCategoryDimIndex=0),Ur(o)&&(i.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,i){var a=t.ecModel,n=a.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();S(n.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),h=o[l];r.set(h,u),Ur(u)&&null==e.firstCategoryDimIndex&&(i.set(h,u),e.firstCategoryDimIndex=l)})}};function Ur(t){return"category"===t.get("type")}function $i(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function sd(t,e){return $i(t,e)?t.getCalculationInfo("stackResultDimension"):e}const ld=function(t,e,r){r=r||{},Be.isInstance(t)||(t=Be.seriesDataToSource(t));var o,i=e.get("coordinateSystem"),a=ki.get(i),n=function(t){var e=t.get("coordinateSystem"),r=new H1(e),i=G1[e];if(i)return i(t,r,r.axisMap,r.categoryAxisMap),r}(e);n&&(o=E(n.coordSysDims,function(v){var d={name:v},p=n.axisMap.get(v);if(p){var g=p.get("type");d.type=function(t){return"category"===t?"ordinal":"time"===t?"time":"float"}(g)}return d})),o||(o=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var l,u,s=function(t,e){return function(t,e,r){Be.isInstance(e)||(e=Be.seriesDataToSource(e)),r=r||{},t=(t||[]).slice();for(var i=(r.dimsDef||[]).slice(),a=W(),n=W(),o=[],s=function(t,e,r,i){var a=Math.max(t.dimensionsDetectCount||1,e.length,r.length,i||0);return S(e,function(n){var o=n.dimsDef;o&&(a=Math.max(a,o.length))}),a}(e,t,i,r.dimCount),l=0;l<s;l++){var u=i[l]=V({},z(i[l])?i[l]:{name:i[l]}),h=u.name,f=o[l]=new Xi;null!=h&&null==a.get(h)&&(f.name=f.displayName=h,a.set(h,l)),null!=u.type&&(f.type=u.type),null!=u.displayName&&(f.displayName=u.displayName)}var c=r.encodeDef;!c&&r.encodeDefaulter&&(c=r.encodeDefaulter(e,s)),(c=W(c)).each(function(w,C){if(1===(w=bt(w).slice()).length&&!j(w[0])&&w[0]<0)c.set(C,!1);else{var b=c.set(C,[]);S(w,function(M,T){j(M)&&(M=a.get(M)),null!=M&&M<s&&(b[T]=M,d(o[M],C,T))})}});var v=0;function d(w,C,b){null!=Bl.get(C)?w.otherDims[C]=b:(w.coordDim=C,w.coordDimIndex=b,n.set(C,!0))}S(t,function(w,C){var b,M,T;if(j(w))b=w,w={};else{b=w.name;var D=w.ordinalMeta;w.ordinalMeta=null,(w=Q(w)).ordinalMeta=D,M=w.dimsDef,T=w.otherDims,w.name=w.coordDim=w.coordDimIndex=w.dimsDef=w.otherDims=null}if(!1!==(A=c.get(b))){var A;if(!(A=bt(A)).length)for(var P=0;P<(M&&M.length||1);P++){for(;v<o.length&&null!=o[v].coordDim;)v++;v<o.length&&A.push(v++)}S(A,function(L,U){var H=o[L];if(d(Y(H,w),b,U),null==H.name&&M){var vt=M[U];!z(vt)&&(vt={name:vt}),H.name=H.displayName=vt.name,H.defaultTooltip=vt.defaultTooltip}T&&Y(H.otherDims,T)})}});var p=r.generateCoord,g=r.generateCoordCount,_=null!=g;g=p?g||1:0;for(var m=p||"value",y=0;y<s;y++)null==(f=o[y]=o[y]||new Xi).coordDim&&(f.coordDim=od(m,n,_),f.coordDimIndex=0,(!p||g<=0)&&(f.isExtraCoord=!0),g--),null==f.name&&(f.name=od(f.coordDim,a)),null==f.type&&(1===zm(e,y)||f.isExtraCoord&&(null!=f.otherDims.itemName||null!=f.otherDims.seriesName))&&(f.type="ordinal");return o}((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}(t,{coordDimensions:o,generateCoord:r.generateCoord,encodeDefaulter:r.useEncodeDefaulter?nt(Bm,o,e):null});n&&S(s,function(v,d){var g=n.categoryAxisMap.get(v.coordDim);g&&(null==l&&(l=d),v.ordinalMeta=g.getOrdinalMeta()),null!=v.otherDims.itemName&&(u=!0)}),!u&&null!=l&&(s[l].otherDims.itemName=0);var h=function(t,e,r){var o,s,l,u,i=(r=r||{}).byIndex,a=r.stackedCoordDimension,n=!(!t||!t.get("stack"));if(S(e,function(v,d){j(v)&&(e[d]=v={name:v}),n&&!v.isExtraCoord&&(!i&&!o&&v.ordinalMeta&&(o=v),!s&&"ordinal"!==v.type&&"time"!==v.type&&(!a||a===v.coordDim)&&(s=v))}),s&&!i&&!o&&(i=!0),s){l="__\0ecstackresult",u="__\0ecstackedover",o&&(o.createInvertedIndices=!0);var h=s.coordDim,f=s.type,c=0;S(e,function(v){v.coordDim===h&&c++}),e.push({name:l,coordDim:h,coordDimIndex:c,type:f,isExtraCoord:!0,isCalculationCoord:!0}),c++,e.push({name:u,coordDim:u,coordDimIndex:c,type:f,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:s&&s.name,stackedByDimension:o&&o.name,isStackedByIndex:i,stackedOverDimension:u,stackResultDimension:l}}(e,s),f=new Un(s,e);f.setCalculationInfo(h);var c=null!=l&&function(t){if(t.sourceFormat===Pi){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!O(za(e))}}(t)?function(v,d,p,g){return g===l?p:this.defaultDimValueGetter(v,d,p,g)}:null;return f.hasItemOption=!1,f.initData(t,null,c),f};cl.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return ld(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});var q1=_e({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,i=e.cy,a=e.width/2,n=e.height/2;t.moveTo(r,i-n),t.lineTo(r+a,i+n),t.lineTo(r-a,i+n),t.closePath()}}),K1=_e({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,i=e.cy,a=e.width/2,n=e.height/2;t.moveTo(r,i-n),t.lineTo(r+a,i),t.lineTo(r,i+n),t.lineTo(r-a,i),t.closePath()}}),Q1=_e({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,i=e.y,a=e.width/5*3,n=Math.max(a,e.height),o=a/2,s=o*o/(n-o),l=i-n+o+s,u=Math.asin(s/o),h=Math.cos(u)*o,f=Math.sin(u),c=Math.cos(u),v=.6*o,d=.7*o;t.moveTo(r-h,l+s),t.arc(r,l,o,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(r+h-f*v,l+s+c*v,r,i-d,r,i),t.bezierCurveTo(r,i-d,r-h+f*v,l+s+c*v,r-h,l+s),t.closePath()}}),$1=_e({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,a=e.x,n=e.y,o=e.width/3*2;t.moveTo(a,n),t.lineTo(a+o,n+r),t.lineTo(a,n+r/4*3),t.lineTo(a-o,n+r),t.lineTo(a,n),t.closePath()}}),j1={line:function(t,e,r,i,a){a.x1=t,a.y1=e+i/2,a.x2=t+r,a.y2=e+i/2},rect:function(t,e,r,i,a){a.x=t,a.y=e,a.width=r,a.height=i},roundRect:function(t,e,r,i,a){a.x=t,a.y=e,a.width=r,a.height=i,a.r=Math.min(r,i)/4},square:function(t,e,r,i,a){var n=Math.min(r,i);a.x=t,a.y=e,a.width=n,a.height=n},circle:function(t,e,r,i,a){a.cx=t+r/2,a.cy=e+i/2,a.r=Math.min(r,i)/2},diamond:function(t,e,r,i,a){a.cx=t+r/2,a.cy=e+i/2,a.width=r,a.height=i},pin:function(t,e,r,i,a){a.x=t+r/2,a.y=e+i/2,a.width=r,a.height=i},arrow:function(t,e,r,i,a){a.x=t+r/2,a.y=e+i/2,a.width=r,a.height=i},triangle:function(t,e,r,i,a){a.cx=t+r/2,a.cy=e+i/2,a.width=r,a.height=i}},Vl={};S({line:pe,rect:it,roundRect:it,square:it,circle:ja,diamond:K1,pin:Q1,arrow:$1,triangle:q1},function(t,e){Vl[e]=new t});var tx=_e({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var i=es(t,e,r),a=this.shape;return a&&"pin"===a.symbolType&&"inside"===e.textPosition&&(i.y=r.y+.4*r.height),i},buildPath:function(t,e,r){var i=e.symbolType;if("none"!==i){var a=Vl[i];a||(a=Vl[i="rect"]),j1[i](e.x,e.y,e.width,e.height,a.shape),a.buildPath(t,a.shape,r)}}});function ex(t,e){if("image"!==this.type){var r=this.style,i=this.shape;i&&"line"===i.symbolType?r.stroke=t:this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff"):(r.fill&&(r.fill=t),r.stroke&&(r.stroke=t)),this.dirty(!1)}}function Yn(t,e,r,i,a,n,o){var l,s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(l=0===t.indexOf("image://")?lc(t.slice(8),new gt(e,r,i,a),o?"center":"cover"):0===t.indexOf("path://")?Ns(t.slice(7),{},new gt(e,r,i,a),o?"center":"cover"):new tx({shape:{symbolType:t,x:e,y:r,width:i,height:a}})).__isEmptyBrush=s,l.setColor=ex,l.setColor(n),l}function ud(t,e){var r=t.mapDimension("defaultedLabel",!0),i=r.length;if(1===i)return or(t,e,r[0]);if(i){for(var a=[],n=0;n<r.length;n++){var o=or(t,e,r[n]);a.push(o)}return a.join(" ")}}function Xn(t,e,r){Z.call(this),this.updateData(t,e,r)}var jt=Xn.prototype,rx=Xn.getSymbolSize=function(t,e){var r=t.getItemVisual(e,"symbolSize");return r instanceof Array?r.slice():[+r,+r]};function Hl(t){return[t[0]/2,t[1]/2]}function ix(t,e){this.parent.drift(t,e)}jt._createSymbol=function(t,e,r,i,a){this.removeAll();var o=Yn(t,-1,-1,2,2,e.getItemVisual(r,"color"),a);o.attr({z2:100,culling:!0,scale:Hl(i)}),o.drift=ix,this._symbolType=t,this.add(o)},jt.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},jt.getSymbolPath=function(){return this.childAt(0)},jt.getScale=function(){return this.childAt(0).scale},jt.highlight=function(){this.childAt(0).trigger("emphasis")},jt.downplay=function(){this.childAt(0).trigger("normal")},jt.setZ=function(t,e){var r=this.childAt(0);r.zlevel=t,r.z=e},jt.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},jt.updateData=function(t,e,r){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",a=t.hostModel,n=rx(t,e),o=i!==this._symbolType;if(o){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,n,s)}else(l=this.childAt(0)).silent=!1,Kt(l,{scale:Hl(n)},a,e);if(this._updateCommon(t,e,n,r),o){var l=this.childAt(0),u=r&&r.fadeIn,h={scale:l.scale.slice()};u&&(h.style={opacity:l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),Di(l,h,a,e)}this._seriesModel=a};var ax=["itemStyle"],nx=["emphasis","itemStyle"],ox=["label"],sx=["emphasis","label"];function lx(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var r=this.__symbolOriginalScale,i=r[1]/r[0],a={scale:[Math.max(1.1*r[0],r[0]+3),Math.max(1.1*r[1],r[1]+3*i)]};this.animateTo(a,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}jt._updateCommon=function(t,e,r,i){var a=this.childAt(0),n=t.hostModel,o=t.getItemVisual(e,"color");"image"!==a.type?a.useStyle({strokeNoScale:!0}):a.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var s=i&&i.itemStyle,l=i&&i.hoverItemStyle,u=i&&i.symbolOffset,h=i&&i.labelModel,f=i&&i.hoverLabelModel,c=i&&i.hoverAnimation,v=i&&i.cursorStyle;if(!i||t.hasItemOption){var d=i&&i.itemModel?i.itemModel:t.getItemModel(e);s=d.getModel(ax).getItemStyle(["color"]),l=d.getModel(nx).getItemStyle(),u=d.getShallow("symbolOffset"),h=d.getModel(ox),f=d.getModel(sx),c=d.getShallow("hoverAnimation"),v=d.getShallow("cursor")}else l=V({},l);var p=a.style,g=t.getItemVisual(e,"symbolRotate");a.attr("rotation",(g||0)*Math.PI/180||0),u&&a.attr("position",[et(u[0],r[0]),et(u[1],r[1])]),v&&a.attr("cursor",v),a.setColor(o,i&&i.symbolInnerColor),a.setStyle(s);var _=t.getItemVisual(e,"opacity");null!=_&&(p.opacity=_);var m=t.getItemVisual(e,"liftZ"),y=a.__z2Origin;null!=m?null==y&&(a.__z2Origin=a.z2,a.z2+=m):null!=y&&(a.z2=y,a.__z2Origin=null);var x=i&&i.useNameLabel;Hs(p,l,h,f,{labelFetcher:n,labelDataIndex:e,defaultText:function(C,b){return x?t.getName(C):ud(t,C)},isRectText:!0,autoColor:o}),a.__symbolOriginalScale=Hl(r),a.hoverStyle=l,a.highDownOnUpdate=c&&n.isAnimationEnabled()?lx:null,ln(a)},jt.fadeOut=function(t,e){var r=this.childAt(0);this.silent=r.silent=!0,!(e&&e.keepLabel)&&(r.style.text=null),Kt(r,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},xt(Xn,Z);const ux=Xn;function hd(t){this.group=new Z,this._symbolCtor=t||ux}var Yr=hd.prototype;function Wl(t,e,r,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(r))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(r,"symbol")}function fd(t){return null!=t&&!z(t)&&(t={isIgnore:t}),t||{}}function cd(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}Yr.updateData=function(t,e){e=fd(e);var r=this.group,i=t.hostModel,a=this._data,n=this._symbolCtor,o=cd(t);a||r.removeAll(),t.diff(a).add(function(s){var l=t.getItemLayout(s);if(Wl(t,l,s,e)){var u=new n(t,s,o);u.attr("position",l),t.setItemGraphicEl(s,u),r.add(u)}}).update(function(s,l){var u=a.getItemGraphicEl(l),h=t.getItemLayout(s);Wl(t,h,s,e)?(u?(u.updateData(t,s,o),Kt(u,{position:h},i)):(u=new n(t,s)).attr("position",h),r.add(u),t.setItemGraphicEl(s,u)):r.remove(u)}).remove(function(s){var l=a.getItemGraphicEl(s);l&&l.fadeOut(function(){r.remove(l)})}).execute(),this._data=t},Yr.isPersistent=function(){return!0},Yr.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,r){var i=t.getItemLayout(r);e.attr("position",i)})},Yr.incrementalPrepareUpdate=function(t){this._seriesScope=cd(t),this._data=null,this.group.removeAll()},Yr.incrementalUpdate=function(t,e,r){function i(s){s.isGroup||(s.incremental=s.useHoverLayer=!0)}r=fd(r);for(var a=t.start;a<t.end;a++){var n=e.getItemLayout(a);if(Wl(e,n,a,r)){var o=new this._symbolCtor(e,a,this._seriesScope);o.traverse(i),o.attr("position",n),this.group.add(o),e.setItemGraphicEl(a,o)}}},Yr.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)})}):e.removeAll()};const hx=hd;var Zl=_e({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var r=e.points,i=e.size,a=this.symbolProxy,n=a.shape;if(!((t.getContext?t.getContext():t)&&i[0]<4))for(var l=0;l<r.length;){var u=r[l++],h=r[l++];isNaN(u)||isNaN(h)||this.softClipShape&&!this.softClipShape.contain(u,h)||(n.x=u-i[0]/2,n.y=h-i[1]/2,n.width=i[0],n.height=i[1],a.buildPath(t,n,!0))}},afterBrush:function(t){var e=this.shape,r=e.points,i=e.size;if(i[0]<4){this.setTransform(t);for(var n=0;n<r.length;){var o=r[n++],s=r[n++];isNaN(o)||isNaN(s)||this.softClipShape&&!this.softClipShape.contain(o,s)||t.fillRect(o-i[0]/2,s-i[1]/2,i[0],i[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var r=this.shape,i=r.points,a=r.size,n=Math.max(a[0],4),o=Math.max(a[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,u=i[l]-n/2,h=i[l+1]-o/2;if(t>=u&&e>=h&&t<=u+n&&e<=h+o)return s}return-1}});function vd(){this.group=new Z}var We=vd.prototype;We.isPersistent=function(){return!this._incremental},We.updateData=function(t,e){this.group.removeAll();var r=new Zl({rectHover:!0,cursor:"default"});r.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(r,t,!1,e),this.group.add(r),this._incremental=null},We.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(r){null!=r.startIndex&&(e=new Float32Array(e.buffer,4*r.startIndex*2,2*(r.endIndex-r.startIndex))),r.setShape("points",e)})}},We.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new ic({silent:!0})),this.group.add(this._incremental)):this._incremental=null},We.incrementalUpdate=function(t,e,r){var i;this._incremental?(i=new Zl,this._incremental.addDisplayable(i,!0)):((i=new Zl({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!!this._incremental,r)},We._setCommon=function(t,e,r,i){var a=e.hostModel;i=i||{};var n=e.getVisual("symbolSize");t.setShape("size",n instanceof Array?n:[n,n]),t.softClipShape=i.clipShape||null,t.symbolProxy=Yn(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<4;t.useStyle(a.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("color");s&&t.setColor(s),r||(t.seriesIndex=a.seriesIndex,t.on("mousemove",function(l){t.dataIndex=null;var u=t.findDataIndex(l.offsetX,l.offsetY);u>=0&&(t.dataIndex=u+(t.startIndex||0))}))},We.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},We._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};const fx=vd;function dd(t){return{seriesType:t,plan:dl(),reset:function(e){var r=e.getData(),i=e.coordinateSystem,n=e.pipelineContext.large;if(i){var o=E(i.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),s=o.length,l=r.getCalculationInfo("stackResultDimension");return $i(r,o[0])&&(o[0]=l),$i(r,o[1])&&(o[1]=l),s&&{progress:function(h,f){for(var v=n&&new Float32Array((h.end-h.start)*s),d=h.start,p=0,g=[],_=[];d<h.end;d++){var m;if(1===s){var y=f.get(o[0],d);m=!isNaN(y)&&i.dataToPoint(y,null,_)}else{y=g[0]=f.get(o[0],d);var x=g[1]=f.get(o[1],d);m=!isNaN(y)&&!isNaN(x)&&i.dataToPoint(g,null,_)}n?(v[p++]=m?m[0]:NaN,v[p++]=m?m[1]:NaN):f.setItemLayout(d,m&&m.slice()||[NaN,NaN])}n&&f.setLayout("symbolPoints",v)}}}}}}function mt(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}El({type:"scatter",render:function(t,e,r){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},incrementalPrepareRender:function(t,e,r){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(t,e,r){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,r){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var a=dd().reset(t);a.progress&&a.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(t){var e=t.coordinateSystem,r=e&&e.getArea&&e.getArea();return t.get("clip",!0)?r:null},_updateSymbolDraw:function(t,e){var r=this._symbolDraw,a=e.pipelineContext.large;return(!r||a!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=a?new fx:new hx,this._isLargeDraw=a,this.group.removeAll()),this.group.add(r.group),r},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),mt.prototype.parse=function(t){return t},mt.prototype.getSetting=function(t){return this._setting[t]},mt.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},mt.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},mt.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},mt.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},mt.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},mt.prototype.getExtent=function(){return this._extent.slice()},mt.prototype.setExtent=function(t,e){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(e)||(r[1]=e)},mt.prototype.isBlank=function(){return this._isBlank},mt.prototype.setBlank=function(t){this._isBlank=t},mt.prototype.getLabel=null,yi(mt),Fa(mt,{registerWhenExtend:!0});const lr=mt;function qn(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}qn.createByAxisModel=function(t){var e=t.option,r=e.data,i=r&&E(r,vx);return new qn({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})};var gd=qn.prototype;function pd(t){return t._map||(t._map=W(t.categories))}function vx(t){return z(t)&&null!=t.value?t.value:t+""}gd.getOrdinal=function(t){return pd(this).get(t)},gd.parseAndCollect=function(t){var e,r=this._needCollect;if("string"!=typeof t&&!r)return t;if(r&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var i=pd(this);return null==(e=i.get(t))&&(r?(this.categories[e=this.categories.length]=t,i.set(t,e)):e=NaN),e};const _d=qn;var Ul=lr.prototype,Yl=lr.extend({type:"ordinal",init:function(t,e){(!t||O(t))&&(t=new _d({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),Ul.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return Ul.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(Ul.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,r=e[0];r<=e[1];)t.push(r),r++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:be,niceExtent:be});Yl.create=function(){return new Yl};const dx=Yl;var md=ut;function yd(t){return Us(t)+2}function xd(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function wd(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),xd(t,0,e),xd(t,1,e),t[0]>t[1]&&(t[0]=t[1])}var Xr=ut,Kn=lr.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(e)||(r[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),Kn.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=yd(t)},getTicks:function(t){var e=this._interval,r=this._extent,i=this._niceExtent,a=this._intervalPrecision,n=[];if(!e)return n;r[0]<i[0]&&n.push(t?Xr(i[0]-e,a):r[0]);for(var s=i[0];s<=i[1]&&(n.push(s),(s=Xr(s+e,a))!==n[n.length-1]);)if(n.length>1e4)return[];var l=n.length?n[n.length-1]:i[1];return r[1]>l&&n.push(t?Xr(l+e,a):r[1]),n},getMinorTicks:function(t){for(var e=this.getTicks(!0),r=[],i=this.getExtent(),a=1;a<e.length;a++){for(var o=e[a-1],s=0,l=[],h=(e[a]-o)/t;s<t-1;){var f=ut(o+(s+1)*h);f>i[0]&&f<i[1]&&l.push(f),s++}r.push(l)}return r},getLabel:function(t,e){if(null==t)return"";var r=e&&e.precision;return null==r?r=Us(t)||0:"auto"===r&&(r=this._intervalPrecision),dn(t=Xr(t,r,!0))},niceTicks:function(t,e,r){t=t||5;var i=this._extent,a=i[1]-i[0];if(isFinite(a)){a<0&&(a=-a,i.reverse());var n=function(t,e,r,i){var a={},o=a.interval=kc((t[1]-t[0])/e,!0);null!=r&&o<r&&(o=a.interval=r),null!=i&&o>i&&(o=a.interval=i);var s=a.intervalPrecision=yd(o);return wd(a.niceTickExtent=[md(Math.ceil(t[0]/o)*o,s),md(Math.floor(t[1]/o)*o,s)],t),a}(i,t,e,r);this._intervalPrecision=n.intervalPrecision,this._interval=n.interval,this._niceExtent=n.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var r=e[0];t.fixMax||(e[1]+=r/2),e[0]-=r/2}else e[1]=1;isFinite(e[1]-e[0])||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=Xr(Math.floor(e[0]/a)*a)),t.fixMax||(e[1]=Xr(Math.ceil(e[1]/a)*a))}});Kn.create=function(){return new Kn};const qr=Kn;var ql="undefined"!=typeof Float32Array?Float32Array:Array;function Kl(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Ql(t){return t.dim+t.index}function Sd(t,e){var r=[];return e.eachSeriesByType(t,function(i){Td(i)&&!Ad(i)&&r.push(i)}),r}function $l(t){var e=function(t){var e={};S(t,function(l){var h=l.coordinateSystem.getBaseAxis();if("time"===h.type||"value"===h.type)for(var f=l.getData(),c=h.dim+"_"+h.index,v=f.mapDimension(h.dim),d=0,p=f.count();d<p;++d){var g=f.get(v,d);e[c]?e[c].push(g):e[c]=[g]}});var r=[];for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];if(a){a.sort(function(l,u){return l-u});for(var n=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(n=null===n?s:Math.min(n,s))}r[i]=n}}return r}(t),r=[];return S(t,function(i){var s,n=i.coordinateSystem.getBaseAxis(),o=n.getExtent();if("category"===n.type)s=n.getBandWidth();else if("value"===n.type||"time"===n.type){var u=e[n.dim+"_"+n.index],h=Math.abs(o[1]-o[0]),f=n.scale.getExtent(),c=Math.abs(f[1]-f[0]);s=u?h/c*u:h}else{var v=i.getData();s=Math.abs(o[1]-o[0])/v.count()}var d=et(i.get("barWidth"),s),p=et(i.get("barMaxWidth"),s),g=et(i.get("barMinWidth")||1,s),_=i.get("barGap"),m=i.get("barCategoryGap");r.push({bandWidth:s,barWidth:d,barMaxWidth:p,barMinWidth:g,barGap:_,barCategoryGap:m,axisKey:Ql(n),stackId:Kl(i)})}),function(t){var e={};S(t,function(i,a){var n=i.axisKey,o=i.bandWidth,s=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},l=s.stacks;e[n]=s;var u=i.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=i.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var f=i.barMaxWidth;f&&(l[u].maxWidth=f);var c=i.barMinWidth;c&&(l[u].minWidth=c);var v=i.barGap;null!=v&&(s.gap=v);var d=i.barCategoryGap;null!=d&&(s.categoryGap=d)});var r={};return S(e,function(i,a){r[a]={};var n=i.stacks,o=i.bandWidth,s=et(i.categoryGap,o),l=et(i.gap,1),u=i.remainedWidth,h=i.autoWidthCount,f=(u-s)/(h+(h-1)*l);f=Math.max(f,0),S(n,function(p){var g=p.maxWidth,_=p.minWidth;if(p.width){var m=p.width;g&&(m=Math.min(m,g)),_&&(m=Math.max(m,_)),p.width=m,u-=m+l*m,h--}else m=f,g&&g<m&&(m=Math.min(g,u)),_&&_>m&&(m=_),m!==f&&(p.width=m,u-=m+l*m,h--)}),f=(u-s)/(h+(h-1)*l),f=Math.max(f,0);var v,c=0;S(n,function(p,g){p.width||(p.width=f),v=p,c+=p.width*(1+l)}),v&&(c-=v.width*l);var d=-c/2;S(n,function(p,g){r[a][g]=r[a][g]||{bandWidth:o,offset:d,width:p.width},d+=p.width*(1+l)})}),r}(r)}function Md(t,e,r){if(t&&e){var i=t[Ql(e)];return null!=i&&null!=r&&(i=i[Kl(r)]),i}}var mx={seriesType:"bar",plan:dl(),reset:function(t){if(Td(t)&&Ad(t)){var e=t.getData(),r=t.coordinateSystem,i=r.grid.getRect(),a=r.getBaseAxis(),n=r.getOtherAxis(a),o=e.mapDimension(n.dim),s=e.mapDimension(a.dim),l=n.isHorizontal(),u=l?0:1,h=Md($l([t]),a,t).width;return h>.5||(h=.5),{progress:function(c,v){for(var m,d=c.count,p=new ql(2*d),g=new ql(2*d),_=new ql(d),y=[],x=[],w=0,C=0;null!=(m=c.next());)x[u]=v.get(o,m),x[1-u]=v.get(s,m),y=r.dataToPoint(x,null,y),g[w]=l?i.x+i.width:y[0],p[w++]=y[0],g[w]=l?y[1]:i.y+i.height,p[w++]=y[1],_[C++]=m;v.setLayout({largePoints:p,largeDataIndices:_,largeBackgroundPoints:g,barWidth:h,valueAxisStart:Dd(0,n),backgroundStart:l?i.x:i.y,valueAxisHorizontal:l})}}}}};function Td(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Ad(t){return t.pipelineContext&&t.pipelineContext.large}function Dd(t,e,r){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var yx=qr.prototype,Ld=Math.ceil,Id=Math.floor,Qr=6e4,Ji=60*Qr,X=24*Ji,Jl=qr.extend({type:"time",getLabel:function(t){var e=this._stepLvl,r=new Date(t);return Nc(e[0],r,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=X,e[1]+=X),e[1]===-1/0&&e[0]===1/0){var r=new Date;e[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),e[0]=e[1]-X}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=ut(Id(e[0]/i)*i)),t.fixMax||(e[1]=ut(Ld(e[1]/i)*i))},niceTicks:function(t,e,r){var i=this._extent,a=i[1]-i[0],n=a/(t=t||10);null!=e&&n<e&&(n=e),null!=r&&n>r&&(n=r);var o=jl.length,s=function(t,e,r,i){for(;r<i;){var a=r+i>>>1;t[a][1]<e?r=a+1:i=a}return r}(jl,n,0,o),l=jl[Math.min(s,o-1)],u=l[1];"year"===l[0]&&(u*=kc(a/u/t,!0));var c=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,v=[Math.round(Ld((i[0]-c)/u)*u+c),Math.round(Id((i[1]-c)/u)*u+c)];wd(v,i),this._stepLvl=l,this._interval=u,this._niceExtent=v},parse:function(t){return+Ys(t)}});S(["contain","normalize"],function(t){Jl.prototype[t]=function(e){return yx[t].call(this,this.parse(e))}});var jl=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",Qr],["hh:mm\nMM-dd",5*Qr],["hh:mm\nMM-dd",10*Qr],["hh:mm\nMM-dd",15*Qr],["hh:mm\nMM-dd",30*Qr],["hh:mm\nMM-dd",Ji],["hh:mm\nMM-dd",2*Ji],["hh:mm\nMM-dd",6*Ji],["hh:mm\nMM-dd",12*Ji],["MM-dd\nyyyy",X],["MM-dd\nyyyy",2*X],["MM-dd\nyyyy",3*X],["MM-dd\nyyyy",4*X],["MM-dd\nyyyy",5*X],["MM-dd\nyyyy",6*X],["week",7*X],["MM-dd\nyyyy",10*X],["week",14*X],["week",21*X],["month",31*X],["week",42*X],["month",62*X],["week",70*X],["quarter",95*X],["month",31*X*4],["month",31*X*5],["half-year",380*X/2],["month",31*X*8],["month",31*X*10],["year",380*X]];Jl.create=function(t){return new Jl({useUTC:t.ecModel.get("useUTC")})};var Qn=lr.prototype,ji=qr.prototype,bx=Us,Sx=ut,Cx=Math.floor,Mx=Math.ceil,$n=Math.pow,fe=Math.log,tu=lr.extend({type:"log",base:10,$constructor:function(){lr.apply(this,arguments),this._originalScale=new qr},getTicks:function(t){var e=this._originalScale,r=this._extent,i=e.getExtent();return E(ji.getTicks.call(this,t),function(a){var n=ut($n(this.base,a));return n=a===r[0]&&e.__fixMin?Jn(n,i[0]):n,a===r[1]&&e.__fixMax?Jn(n,i[1]):n},this)},getMinorTicks:ji.getMinorTicks,getLabel:ji.getLabel,scale:function(t){return t=Qn.scale.call(this,t),$n(this.base,t)},setExtent:function(t,e){var r=this.base;t=fe(t)/fe(r),e=fe(e)/fe(r),ji.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=Qn.getExtent.call(this);e[0]=$n(t,e[0]),e[1]=$n(t,e[1]);var r=this._originalScale,i=r.getExtent();return r.__fixMin&&(e[0]=Jn(e[0],i[0])),r.__fixMax&&(e[1]=Jn(e[1],i[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=fe(t[0])/fe(e),t[1]=fe(t[1])/fe(e),Qn.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,r=e[1]-e[0];if(!(r===1/0||r<=0)){var i=function(t){return Math.pow(10,Ec(t))}(r);for(t/r*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var n=[ut(Mx(e[0]/i)*i),ut(Cx(e[1]/i)*i)];this._interval=i,this._niceExtent=n}},niceExtent:function(t){ji.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function Jn(t,e){return Sx(t,bx(e))}function Pd(t,e){var r=function(t,e){var o,s,l,r=t.type,i=e.getMin(),a=e.getMax(),n=t.getExtent();"ordinal"===r?o=e.getCategories().length:(O(s=e.get("boundaryGap"))||(s=[s||0,s||0]),"boolean"==typeof s[0]&&(R&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),s=[0,0]),s[0]=et(s[0],1),s[1]=et(s[1],1),l=n[1]-n[0]||Math.abs(n[0])),"dataMin"===i?i=n[0]:"function"==typeof i&&(i=i({min:n[0],max:n[1]})),"dataMax"===a?a=n[1]:"function"==typeof a&&(a=a({min:n[0],max:n[1]}));var u=null!=i,h=null!=a;null==i&&(i="ordinal"===r?o?0:NaN:n[0]-s[0]*l),null==a&&(a="ordinal"===r?o?o-1:NaN:n[1]+s[1]*l),(null==i||!isFinite(i))&&(i=NaN),(null==a||!isFinite(a))&&(a=NaN),t.setBlank(ua(i)||ua(a)||"ordinal"===r&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(i>0&&a>0&&!u&&(i=0),i<0&&a<0&&!h&&(a=0));var f=e.ecModel;if(f&&"time"===r){var v,c=Sd("bar",f);if(S(c,function(g){v|=g.getBaseAxis()===e.axis}),v){var d=$l(c),p=function(t,e,r,i){var a=r.axis.getExtent(),n=a[1]-a[0],o=Md(i,r.axis);if(void 0===o)return{min:t,max:e};var s=1/0;S(o,function(v){s=Math.min(v.offset,s)});var l=-1/0;S(o,function(v){l=Math.max(v.offset+v.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/n)-h;return{min:t-=c*(s/u),max:e+=c*(l/u)}}(i,a,e,d);i=p.min,a=p.max}}return{extent:[i,a],fixMin:u,fixMax:h}}(t,e),i=r.extent,a=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var n=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:"interval"===n||"time"===n?e.get("minInterval"):null,maxInterval:"interval"===n||"time"===n?e.get("maxInterval"):null});var o=e.get("interval");null!=o&&t.setInterval&&t.setInterval(o)}function ta(t){var e=t.getLabelModel().get("formatter"),r="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?(e=function(i){return function(a){return a=t.scale.getLabel(a),i.replace("{value}",null!=a?a:"")}}(e),e):"function"==typeof e?function(i,a){return null!=r&&(a=i-r),e(eu(t,i),a)}:function(i){return t.scale.getLabel(i)}}function eu(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Px(t,e){var r=e*Math.PI/180,i=t.plain(),a=i.width,n=i.height,o=a*Math.abs(Math.cos(r))+Math.abs(n*Math.sin(r)),s=a*Math.abs(Math.sin(r))+Math.abs(n*Math.cos(r));return new gt(i.x,i.y,o,s)}function ru(t){var e=t.get("interval");return null==e?"auto":e}function Rd(t){return"category"===t.type&&0===ru(t.getLabelModel())}function Rx(t){return this._axes[t]}S(["contain","normalize"],function(t){tu.prototype[t]=function(e){return e=fe(e)/fe(this.base),Qn[t].call(this,e)}}),tu.create=function(){return new tu};var iu=function(t){this._axes={},this._dimList=[],this.name=t||""};iu.prototype={constructor:iu,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return E(this._dimList,Rx,this)},getAxesByScale:function(t){return t=t.toLowerCase(),re(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var r=this._dimList,i=t instanceof Array?[]:{},a=0;a<r.length;a++){var n=r[a];i[n]=this._axes[n][e](t[n])}return i}};const Od=iu;function jn(t){Od.call(this,t)}jn.prototype={constructor:jn,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),r=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,r){var i=this.getAxis("x"),a=this.getAxis("y");return(r=r||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),r[1]=a.toGlobalCoord(a.dataToCoord(t[1])),r},clampData:function(t,e){var r=this.getAxis("x").scale,i=this.getAxis("y").scale,a=r.getExtent(),n=i.getExtent(),o=r.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1])),e[1]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),e},pointToData:function(t,e){var r=this.getAxis("x"),i=this.getAxis("y");return(e=e||[])[0]=r.coordToData(r.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),a=Math.max(t[0],t[1])-r,n=Math.max(e[0],e[1])-i;return new gt(r,i,a,n)}},xt(jn,Od);const Ed=jn;var ea=Xt();function kd(t,e){var n,o,r=Bd(t,"labels"),i=ru(e);return zd(r,i)||(wt(i)?n=Vd(t,i):(o="auto"===i?function(t){var e=ea(t).autoInterval;return null!=e?e:ea(t).autoInterval=t.calculateCategoryInterval()}(t):i,n=Fd(t,o)),Nd(r,i,{labels:n,labelCategoryInterval:o}))}function Bd(t,e){return ea(t)[e]||(ea(t)[e]=[])}function zd(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function Nd(t,e,r){return t.push({key:e,value:r}),r}function Fd(t,e,r){var i=ta(t),a=t.scale,n=a.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=n[0],h=a.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=Rd(t),c=o.get("showMinLabel")||f,v=o.get("showMaxLabel")||f;c&&u!==n[0]&&p(n[0]);for(var d=u;d<=n[1];d+=l)p(d);function p(g){s.push(r?g:{formattedLabel:i(g),rawLabel:a.getLabel(g),tickValue:g})}return v&&d-l!==n[1]&&p(n[1]),s}function Vd(t,e,r){var i=t.scale,a=ta(t),n=[];return S(i.getTicks(),function(o){var s=i.getLabel(o);e(o,s)&&n.push(r?o:{formattedLabel:a(o),rawLabel:s,tickValue:o})}),n}var Hd=[0,1],au=function(t,e,r){this.dim=t,this.scale=e,this._extent=r||[0,0],this.inverse=!1,this.onBand=!1};function Wd(t,e){var a=(t[1]-t[0])/e/2;t[0]+=a,t[1]-=a}au.prototype={constructor:au,contain:function(t){var e=this._extent,r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=r&&t<=i},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Rc(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var r=this._extent;r[0]=t,r[1]=e},dataToCoord:function(t,e){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&Wd(r=r.slice(),i.count()),ke(t,Hd,r,e)},coordToData:function(t,e){var r=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&Wd(r=r.slice(),i.count());var a=ke(t,r,Hd,e);return this.scale.scale(a)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),a=E(function(t,e){return"category"===t.type?function(t,e){var n,o,r=Bd(t,"ticks"),i=ru(e),a=zd(r,i);if(a)return a;if((!e.get("show")||t.scale.isBlank())&&(n=[]),wt(i))n=Vd(t,i,!0);else if("auto"===i){var s=kd(t,t.getLabelModel());o=s.labelCategoryInterval,n=E(s.labels,function(l){return l.tickValue})}else n=Fd(t,o=i,!0);return Nd(r,i,{ticks:n,tickCategoryInterval:o})}(t,e):{ticks:t.scale.getTicks()}}(this,e).ticks,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this);return function(t,e,r,i){var a=e.length;if(t.onBand&&!r&&a){var o,n=t.getExtent();if(1===a)e[0].coord=n[0],o=e[1]={coord:n[0]};else{var u=(e[a-1].coord-e[0].coord)/(e[a-1].tickValue-e[0].tickValue);S(e,function(v){v.coord-=u/2});var h=t.scale.getExtent();e.push(o={coord:e[a-1].coord+u*(1+h[1]-e[a-1].tickValue)})}var f=n[0]>n[1];c(e[0].coord,n[0])&&(i?e[0].coord=n[0]:e.shift()),i&&c(n[0],e[0].coord)&&e.unshift({coord:n[0]}),c(n[1],o.coord)&&(i?o.coord=n[1]:e.pop()),i&&c(o.coord,n[1])&&e.push({coord:n[1]})}function c(v,d){return v=ut(v),d=ut(d),f?v>d:v<d}}(this,a,e.get("alignWithLabel"),t.clamp),a},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&e<100||(e=5);var i=E(this.scale.getMinorTicks(e),function(a){return E(a,function(n){return{coord:this.dataToCoord(n),tickValue:n}},this)},this);return i},getViewLabels:function(){return function(t){return"category"===t.type?function(t){var e=t.getLabelModel(),r=kd(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}(t):function(t){var e=t.scale.getTicks(),r=ta(t);return{labels:E(e,function(i,a){return{formattedLabel:r(i,a),rawLabel:t.scale.getLabel(i),tickValue:i}})}}(t)}(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);0===r&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),r=ta(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,a=t.scale,n=a.getExtent(),o=a.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(u*Math.cos(i)),f=Math.abs(u*Math.sin(i)),c=0,v=0;l<=n[1];l+=s){var p,g=Da(r(l),e.font,"center","top");p=1.3*g.height,c=Math.max(c,1.3*g.width,7),v=Math.max(v,p,7)}var _=c/h,m=v/f;isNaN(_)&&(_=1/0),isNaN(m)&&(m=1/0);var y=Math.max(0,Math.floor(Math.min(_,m))),x=ea(t.model),w=t.getExtent(),C=x.lastAutoInterval,b=x.lastTickCount;return null!=C&&null!=b&&Math.abs(C-y)<=1&&Math.abs(b-o)<=1&&C>y&&x.axisExtend0===w[0]&&x.axisExtend1===w[1]?y=C:(x.lastTickCount=o,x.lastAutoInterval=y,x.axisExtend0=w[0],x.axisExtend1=w[1]),y}(this)}};const Gd=au;var to=function(t,e,r,i,a){Gd.call(this,t,e,r),this.type=i||"value",this.position=a||"bottom"};to.prototype={constructor:to,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},xt(to,Gd);const Wx=to;var Zd={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},ur={};ur.categoryAxis=F({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Zd),ur.valueAxis=F({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Zd),ur.timeAxis=Y({scale:!0,min:"dataMin",max:"dataMax"},ur.valueAxis),ur.logAxis=Y({scale:!0,logBase:10},ur.valueAxis);const Gx=ur;var Zx=["value","category","time","log"];function Ud(t,e,r,i){S(Zx,function(a){e.extend({type:t+"Axis."+a,mergeDefaultAndTheme:function(n,o){var s=this.layoutMode,l=s?_n(n):{};F(n,o.getTheme().get(a+"Axis")),F(n,this.getDefaultOption()),n.type=r(t,n),s&&Ii(n,l,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=_d.createByAxisModel(this))},getCategories:function(n){var o=this.option;if("category"===o.type)return n?o.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:Lp([{},Gx[a+"Axis"],i],!0)})}),rt.registerSubTypeDefaulter(t+"Axis",nt(r,t))}const Ux={getMin:function(t){var e=this.option,r=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=r&&"dataMin"!==r&&"function"!=typeof r&&!ua(r)&&(r=this.axis.scale.parse(r)),r},getMax:function(t){var e=this.option,r=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=r&&"dataMax"!==r&&"function"!=typeof r&&!ua(r)&&(r=this.axis.scale.parse(r)),r},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:be,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var $r=rt.extend({type:"cartesian2dAxis",axis:null,init:function(){$r.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){$r.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){$r.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function Yd(t,e){return e.type||(e.data?"category":"value")}F($r.prototype,Ux);var Xd={offset:0};function nu(t,e,r){return t.getCoordSysModel()===e}function Jr(t,e,r){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,r),this.model=t}Ud("x",$r,Yd,Xd),Ud("y",$r,Yd,Xd),rt.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ct=Jr.prototype;function qd(t,e,r,i){r.getAxesOnZeroOf=function(){return n?[n]:[]};var n,a=t[e],o=r.model,s=o.get("axisLine.onZero"),l=o.get("axisLine.onZeroAxisIndex");if(s){if(null!=l)Kd(a[l])&&(n=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Kd(a[u])&&!i[h(a[u])]){n=a[u];break}n&&(i[h(n)]=!0)}function h(f){return f.dim+"_"+f.index}}function Kd(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var e=t.scale.getExtent(),r=e[0],i=e[1];return!(r>0&&i>0||r<0&&i<0)}(t)}ct.type="grid",ct.axisPointerEnabled=!0,ct.getRect=function(){return this._rect},ct.update=function(t,e){var r=this._axesMap;this._updateScale(t,this.model),S(r.x,function(a){Pd(a.scale,a.model)}),S(r.y,function(a){Pd(a.scale,a.model)});var i={};S(r.x,function(a){qd(r,"y",a,i)}),S(r.y,function(a){qd(r,"x",a,i)}),this.resize(this.model,e)},ct.resize=function(t,e,r){var i=pn(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var a=this._axesList;function n(){S(a,function(o){var s=o.isHorizontal(),l=s?[0,i.width]:[0,i.height],u=o.inverse?1:0;o.setExtent(l[u],l[1-u]),function(t,e){var r=t.getExtent(),i=r[0]+r[1];t.toGlobalCoord="x"===t.dim?function(a){return a+e}:function(a){return i-a+e},t.toLocalCoord="x"===t.dim?function(a){return a-e}:function(a){return i-a+e}}(o,s?i.x:i.y)})}n(),!r&&t.get("containLabel")&&(S(a,function(o){if(!o.model.get("axisLabel.inside")){var s=function(t){var r=t.scale;if(t.model.get("axisLabel.show")&&!r.isBlank()){var a,n,i="category"===t.type,o=r.getExtent();n=i?r.count():(a=r.getTicks()).length;var u,s=t.getLabelModel(),l=ta(t),h=1;n>40&&(h=Math.ceil(n/40));for(var f=0;f<n;f+=h){var v=l(a?a[f]:o[0]+f),p=Px(s.getTextRect(v),s.get("rotate")||0);u?u.union(p):u=p}return u}}(o);if(s){var l=o.isHorizontal()?"height":"width",u=o.model.get("axisLabel.margin");i[l]-=s[l]+u,"top"===o.position?i.y+=s.height+u:"left"===o.position&&(i.x+=s.width+u)}}}),n())},ct.getAxis=function(t,e){var r=this._axesMap[t];if(null!=r){if(null==e)for(var i in r)if(r.hasOwnProperty(i))return r[i];return r[e]}},ct.getAxes=function(){return this._axesList.slice()},ct.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];z(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===e)return a[i]},ct.getCartesians=function(){return this._coordsList.slice()},ct.convertToPixel=function(t,e,r){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},ct.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},ct._findConvertTarget=function(t,e){var s,l,r=e.seriesModel,i=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],n=e.gridModel;return r?G(this._coordsList,s=r.coordinateSystem)<0&&(s=null):i&&a?s=this.getCartesian(i.componentIndex,a.componentIndex):i?l=this.getAxis("x",i.componentIndex):a?l=this.getAxis("y",a.componentIndex):n&&n.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:l}},ct.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},ct._initCartesian=function(t,e,r){var i={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},n={x:0,y:0};if(e.eachComponent("xAxis",o("x"),this),e.eachComponent("yAxis",o("y"),this),!n.x||!n.y)return this._axesMap={},void(this._axesList=[]);function o(s){return function(l,u){if(nu(l,t)){var h=l.get("position");"x"===s?"top"!==h&&"bottom"!==h&&(h=i.bottom?"top":"bottom"):"left"!==h&&"right"!==h&&(h=i.left?"right":"left"),i[h]=!0;var f=new Wx(s,function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new dx(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new qr;default:return(lr.getClass(e)||qr).create(t)}}(l),[0,0],l.get("type"),h);f.onBand="category"===f.type&&l.get("boundaryGap"),f.inverse=l.get("inverse"),l.axis=f,f.model=l,f.grid=this,f.index=u,this._axesList.push(f),a[s][u]=f,n[s]++}}}this._axesMap=a,S(a.x,function(s,l){S(a.y,function(u,h){var f="x"+l+"y"+h,c=new Ed(f);c.grid=this,c.model=t,this._coordsMap[f]=c,this._coordsList.push(c),c.addAxis(s),c.addAxis(u)},this)},this)},ct._updateScale=function(t,e){function r(i,a,n){S(i.mapDimension(a.dim,!0),function(o){a.scale.unionExtentFromData(i,sd(i,o))})}S(this._axesList,function(i){i.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(i){if($d(i)){var a=Qd(i),n=a[0],o=a[1];if(!nu(n,e)||!nu(o,e))return;var s=this.getCartesian(n.componentIndex,o.componentIndex),l=i.getData(),u=s.getAxis("x"),h=s.getAxis("y");"list"===l.type&&(r(l,u),r(l,h))}},this)},ct.getTooltipAxes=function(t){var e=[],r=[];return S(this.getCartesians(),function(i){var a=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),n=i.getOtherAxis(a);G(e,a)<0&&e.push(a),G(r,n)<0&&r.push(n)}),{baseAxes:e,otherAxes:r}};var Xx=["xAxis","yAxis"];function Qd(t,e){return E(Xx,function(r){var i=t.getReferringComponents(r)[0];if(R&&!i)throw new Error(r+' "'+Ft(t.get(r+"Index"),t.get(r+"Id"),0)+'" not found');return i})}function $d(t){return"cartesian2d"===t.get("coordinateSystem")}Jr.create=function(t,e){var r=[];return t.eachComponent("grid",function(i,a){var n=new Jr(i,t,e);n.name="grid_"+a,n.resize(i,e,!0),i.coordinateSystem=n,r.push(n)}),t.eachSeries(function(i){if($d(i)){var a=Qd(i),n=a[0],o=a[1],s=n.getCoordSysModel();if(R){if(!s)throw new Error('Grid "'+Ft(n.get("gridIndex"),n.get("gridId"),0)+'" not found');if(n.getCoordSysModel()!==o.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}i.coordinateSystem=s.coordinateSystem.getCartesian(n.componentIndex,o.componentIndex)}}),r},Jr.dimensions=Jr.prototype.dimensions=Ed.prototype.dimensions,ki.register("cartesian2d",Jr);var Ge=Math.PI,jr=function(t,e){this.opt=e,this.axisModel=t,Y(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Z;var r=new Z({position:e.position.slice(),rotation:e.rotation});r.updateTransform(),this._transform=r.transform,this._dumbGroup=r};jr.prototype={constructor:jr,hasBuilder:function(t){return!!Jd[t]},add:function(t){Jd[t].call(this)},getGroup:function(){return this.group}};var Jd={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var r=this.axisModel.axis.getExtent(),i=this._transform,a=[r[0],0],n=[r[1],0];i&&(Ht(a,a,i),Ht(n,n,i));var o=V({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new pe({anid:"line",subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:n[0],y2:n[1]},style:o,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var s=e.get("axisLine.symbol"),l=e.get("axisLine.symbolSize"),u=e.get("axisLine.symbolOffset")||0;if("number"==typeof u&&(u=[u,u]),null!=s){"string"==typeof s&&(s=[s,s]),("string"==typeof l||"number"==typeof l)&&(l=[l,l]);var h=l[0],f=l[1];S([{rotate:t.rotation+Math.PI/2,offset:u[0],r:0},{rotate:t.rotation-Math.PI/2,offset:u[1],r:Math.sqrt((a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1]))}],function(c,v){if("none"!==s[v]&&null!=s[v]){var d=Yn(s[v],-h/2,-f/2,h,f,o.stroke,!0),p=c.r+c.offset,g=[a[0]+p*Math.cos(t.rotation),a[1]-p*Math.sin(t.rotation)];d.attr({rotation:c.rotate,position:g,silent:!0,z2:11}),this.group.add(d)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,r=function(t,e,r){var i=e.axis,a=e.getModel("axisTick");if(a.get("show")&&!i.scale.isBlank()){for(var n=a.getModel("lineStyle"),o=r.tickDirection*a.get("length"),l=ag(i.getTicksCoords(),t._transform,o,Y(n.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<l.length;u++)t.group.add(l[u]);return l}}(this,t,e),i=function(t,e,r){var i=e.axis;if(Ft(r.axisLabelShow,e.get("axisLabel.show"))&&!i.scale.isBlank()){var n=e.getModel("axisLabel"),o=n.get("margin"),s=i.getViewLabels(),l=(Ft(r.labelRotate,n.get("rotate"))||0)*Ge/180,u=tg(r.rotation,l,r.labelDirection),h=e.getCategories&&e.getCategories(!0),f=[],c=eg(e),v=e.get("triggerEvent");return S(s,function(d,p){var g=d.tickValue,_=d.formattedLabel,m=d.rawLabel,y=n;h&&h[g]&&h[g].textStyle&&(y=new Qt(h[g].textStyle,n,e.ecModel));var x=y.getTextColor()||e.get("axisLine.lineStyle.color"),w=i.dataToCoord(g),b=new tr({anid:"label_"+g,position:[w,r.labelOffset+r.labelDirection*o],rotation:u.rotation,silent:c,z2:10});ir(b.style,y,{text:_,textAlign:y.getShallow("align",!0)||u.textAlign,textVerticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||u.textVerticalAlign,textFill:"function"==typeof x?x("category"===i.type?m:"value"===i.type?g+"":g,p):x}),v&&(b.eventData=jd(e),b.eventData.targetType="axisLabel",b.eventData.value=m),t._dumbGroup.add(b),b.updateTransform(),f.push(b),t.group.add(b),b.decomposeTransform()}),f}}(this,t,e);(function(t,e,r){if(!Rd(t.axis)){var i=t.get("axisLabel.showMinLabel"),a=t.get("axisLabel.showMaxLabel"),n=(e=e||[])[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=(r=r||[])[0],h=r[1],f=r[r.length-1],c=r[r.length-2];!1===i?(Nt(n),Nt(u)):rg(n,o)&&(i?(Nt(o),Nt(h)):(Nt(n),Nt(u))),!1===a?(Nt(s),Nt(f)):rg(l,s)&&(a?(Nt(l),Nt(c)):(Nt(s),Nt(f)))}})(t,i,r),function(t,e,r){var i=e.axis,a=e.getModel("minorTick");if(a.get("show")&&!i.scale.isBlank()){var n=i.getMinorTicksCoords();if(n.length)for(var o=a.getModel("lineStyle"),s=r.tickDirection*a.get("length"),l=Y(o.getLineStyle(),Y(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),u=0;u<n.length;u++)for(var h=ag(n[u],t._transform,s,l,"minorticks_"+u),f=0;f<h.length;f++)t.group.add(h[f])}}(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,r=Ft(t.axisName,e.get("name"));if(r){var h,c,i=e.get("nameLocation"),a=t.nameDirection,n=e.getModel("nameTextStyle"),o=e.get("nameGap")||0,s=this.axisModel.axis.getExtent(),l=s[0]>s[1]?-1:1,u=["start"===i?s[0]-l*o:"end"===i?s[1]+l*o:(s[0]+s[1])/2,ig(i)?t.labelOffset+a*o:0],f=e.get("nameRotate");null!=f&&(f=f*Ge/180),ig(i)?h=tg(t.rotation,null!=f?f:t.rotation,a):(h=function(t,e,r,i){var n,o,a=Oc(r-t.rotation),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return vn(a-Ge/2)?(o=l?"bottom":"top",n="center"):vn(a-1.5*Ge)?(o=l?"top":"bottom",n="center"):(o="middle",n=a<1.5*Ge&&a>Ge/2?l?"left":"right":l?"right":"left"),{rotation:a,textAlign:n,textVerticalAlign:o}}(t,i,f||0,s),null!=(c=t.axisNameAvailableWidth)&&(c=Math.abs(c/Math.sin(h.rotation)),!isFinite(c)&&(c=null)));var v=n.getFont(),d=e.get("nameTruncate",!0)||{},p=d.ellipsis,g=Ft(t.nameTruncateMaxWidth,d.maxWidth,c),_=null!=p&&null!=g?Sm(r,g,v,p,{minChar:2,placeholder:d.placeholder}):r,m=e.get("tooltip",!0),y=e.mainType,x={componentType:y,name:r,$vars:["name"]};x[y+"Index"]=e.componentIndex;var w=new tr({anid:"name",__fullText:r,__truncatedText:_,position:u,rotation:h.rotation,silent:eg(e),z2:1,tooltip:m&&m.show?V({content:r,formatter:function(){return r},formatterParams:x},m):null});ir(w.style,n,{text:_,textFont:v,textFill:n.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:n.get("align")||h.textAlign,textVerticalAlign:n.get("verticalAlign")||h.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=jd(e),w.eventData.targetType="axisName",w.eventData.name=r),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},jd=jr.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},tg=jr.innerTextLayout=function(t,e,r){var a,n,i=Oc(e-t);return vn(i)?(n=r>0?"top":"bottom",a="center"):vn(i-Ge)?(n=r>0?"bottom":"top",a="center"):(n="middle",a=i>0&&i<Ge?r>0?"right":"left":r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:n}},eg=jr.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function Nt(t){t&&(t.ignore=!0)}function rg(t,e,r){var i=t&&t.getBoundingRect().clone(),a=e&&e.getBoundingRect().clone();if(i&&a){var n=ca([]);return da(n,n,-t.rotation),i.applyTransform(Sr([],n,t.getLocalTransform())),a.applyTransform(Sr([],n,e.getLocalTransform())),i.intersect(a)}}function ig(t){return"middle"===t||"center"===t}function ag(t,e,r,i,a){for(var n=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=r,e&&(Ht(o,o,e),Ht(s,s,e));var h=new pe({anid:a+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,silent:!0});n.push(h)}return n}const ng=jr;var ti=S,ou=nt;function su(t,e){return"all"===t||O(t)&&G(t,e)>=0||t===e}function aw(t){var e=lu(t);if(e){var r=e.axisPointerModel,i=e.axis.scale,a=r.option,n=r.get("status"),o=r.get("value");null!=o&&(o=i.parse(o));var s=uu(r);null==n&&(a.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function lu(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ra(t)]}function uu(t){return!!t.get("handle.show")}function ra(t){return t.type+"||"+t.id}var hr=Zr({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,r,i){this.axisPointerClass&&aw(t),hr.superApply(this,"render",arguments),og(this,t,0,r,0,!0)},updateAxisPointer:function(t,e,r,i,a){og(this,t,0,r,0,!1)},remove:function(t,e){var r=this._axisPointer;r&&r.remove(e),hr.superApply(this,"remove",arguments)},dispose:function(t,e){sg(this,e),hr.superApply(this,"dispose",arguments)}});function og(t,e,r,i,a,n){var o=hr.getAxisPointerClass(t.axisPointerClass);if(o){var s=function(t){var e=lu(t);return e&&e.axisPointerModel}(e);s?(t._axisPointer||(t._axisPointer=new o)).render(e,s,i,n):sg(t,i)}}function sg(t,e,r){var i=t._axisPointer;i&&i.dispose(e,r),t._axisPointer=null}var hu=[];hr.registerAxisPointerClass=function(t,e){if(R&&hu[t])throw new Error("axisPointer "+t+" exists");hu[t]=e},hr.getAxisPointerClass=function(t){return t&&hu[t]};const lg=hr;function fu(t,e,r){r=r||{};var i=t.coordinateSystem,a=e.axis,n={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,h=i.getRect(),f=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},v=e.get("offset")||0,d="x"===u?[f[2]-v,f[3]+v]:[f[0]-v,f[1]+v];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[c.onZero]=Math.max(Math.min(p,d[1]),d[0])}n.position=["y"===u?d[c[l]]:f[0],"x"===u?d[c[l]]:f[3]],n.rotation=Math.PI/2*("x"===u?0:1),n.labelDirection=n.tickDirection=n.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],n.labelOffset=o?d[c[s]]-d[c.onZero]:0,e.get("axisTick.inside")&&(n.tickDirection=-n.tickDirection),Ft(r.labelInside,e.get("axisLabel.inside"))&&(n.labelDirection=-n.labelDirection);var _=e.get("axisLabel.rotate");return n.labelRotate="top"===l?-_:_,n.z2=1,n}var lw=["axisLine","axisTickLabel","axisName"],uw=["splitArea","splitLine","minorSplitLine"],cu=lg.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,r,i){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Z,this.group.add(this._axisGroup),t.get("show")){var n=t.getCoordSysModel(),o=fu(n,t),s=new ng(t,o);S(lw,s.add,s),this._axisGroup.add(s.getGroup()),S(uw,function(l){t.get(l+".show")&&this["_"+l](t,n)},this),Tc(a,this._axisGroup,t),cu.superCall(this,"render",t,e,r,i)}},remove:function(){!function(t){t.__splitAreaColors=null}(this)},_splitLine:function(t,e){var r=t.axis;if(!r.scale.isBlank()){var i=t.getModel("splitLine"),a=i.getModel("lineStyle"),n=a.get("color");n=O(n)?n:[n];for(var o=e.coordinateSystem.getRect(),s=r.isHorizontal(),l=0,u=r.getTicksCoords({tickModel:i}),h=[],f=[],c=a.getLineStyle(),v=0;v<u.length;v++){var d=r.toGlobalCoord(u[v].coord);s?(h[0]=d,h[1]=o.y,f[0]=d,f[1]=o.y+o.height):(h[0]=o.x,h[1]=d,f[0]=o.x+o.width,f[1]=d);var p=l++%n.length;this._axisGroup.add(new pe({anid:null!=u[v].tickValue?"line_"+u[v].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:Y({stroke:n[p]},c),silent:!0}))}}},_minorSplitLine:function(t,e){var r=t.axis,a=t.getModel("minorSplitLine").getModel("lineStyle"),n=e.coordinateSystem.getRect(),o=r.isHorizontal(),s=r.getMinorTicksCoords();if(s.length)for(var l=[],u=[],h=a.getLineStyle(),f=0;f<s.length;f++)for(var c=0;c<s[f].length;c++){var v=r.toGlobalCoord(s[f][c].coord);o?(l[0]=v,l[1]=n.y,u[0]=v,u[1]=n.y+n.height):(l[0]=n.x,l[1]=v,u[0]=n.x+n.width,u[1]=v),this._axisGroup.add(new pe({anid:"minor_line_"+s[f][c].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:h,silent:!0}))}},_splitArea:function(t,e){!function(t,e,r,i){var a=r.axis;if(!a.scale.isBlank()){var n=r.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=i.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var h=s.length,f=t.__splitAreaColors,c=W(),v=0;if(f)for(var d=0;d<u.length;d++){var p=f.get(u[d].tickValue);if(null!=p){v=(p+(h-1)*d)%h;break}}var g=a.toGlobalCoord(u[0].coord),_=o.getAreaStyle();for(s=O(s)?s:[s],d=1;d<u.length;d++){var y,x,w,C,m=a.toGlobalCoord(u[d].coord);a.isHorizontal()?(x=l.y,C=l.height,g=(y=g)+(w=m-y)):(y=l.x,w=l.width,g=(x=g)+(C=m-x));var b=u[d-1].tickValue;null!=b&&c.set(b,v),e.add(new it({anid:null!=b?"area_"+b:null,shape:{x:y,y:x,width:w,height:C},style:Y({fill:s[v]},_),silent:!0})),v=(v+1)%h}t.__splitAreaColors=c}}}(this,this._axisGroup,t,e)}});function ug(t,e){"outside"===t.textPosition&&(t.textPosition=e)}cu.extend({type:"xAxis"}),cu.extend({type:"yAxis"}),Zr({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new it({shape:t.coordinateSystem.getRect(),style:Y({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Ui(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),Fn({seriesType:"scatter",performRawSeries:!0,reset:function(i,a,n){var o=i.getData(),s=i.get("symbol"),l=i.get("symbolSize"),u=i.get("symbolKeepAspect"),h=i.get("symbolRotate"),f=wt(s),c=wt(l),v=wt(h),d=f||c||v,p=!f&&s?s:"circle";if(o.setVisual({legendSymbol:p,symbol:p,symbolSize:c?null:l,symbolKeepAspect:u,symbolRotate:h}),!a.isSeriesFiltered(i))return{dataEach:o.hasItemOption||d?function(y,x){if(d){var w=i.getRawValue(x),C=i.getDataParams(x);f&&y.setItemVisual(x,"symbol",s(w,C)),c&&y.setItemVisual(x,"symbolSize",l(w,C)),v&&y.setItemVisual(x,"symbolRotate",h(w,C))}if(y.hasItemOption){var b=y.getItemModel(x),M=b.getShallow("symbol",!0),T=b.getShallow("symbolSize",!0),D=b.getShallow("symbolRotate",!0),A=b.getShallow("symbolKeepAspect",!0);null!=M&&y.setItemVisual(x,"symbol",M),null!=T&&y.setItemVisual(x,"symbolSize",T),null!=D&&y.setItemVisual(x,"symbolRotate",D),null!=A&&y.setItemVisual(x,"symbolKeepAspect",A)}}:null}}}),Nn(dd("scatter")),cl.extend({type:"series.__base_bar__",getInitialData:function(t,e){return ld(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var r=e.dataToPoint(e.clampData(t)),i=this.getData(),a=i.getLayout("offset"),n=i.getLayout("size");return r[e.getBaseAxis().isHorizontal()?0:1]+=a+n/2,r}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var fw=Va([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);const cw={getBarItemStyle:function(t){var e=fw(this,t);if(this.getBorderLineDash){var r=this.getBorderLineDash();r&&(e.lineDash=r)}return e}};const pw=_e({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var r=e.cx,i=e.cy,a=Math.max(e.r0||0,0),n=Math.max(e.r,0),o=.5*(n-a),s=a+o,l=e.startAngle,u=e.endAngle,h=e.clockwise,f=Math.cos(l),c=Math.sin(l),v=Math.cos(u),d=Math.sin(u);(h?u-l<2*Math.PI:l-u<2*Math.PI)&&(t.moveTo(f*a+r,c*a+i),t.arc(f*s+r,c*s+i,o,-Math.PI+l,l,!h)),t.arc(r,i,n,l,u,!h),t.moveTo(v*n+r,d*n+i),t.arc(v*s+r,d*s+i,o,u-2*Math.PI,u-Math.PI,!h),0!==a&&(t.arc(r,i,a,u,l,h),t.moveTo(f*a+r,d*a+i)),t.closePath()}});var _w=["itemStyle","barBorderWidth"],eo=[0,0];V(Qt.prototype,cw),El({type:"bar",render:function(t,e,r){this._updateDrawMode(t);var i=t.get("coordinateSystem");return"cartesian2d"===i||"polar"===i?this._isLargeDraw?this._renderLarge(t,e,r):this._renderNormal(t,e,r):R&&console.warn("Only cartesian2d and polar supported for bar."),this.group},incrementalPrepareRender:function(t,e,r){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,r,i){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,r){var l,i=this.group,a=t.getData(),n=this._data,o=t.coordinateSystem,s=o.getBaseAxis();"cartesian2d"===o.type?l=s.isHorizontal():"polar"===o.type&&(l="angle"===s.dim);var u=t.isAnimationEnabled()?t:null,h=t.get("clip",!0),f=function(t,e){var r=t.getArea&&t.getArea();if("cartesian2d"===t.type){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var a=e.getLayout("bandWidth");i.isHorizontal()?(r.x-=a,r.width+=2*a):(r.y-=a,r.height+=2*a)}}return r}(o,a);i.removeClipPath();var c=t.get("roundCap",!0),v=t.get("showBackground",!0),d=t.getModel("backgroundStyle"),p=d.get("barBorderRadius")||0,g=[],_=this._backgroundEls||[],m=function(w){var C=ro[o.type](a,w),b=function(t,e,r){return new("polar"===t.type?Si:it)({shape:mg(e,r,t),silent:!0,z2:0})}(o,l,C);return b.useStyle(d.getBarItemStyle()),"cartesian2d"===o.type&&b.setShape("r",p),g[w]=b,b};a.diff(n).add(function(w){var C=a.getItemModel(w),b=ro[o.type](a,w,C);if(v&&m(w),a.hasValue(w)){if(h&&hg[o.type](f,b))return void i.remove(T);var T=fg[o.type](w,b,l,u,!1,c);a.setItemGraphicEl(w,T),i.add(T),dg(T,a,w,C,b,t,0,"polar"===o.type)}}).update(function(w,C){var b=a.getItemModel(w),M=ro[o.type](a,w,b);if(v){var T;0===_.length?T=m(C):((T=_[C]).useStyle(d.getBarItemStyle()),"cartesian2d"===o.type&&T.setShape("r",p),g[w]=T);var D=ro[o.type](a,w);Kt(T,{shape:mg(l,D,o)},u,w)}var P=n.getItemGraphicEl(C);if(a.hasValue(w)){if(h&&hg[o.type](f,M))return void i.remove(P);P?Kt(P,{shape:M},u,w):P=fg[o.type](w,M,l,u,!0,c),a.setItemGraphicEl(w,P),i.add(P),dg(P,a,w,b,M,t,0,"polar"===o.type)}else i.remove(P)}).remove(function(w){var C=n.getItemGraphicEl(w);"cartesian2d"===o.type?C&&cg(w,u,C):C&&vg(w,u,C)}).execute();var y=this._backgroundGroup||(this._backgroundGroup=new Z);y.removeAll();for(var x=0;x<g.length;++x)y.add(g[x]);i.add(y),this._backgroundEls=g,this._data=a},_renderLarge:function(t,e,r){this._clear(),pg(t,this.group);var i=t.get("clip",!0)?function(t,e,r){return t?"polar"===t.type?function(t,e,r){var i=t.getArea(),a=new Si({shape:{cx:ut(t.cx,1),cy:ut(t.cy,1),r0:ut(i.r0,1),r:ut(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&(a.shape.endAngle=i.startAngle,Di(a,{shape:{endAngle:i.endAngle}},r)),a}(t,e,r):"cartesian2d"===t.type?function(t,e,r){var i=t.getArea(),a=t.getBaseAxis().isHorizontal(),n=i.x,o=i.y,s=i.width,l=i.height,u=r.get("lineStyle.width")||2;n-=u/2,o-=u/2,s+=u,l+=u,n=Math.floor(n),s=Math.round(s);var h=new it({shape:{x:n,y:o,width:s,height:l}});return e&&(h.shape[a?"width":"height"]=0,Di(h,{shape:{width:s,height:l}},r)),h}(t,e,r):null:null}(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),pg(e,this.group,!0)},dispose:be,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,r=this._data;t&&t.get("animation")&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(i){"sector"===i.type?vg(i.dataIndex,t,i):cg(i.dataIndex,t,i)})):e.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var vu=Math.max,du=Math.min,hg={cartesian2d:function(t,e){var r=e.width<0?-1:1,i=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var a=vu(e.x,t.x),n=du(e.x+e.width,t.x+t.width),o=vu(e.y,t.y),s=du(e.y+e.height,t.y+t.height);e.x=a,e.y=o,e.width=n-a,e.height=s-o;var l=e.width<0||e.height<0;return r<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),l},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var i=e.r;e.r=e.r0,e.r0=i}i=du(e.r,t.r);var a=vu(e.r0,t.r0);e.r=i,e.r0=a;var n=i-a<0;return r<0&&(i=e.r,e.r=e.r0,e.r0=i),n}},fg={cartesian2d:function(t,e,r,i,a){var n=new it({shape:V({},e),z2:1});if(n.name="item",i){var s=r?"height":"width",l={};n.shape[s]=0,l[s]=e[s],ri[a?"updateProps":"initProps"](n,{shape:l},i,t)}return n},polar:function(t,e,r,i,a,n){var l=new(!r&&n?pw:Si)({shape:Y({clockwise:e.startAngle<e.endAngle},e),z2:1});if(l.name="item",i){var h=r?"r":"endAngle",f={};l.shape[h]=r?0:e.startAngle,f[h]=e[h],ri[a?"updateProps":"initProps"](l,{shape:f},i,t)}return l}};function cg(t,e,r){r.style.text=null,Kt(r,{shape:{width:0}},e,t,function(){r.parent&&r.parent.remove(r)})}function vg(t,e,r){r.style.text=null,Kt(r,{shape:{r:r.shape.r0}},e,t,function(){r.parent&&r.parent.remove(r)})}var ro={cartesian2d:function(t,e,r){var i=t.getItemLayout(e),a=r?function(t,e){var r=t.get(_w)||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}(r,i):0,n=i.width>0?1:-1,o=i.height>0?1:-1;return{x:i.x+n*a/2,y:i.y+o*a/2,width:i.width-n*a,height:i.height-o*a}},polar:function(t,e,r){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function gu(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function dg(t,e,r,i,a,n,o,s){var l=e.getItemVisual(r,"color"),u=e.getItemVisual(r,"opacity"),h=e.getVisual("borderColor"),f=i.getModel("itemStyle"),c=i.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",f.get("barBorderRadius")||0),t.useStyle(Y({stroke:gu(a)?"none":h,fill:gu(a)?"none":l,opacity:u},f.getBarItemStyle()));var v=i.getShallow("cursor");v&&t.attr("cursor",v),s||function(t,e,r,i,a,n,o){Hs(t,e,r.getModel("label"),r.getModel("emphasis.label"),{labelFetcher:a,labelDataIndex:n,defaultText:ud(a.getData(),n),isRectText:!0,autoColor:i}),ug(t),ug(e)}(t.style,c,i,l,n,r),gu(a)&&(c.fill=c.stroke="none"),ln(t,c)}var gg=tt.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var r=e.points,i=this.__startPoint,a=this.__baseDimIdx,n=0;n<r.length;n+=2)i[a]=r[n+a],t.moveTo(i[0],i[1]),t.lineTo(r[n],r[n+1])}});function pg(t,e,r){var i=t.getData(),a=[],n=i.getLayout("valueAxisHorizontal")?1:0;a[1-n]=i.getLayout("valueAxisStart");var o=i.getLayout("largeDataIndices"),s=i.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var h=i.getLayout("largeBackgroundPoints"),f=[];f[1-n]=i.getLayout("backgroundStart");var c=new gg({shape:{points:h},incremental:!!r,__startPoint:f,__baseDimIdx:n,__largeDataIndices:o,__barWidth:s,silent:!0,z2:0});(function(t,e,r){var i=e.get("borderColor")||e.get("color"),a=e.getItemStyle(["color","borderColor"]);t.useStyle(a),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=r.getLayout("barWidth")})(c,l,i),e.add(c)}var v=new gg({shape:{points:i.getLayout("largePoints")},incremental:!!r,__startPoint:a,__baseDimIdx:n,__largeDataIndices:o,__barWidth:s});e.add(v),function(t,e,r){var i=r.getVisual("borderColor")||r.getVisual("color"),a=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(a),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=r.getLayout("barWidth")}(v,t,i),v.seriesIndex=t.seriesIndex,t.get("silent")||(v.on("mousedown",_g),v.on("mousemove",_g))}var _g=ml(function(t){var r=function(t,e,r){var i=t.__baseDimIdx,a=1-i,n=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[a];eo[0]=e,eo[1]=r;for(var u=eo[i],h=eo[1-i],f=u-s,c=u+s,v=0,d=n.length/2;v<d;v++){var p=2*v,g=n[p+i],_=n[p+a];if(g>=f&&g<=c&&(l<=_?h>=l&&h<=_:h>=_&&h<=l))return o[v]}return-1}(this,t.offsetX,t.offsetY);this.dataIndex=r>=0?r:null},30,!1);function mg(t,e,r){var i,a="polar"===r.type;return i=a?r.getArea():r.grid.getRect(),a?{cx:i.cx,cy:i.cy,r0:t?i.r0:e.r0,r:t?i.r:e.r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:t?e.x:i.x,y:t?i.y:e.y,width:t?e.width:i.width,height:t?i.height:e.height}}Nn(In.VISUAL.LAYOUT,nt(function(t,e){var r=Sd(t,e),i=$l(r),a={},n={};S(r,function(o){var s=o.getData(),l=o.coordinateSystem,u=l.getBaseAxis(),h=Kl(o),f=i[Ql(u)][h],c=f.offset,v=f.width,d=l.getOtherAxis(u),p=o.get("barMinHeight")||0;a[h]=a[h]||[],n[h]=n[h]||[],s.setLayout({bandWidth:f.bandWidth,offset:c,size:v});for(var g=s.mapDimension(d.dim),_=s.mapDimension(u.dim),m=$i(s,g),y=d.isHorizontal(),x=Dd(0,d),w=0,C=s.count();w<C;w++){var A,P,L,U,H,b=s.get(g,w),M=s.get(_,w),T=b>=0?"p":"n",D=x;m&&(a[h][M]||(a[h][M]={p:x,n:x}),D=a[h][M][T]),y?(A=D,P=(H=l.dataToPoint([b,M]))[1]+c,L=H[0]-x,U=v,Math.abs(L)<p&&(L=(L<0?-1:1)*p),isNaN(L)||m&&(a[h][M][T]+=L)):(A=(H=l.dataToPoint([M,b]))[0]+c,P=D,L=v,U=H[1]-x,Math.abs(U)<p&&(U=(U<=0?-1:1)*p),isNaN(U)||m&&(a[h][M][T]+=U)),s.setItemLayout(w,{x:A,y:P,width:L,height:U})}},this)},"bar")),Nn(In.VISUAL.PROGRESSIVE_LAYOUT,mx),Fn({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}}),rt.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var Mw=["cartesian2d","polar","singleAxis"],yg=function(t,e){var r=E(t=t.slice(),Fc),i=E(e=(e||[]).slice(),Fc);return function(a,n){S(t,function(o,s){for(var l={name:o,capital:r[s]},u=0;u<e.length;u++)l[e[u]]=o+i[u];a.call(n,l)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);function io(t,e,r,i,a,n){t=t||0;var o=r[1]-r[0];if(null!=a&&(a=ei(a,[0,o])),null!=n&&(n=Math.max(n,null!=a?a:0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=ei(s,[0,o]),a=n=ei(s,[a,n]),i=0}e[0]=ei(e[0],r),e[1]=ei(e[1],r);var l=pu(e,i);e[i]+=t;var u=a||0,h=r.slice();l.sign<0?h[0]+=u:h[1]-=u,e[i]=ei(e[i],h);var f=pu(e,i);return null!=a&&(f.sign!==l.sign||f.span<a)&&(e[1-i]=e[i]+l.sign*a),f=pu(e,i),null!=n&&f.span>n&&(e[1-i]=e[i]+f.sign*n),e}function pu(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function ei(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var fr=S,xg=Pc,_u=function(t,e,r,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=r};function wg(t,e){var r=t.getAxisModel(),i=t._percentWindow,a=t._valueWindow;if(i){var n=Rc(a,[0,500]);n=Math.min(n,20);var o=e||0===i[0]&&100===i[1];r.setRange(o?null:+a[0].toFixed(n),o?null:+a[1].toFixed(n))}}_u.prototype={constructor:_u,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(r){if(function(t){return G(Mw,t)>=0}(r.get("coordinateSystem"))){var i=this._dimName,a=e.queryComponents({mainType:i+"Axis",index:r.get(i+"AxisIndex"),id:r.get(i+"AxisId")})[0];this._axisIndex===(a&&a.componentIndex)&&t.push(r)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a,n,o,t=this._dimName,e=this.ecModel,r=this.getAxisModel();return"x"===t||"y"===t?(n="gridIndex",a="x"===t?"y":"x"):(n="polarIndex",a="angle"===t?"radius":"angle"),e.eachComponent(a+"Axis",function(s){(s.get(n)||0)===(r.get(n)||0)&&(o=s)}),o},getMinMaxSpan:function(){return Q(this._minMaxSpan)},calculateDataWindow:function(t){var l,e=this._dataExtent,i=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),n=[0,100],o=[],s=[];fr(["start","end"],function(f,c){var v=t[f],d=t[f+"Value"];"percent"===a[c]?(null==v&&(v=n[c]),d=i.parse(ke(v,n,e))):(l=!0,v=ke(d=null==d?e[c]:i.parse(d),e,n)),s[c]=d,o[c]=v}),xg(s),xg(o);var u=this._minMaxSpan;function h(f,c,v,d,p){var g=p?"Span":"ValueSpan";io(0,f,v,"all",u["min"+g],u["max"+g]);for(var _=0;_<2;_++)c[_]=ke(f[_],v,d,!0),p&&(c[_]=i.parse(c[_]))}return l?h(s,o,e,n,!1):h(o,s,n,e,!0),{valueWindow:s,percentWindow:o}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,r){var i=[1/0,-1/0];return fr(r,function(a){var n=a.getData();n&&fr(n.mapDimension(e,!0),function(o){var s=n.getApproximateExtent(o);s[0]<i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1])})}),i[1]<i[0]&&(i=[NaN,NaN]),function(t,e){var r=t.getAxisModel(),i=r.getMin(!0),a="category"===r.get("type"),n=a&&r.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?e[0]=i:a&&(e[0]=n>0?0:NaN);var o=r.getMax(!0);null!=o&&"dataMax"!==o&&"function"!=typeof o?e[1]=o:a&&(e[1]=n>0?n-1:NaN),r.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,i),i}(this,this._dimName,e),function(t){var e=t._minMaxSpan={},r=t._dataZoomModel,i=t._dataExtent;fr(["min","max"],function(a){var n=r.get(a+"Span"),o=r.get(a+"ValueSpan");null!=o&&(o=t.getAxisModel().axis.scale.parse(o)),null!=o?n=ke(i[0]+o,i,[0,100],!0):null!=n&&(o=ke(n,[0,100],i,!0)-i[0]),e[a+"Span"]=n,e[a+"ValueSpan"]=o})}(this);var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,wg(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,wg(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var r=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),n=this._valueWindow;"none"!==a&&fr(i,function(s){var l=s.getData(),u=l.mapDimension(r,!0);!u.length||("weakFilter"===a?l.filterSelf(function(h){for(var f,c,v,d=0;d<u.length;d++){var p=l.get(u[d],h),g=!isNaN(p),_=p<n[0],m=p>n[1];if(g&&!_&&!m)return!0;g&&(v=!0),_&&(f=!0),m&&(c=!0)}return v&&f&&c}):fr(u,function(h){if("empty"===a)s.setData(l=l.map(h,function(c){return function(s){return s>=n[0]&&s<=n[1]}(c)?c:NaN}));else{var f={};f[h]=n,l.selectRange(f)}}),fr(u,function(h){l.setApproximateExtent(n,h)}))})}}};const Rw=_u;var cr=S,vr=yg,Ow=Yi({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,r){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=bg(t);this.settledOption=i,this.mergeDefaultAndTheme(t,r),this.doInit(i)},mergeOption:function(t){var e=bg(t);F(this.option,t,!0),F(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;k.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),Sg(this,t);var r=this.settledOption;cr([["start","startValue"],["end","endValue"]],function(i,a){"value"===this._rangePropMode[a]&&(e[i[0]]=r[i[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,r,i,a){var n=this.dependentModels[e.axis][r],o=n.__dzAxisProxy||(n.__dzAxisProxy=new Rw(e.name,r,this,a));t[e.name+"_"+r]=o},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();vr(function(r){var i=r.axisIndex;t[i]=bt(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;vr(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var r=t.orient;return null==r&&e?"orient":e?void 0:(null==r&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),r=this.option,i=this.dependentModels;if(t){var a="vertical"===e?"y":"x";i[a+"Axis"].length?(r[a+"AxisIndex"]=[0],t=!1):cr(i.singleAxis,function(n){t&&n.get("orient",!0)===e&&(r.singleAxisIndex=[n.componentIndex],t=!1)})}t&&vr(function(n){if(t){var o=[],s=this.dependentModels[n.axis];if(s.length&&!o.length)for(var l=0,u=s.length;l<u;l++)"category"===s[l].get("type")&&o.push(l);r[n.axisIndex]=o,o.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(n){this._isSeriesHasAllAxesTypeOf(n,"value")&&vr(function(o){var s=r[o.axisIndex],l=n.get(o.axisIndex),u=n.get(o.axisId),h=n.ecModel.queryComponents({mainType:o.axis,index:l,id:u})[0];if(R&&!h)throw new Error(o.axis+' "'+Ft(l,u,0)+'" not found');G(s,l=h.componentIndex)<0&&s.push(l)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var r=!0;return vr(function(i){var a=t.get(i.axisIndex),n=this.dependentModels[i.axis][a];(!n||n.get("type")!==e)&&(r=!1)},this),r},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return vr(function(e){if(null==t){var r=this.get(e.axisIndex);r.length&&(t=this.dependentModels[e.axis][r[0]])}},this),t},eachTargetAxis:function(t,e){var r=this.ecModel;vr(function(i){cr(this.get(i.axisIndex),function(a){t.call(e,i,a,this,r)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var r=this.getAxisProxy(t,e);return r&&r.getAxisModel()},setRawRange:function(t){var e=this.option,r=this.settledOption;cr([["start","startValue"],["end","endValue"]],function(i){(null!=t[i[0]]||null!=t[i[1]])&&(e[i[0]]=r[i[0]]=t[i[0]],e[i[1]]=r[i[1]]=t[i[1]])},this),Sg(this,t)},setCalculatedRange:function(t){var e=this.option;cr(["start","startValue","end","endValue"],function(r){e[r]=t[r]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var r in e)if(e.hasOwnProperty(r)&&e[r].hostedBy(this))return e[r];for(var r in e)if(e.hasOwnProperty(r)&&!e[r].hostedBy(this))return e[r]},getRangePropMode:function(){return this._rangePropMode.slice()}});function bg(t){var e={};return cr(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}function Sg(t,e){var r=t._rangePropMode,i=t.get("rangeMode");cr([["start","startValue"],["end","endValue"]],function(a,n){var o=null!=e[a[0]],s=null!=e[a[1]];o&&!s?r[n]="percent":!o&&s?r[n]="value":i?r[n]=i[n]:o&&(r[n]="percent")})}const Cg=Ow,Mg=Sn.extend({type:"dataZoom",render:function(t,e,r,i){this.dataZoomModel=t,this.ecModel=e,this.api=r},getTargetCoordInfo:function(){var e=this.ecModel,r={};return this.dataZoomModel.eachTargetAxis(function(a,n){var o=e.getComponent(a.axis,n);if(o){var s=o.getCoordSysModel();s&&function(a,n,o,s){for(var l,u=0;u<o.length;u++)if(o[u].model===a){l=o[u];break}l||o.push(l={model:a,axisModels:[],coordIndex:s}),l.axisModels.push(n)}(s,o,r[s.mainType]||(r[s.mainType]=[]),s.componentIndex)}},this),r}});Cg.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var ao=it,dr=ke,mu=Pc,ye=J,yu=S,ia="horizontal",Ag="vertical",Bw=["line","bar","candlestick","scatter"],wu=Mg.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this.api=e},render:function(t,e,r,i){wu.superApply(this,"render",arguments),yl(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?((!i||"dataZoom"!==i.type||i.from!==this.uid)&&this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){wu.superApply(this,"remove",arguments),mv(this,"_dispatchZoomAction")},dispose:function(){wu.superApply(this,"dispose",arguments),mv(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Z;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,r=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},a=this._orient===ia?{right:i.width-r.x-r.width,top:i.height-30-7,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},n=_n(t.option);S(["right","top","width","height"],function(s){"ph"===n[s]&&(n[s]=a[s])});var o=pn(n,i,t.padding);this._location={x:o.x,y:o.y},this._size=[o.width,o.height],this._orient===Ag&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,r=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),a=i&&i.get("inverse"),n=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;n.attr(r!==ia||a?r===ia&&a?{scale:o?[-1,1]:[-1,-1]}:r!==Ag||a?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([n]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this._size,r=this._displayables.barGroup;r.add(new ao({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),r.add(new ao({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:J(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,r=t.series,i=r.getRawData(),a=r.getShadowDim?r.getShadowDim():t.otherDim;if(null!=a){var n=i.getDataExtent(a),o=.3*(n[1]-n[0]);n=[n[0]-o,n[1]+o];var d,s=[0,e[1]],u=[[e[0],0],[0,0]],h=[],f=e[0]/(i.count()-1),c=0,v=Math.round(i.count()/e[0]);i.each([a],function(g,_){if(v>0&&_%v)c+=f;else{var m=null==g||isNaN(g)||""===g,y=m?0:dr(g,n,s,!0);m&&!d&&_?(u.push([u[u.length-1][0],0]),h.push([h[h.length-1][0],0])):!m&&d&&(u.push([c,0]),h.push([c,0])),u.push([c,y]),h.push([c,y]),c+=f,d=m}});var p=this.dataZoomModel;this._displayables.barGroup.add(new tn({shape:{points:u},style:Y({fill:p.get("dataBackgroundColor")},p.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new en({shape:{points:h},style:p.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var r,i=this.ecModel;return t.eachTargetAxis(function(a,n){S(t.getAxisProxy(a.name,n).getTargetSeriesModels(),function(s){if(!(r||!0!==e&&G(Bw,s.get("type"))<0)){var h,l=i.getComponent(a.axis,n).axis,u=function(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}(a.name),f=s.coordinateSystem;null!=u&&f.getOtherAxis&&(h=f.getOtherAxis(l).inverse),u=s.getData().mapDimension(u),r={thisAxis:l,series:s,thisDim:a.name,otherDim:u,otherAxisInverse:h}}},this)},this),r}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],r=t.handleLabels=[],i=this._displayables.barGroup,a=this._size,n=this.dataZoomModel;i.add(t.filler=new ao({draggable:!0,cursor:Dg(this._orient),drift:ye(this._onDragMove,this,"all"),ondragstart:ye(this._showDataInfo,this,!0),ondragend:ye(this._onDragEnd,this),onmouseover:ye(this._showDataInfo,this,!0),onmouseout:ye(this._showDataInfo,this,!1),style:{fill:n.get("fillerColor"),textPosition:"inside"}})),i.add(new ao({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{stroke:n.get("dataBackgroundColor")||n.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),yu([0,1],function(o){var s=Ws(n.get("handleIcon"),{cursor:Dg(this._orient),draggable:!0,drift:ye(this._onDragMove,this,o),ondragend:ye(this._onDragEnd,this),onmouseover:ye(this._showDataInfo,this,!0),onmouseout:ye(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),l=s.getBoundingRect();this._handleHeight=et(n.get("handleSize"),this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(n.getModel("handleStyle").getItemStyle());var u=n.get("handleColor");null!=u&&(s.style.fill=u),i.add(e[o]=s);var h=n.textStyleModel;this.group.add(r[o]=new tr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[dr(t[0],[0,100],e,!0),dr(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var r=this.dataZoomModel,i=this._handleEnds,a=this._getViewExtent(),n=r.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];io(e,i,a,r.get("zoomLock")?"all":t,null!=n.minSpan?dr(n.minSpan,o,a,!0):null,null!=n.maxSpan?dr(n.maxSpan,o,a,!0):null);var s=this._range,l=this._range=mu([dr(i[0],a,o,!0),dr(i[1],a,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,r=this._handleEnds,i=mu(r.slice()),a=this._size;yu([0,1],function(n){var s=this._handleHeight;e.handles[n].attr({scale:[s/2,s/2],position:[r[n],a[1]/2-s/2]})},this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:a[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e=this.dataZoomModel,r=this._displayables,i=r.handleLabels,a=this._orient,n=["",""];if(e.get("showDetail")){var o=e.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis,l=this._range,u=t?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();n=[this._formatLabel(u[0],s),this._formatLabel(u[1],s)]}}var h=mu(this._handleEnds.slice());function f(c){var v=Cc(r.handles[c].parent,this.group),d=Mc(0===c?"right":"left",v),p=this._handleWidth/2+5,g=Li([h[c]+(0===c?-p:p),this._size[1]/2],v);i[c].setStyle({x:g[0],y:g[1],textVerticalAlign:a===ia?"middle":d,textAlign:a===ia?d:"center",text:n[c]})}f.call(this,0),f.call(this,1)},_formatLabel:function(t,e){var r=this.dataZoomModel,i=r.get("labelFormatter"),a=r.get("labelPrecision");(null==a||"auto"===a)&&(a=e.getPixelPrecision());var n=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(a,20));return wt(i)?i(t,n):j(i)?i.replace("{value}",n):n},_showDataInfo:function(t){var e=this._displayables.handleLabels;e[0].attr("invisible",!(t=this._dragging||t)),e[1].attr("invisible",!t)},_onDragMove:function(t,e,r,i){this._dragging=!0,hi(i.event);var n=Li([e,r],this._displayables.barGroup.getLocalTransform(),!0),o=this._updateInterval(t,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,r=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>e[0]||r[1]<0||r[1]>e[1])){var i=this._handleEnds,n=this._updateInterval("all",r[0]-(i[0]+i[1])/2);this._updateView(),n&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(yu(this.getTargetCoordInfo(),function(i){if(!t&&i.length){var a=i[0].model.coordinateSystem;t=a.getRect&&a.getRect()}}),!t){var e=this.api.getWidth(),r=this.api.getHeight();t={x:.2*e,y:.2*r,width:.6*e,height:.6*r}}return t}});function Dg(t){return"vertical"===t?"ns-resize":"ew-resize"}zn({getTargetSeries:function(t){var e=W();return t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(i,a,n){S(n.getAxisProxy(i.name,a).getTargetSeriesModels(),function(s){e.set(s.uid,s)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(i,a,n){n.getAxisProxy(i.name,a).reset(n,e)}),r.eachTargetAxis(function(i,a,n){n.getAxisProxy(i.name,a).filterData(n,e)})}),t.eachComponent("dataZoom",function(r){var i=r.findRepresentativeAxisProxy(),a=i.getDataPercentWindow(),n=i.getDataValueWindow();r.setCalculatedRange({start:a[0],end:a[1],startValue:n[0],endValue:n[1]})})}}),He("dataZoom",function(t,e){var r=function(t,e,r){return function(o){var l,s={nodes:[],records:{}};if(e(function(h){s.records[h.name]={}}),!o)return s;n(o,s);do{l=!1,t(u)}while(l);function u(h){!function(o,s){return G(s.nodes,o)>=0}(h,s)&&function(o,s){var l=!1;return e(function(u){S(r(o,u)||[],function(h){s.records[u.name][h]&&(l=!0)})}),l}(h,s)&&(n(h,s),l=!0)}return s};function n(o,s){s.nodes.push(o),e(function(l){S(r(o,l)||[],function(u){s.records[l.name][u]=!0})})}}(J(e.eachComponent,e,"dataZoom"),yg,function(a,n){return a.get(n.axisIndex)}),i=[];e.eachComponent({mainType:"dataZoom",query:t},function(a,n){i.push.apply(i,r(a).nodes)}),S(i,function(a,n){a.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})}),Cg.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var Lg="\0_ec_interaction_mutex";function Ig(t,e){return!!function(t){return t[Lg]||(t[Lg]={})}(t)[e]}function Pg(t){this._zr=t,this._opt={};var e=J,r=e(Nw,this),i=e(Fw,this),a=e(Vw,this),n=e(Hw,this),o=e(Ww,this);dt.call(this),this.setPointerChecker=function(s){this.pointerChecker=s},this.enable=function(s,l){this.disable(),this._opt=Y(Q(l)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==s&&(s=!0),(!0===s||"move"===s||"pan"===s)&&(t.on("mousedown",r),t.on("mousemove",i),t.on("mouseup",a)),(!0===s||"scale"===s||"zoom"===s)&&(t.on("mousewheel",n),t.on("pinch",o))},this.disable=function(){t.off("mousedown",r),t.off("mousemove",i),t.off("mouseup",a),t.off("mousewheel",n),t.off("pinch",o)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Nw(t){if(!(uh(t)||t.target&&t.target.draggable)){var e=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,r)&&(this._x=e,this._y=r,this._dragging=!0)}}function Fw(t){if(this._dragging&&no("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Ig(this._zr,"globalPan")){var e=t.offsetX,r=t.offsetY,i=this._x,a=this._y,n=e-i,o=r-a;this._x=e,this._y=r,this._opt.preventDefaultMouseMove&&hi(t.event),Rg(this,"pan","moveOnMouseMove",t,{dx:n,dy:o,oldX:i,oldY:a,newX:e,newY:r})}}function Vw(t){uh(t)||(this._dragging=!1)}function Hw(t){var e=no("zoomOnMouseWheel",t,this._opt),r=no("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,a=Math.abs(i),n=t.offsetX,o=t.offsetY;if(0!==i&&(e||r)){if(e){var s=a>3?1.4:a>1?1.2:1.1;Su(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?s:1/s,originX:n,originY:o})}if(r){var u=Math.abs(i);Su(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(u>3?.4:u>1?.15:.05),originX:n,originY:o})}}}function Ww(t){Ig(this._zr,"globalPan")||Su(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function Su(t,e,r,i,a){t.pointerChecker&&t.pointerChecker(i,a.originX,a.originY)&&(hi(i.event),Rg(t,e,r,i,a))}function Rg(t,e,r,i,a){a.isAvailableBehavior=J(no,null,r,i),t.trigger(e,a)}function no(t,e,r){var i=r[t];return!t||i&&(!j(i)||e.event[i+"Key"])}He({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),at(Pg,dt);const Gw=Pg;var Og="\0_ec_dataZoom_roams";function Zw(t,e){var r=kg(t),i=e.dataZoomId,a=e.coordId;S(r,function(s,l){var u=s.dataZoomInfos;u[i]&&G(e.allCoordIds,a)<0&&(delete u[i],s.count--)}),Bg(r);var n=r[a];n||((n=r[a]={coordId:a,dataZoomInfos:{},count:0}).controller=function(t,e){var r=new Gw(t.getZr());return S(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var n=[];S(e.dataZoomInfos,function(o){if(a.isAvailableBehavior(o.dataZoomModel.option)){var s=(o.getRange||{})[i],l=s&&s(e.controller,a);!o.dataZoomModel.get("disabled",!0)&&l&&n.push({dataZoomId:o.dataZoomId,start:l[0],end:l[1]})}}),n.length&&e.dispatchAction(n)})}),r}(t,n),n.dispatchAction=nt(Xw,t)),!n.dataZoomInfos[i]&&n.count++,n.dataZoomInfos[i]=e;var o=function(t){var e,r="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return S(t,function(n){var o=n.dataZoomModel,s=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");i[r+s]>i[r+e]&&(e=s),a&=o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}(n.dataZoomInfos);n.controller.enable(o.controlType,o.opt),n.controller.setPointerChecker(e.containsPoint),yl(n,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")}function Uw(t,e){var r=kg(t);S(r,function(i){i.controller.dispose();var a=i.dataZoomInfos;a[e]&&(delete a[e],i.count--)}),Bg(r)}function Eg(t){return t.type+"\0_"+t.id}function kg(t){var e=t.getZr();return e[Og]||(e[Og]={})}function Bg(t){S(t,function(e,r){e.count||(e.controller.dispose(),delete t[r])})}function Xw(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var Kw=J,zg=Mg.extend({type:"dataZoom.inside",init:function(t,e){},render:function(t,e,r,i){zg.superApply(this,"render",arguments),this._range=t.getPercentRange(),S(this.getTargetCoordInfo(),function(a,n){var o=E(a,function(s){return Eg(s.model)});S(a,function(s){var l=s.model,u={};S(["pan","zoom","scrollMove"],function(h){u[h]=Kw(Qw[h],this,s,n)},this),Zw(r,{coordId:Eg(l),allCoordIds:o,containsPoint:function(h,f,c){return l.coordinateSystem.containPoint([f,c])},dataZoomId:t.id,dataZoomModel:t,getRange:u})},this)},this)},dispose:function(){Uw(this.api,this.dataZoomModel.id),zg.superApply(this,"dispose",arguments),this._range=null}}),Qw={zoom:function(t,e,r,i){var a=this._range,n=a.slice(),o=t.axisModels[0];if(o){var s=Cu[e](null,[i.originX,i.originY],o,r,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/i.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(io(0,n,[0,100],0,h.minSpan,h.maxSpan),this._range=n,a[0]!==n[0]||a[1]!==n[1])return n}},pan:Ng(function(t,e,r,i,a,n){var o=Cu[i]([n.oldX,n.oldY],[n.newX,n.newY],e,a,r);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:Ng(function(t,e,r,i,a,n){return Cu[i]([0,0],[n.scrollDelta,n.scrollDelta],e,a,r).signal*(t[1]-t[0])*n.scrollDelta})};function Ng(t){return function(e,r,i,a){var n=this._range,o=n.slice(),s=e.axisModels[0];if(s&&(io(t(o,s,e,r,i,a),o,[0,100],"all"),this._range=o,n[0]!==o[0]||n[1]!==o[1]))return o}}var Cu={grid:function(t,e,r,i,a){var n=r.axis,o={},s=a.model.coordinateSystem.getRect();return t=t||[0,0],"x"===n.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(t,e,r,i,a){var n=r.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===r.mainType?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(t,e,r,i,a){var n=r.axis,o=a.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===n.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}},Fg=dn,Mu=$t;function oo(t){Cs(t,"label",["show"])}var Vg=Yi({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,r){if(R&&"marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},isAnimationEnabled:function(){if(k.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,e,r,i){var a=this.constructor,n=this.mainType+"Model";r||e.eachSeries(function(o){var s=o.get(this.mainType,!0),l=o[n];s&&s.data?(l?l._mergeOption(s,e,!0):(i&&oo(s),S(s.data,function(u){u instanceof Array?(oo(u[0]),oo(u[1])):oo(u)}),V(l=new a(s,this,e),{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),l.__hostSeries=o),o[n]=l):o[n]=null},this)},formatTooltip:function(t,e,r,i){var a=this.getData(),n=this.getRawValue(t),o=O(n)?E(n,Fg).join(", "):Fg(n),s=a.getName(t),l=Mu(this.name);return(null!=n||s)&&(l+="html"===i?"<br/>":"\n"),s&&(l+=Mu(s),null!=n&&(l+=" : ")),null!=n&&(l+=Mu(o)),l},getData:function(){return this._data},setData:function(t){this._data=t}});at(Vg,lv),Vg.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var Hg=G;function Tu(t,e,r,i,a,n){var o=[],l=$i(e,i)?e.getCalculationInfo("stackResultDimension"):i,u=Lu(e,l,t),h=e.indicesOfNearest(l,u)[0];o[a]=e.get(r,h),o[n]=e.get(l,h);var f=e.get(i,h),c=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,r=0;Math.round(t*e)/e!==t;)e*=10,r++;return r}(e.get(i,h));return(c=Math.min(c,20))>=0&&(o[n]=+o[n].toFixed(c)),[o,f]}var Au=nt,Du={min:Au(Tu,"min"),max:Au(Tu,"max"),average:Au(Tu,"average")};function Wg(t,e){var r=t.getData(),i=t.coordinateSystem;if(e&&!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(e)&&!O(e.coord)&&i){var a=i.dimensions,n=Gg(e,r,i,t);if((e=Q(e)).type&&Du[e.type]&&n.baseAxis&&n.valueAxis){var o=Hg(a,n.baseAxis.dim),s=Hg(a,n.valueAxis.dim),l=Du[e.type](r,n.baseDataDim,n.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else{for(var u=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],h=0;h<2;h++)Du[u[h]]&&(u[h]=Lu(r,r.mapDimension(a[h]),u[h]));e.coord=u}}return e}function Gg(t,e,r,i){var a={};return null!=t.valueIndex||null!=t.valueDim?(a.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,a.valueAxis=r.getAxis(function(t,e){var r=t.getData(),i=r.dimensions;e=r.getDimension(e);for(var a=0;a<i.length;a++){var n=r.getDimensionInfo(i[a]);if(n.name===e)return n.coordDim}}(i,a.valueDataDim)),a.baseAxis=r.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=i.getBaseAxis(),a.valueAxis=r.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function Zg(t,e){return!(t&&t.containData&&e.coord&&!function(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}(e))||t.containData(e.coord)}function tb(t,e,r,i){return i<2?t.coord&&t.coord[i]:t.value}function Lu(t,e,r){if("average"===r){var i=0,a=0;return t.each(e,function(n,o){isNaN(n)||(i+=n,a++)}),i/a}return"median"===r?t.getMedian(e):t.getDataExtent(e,!0)["max"===r?1:0]}var Ug=pe.prototype,Iu=Os.prototype;function Pu(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}const eb=_e({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[Pu(e)?"_buildPathLine":"_buildPathCurve"](t,e)},_buildPathLine:Ug.buildPath,_buildPathCurve:Iu.buildPath,pointAt:function(t){return this[Pu(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:Ug.pointAt,_pointAtCurve:Iu.pointAt,tangentAt:function(t){var e=this.shape,r=Pu(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return co(r,r)},_tangentAtCurve:Iu.tangentAt});var Ru=["fromSymbol","toSymbol"];function Yg(t){return"_"+t+"Type"}function Xg(t,e,r){var i=e.getItemVisual(r,t);if(i&&"none"!==i){var a=e.getItemVisual(r,"color"),n=e.getItemVisual(r,t+"Size"),o=e.getItemVisual(r,t+"Rotate");O(n)||(n=[n,n]);var s=Yn(i,-n[0]/2,-n[1]/2,n[0],n[1],a);return s.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,s.name=t,s}}function Ou(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var r=e[2];r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}function Eu(t,e,r){Z.call(this),this._createLine(t,e,r)}var Ze=Eu.prototype;Ze.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),i=t.childOfName("label");if(e||r||!i.ignore){for(var a=1,n=this.parent;n;)n.scale&&(a/=n.scale[0]),n=n.parent;var o=t.childOfName("line");if(this.__dirty||o.__dirty){var f,s=o.shape.percent,l=o.pointAt(0),u=o.pointAt(s),h=eh([],u,l);if(co(h,h),e){if(e.attr("position",l),null==(f=e.__specifiedRotation)){var c=o.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0]))}else e.attr("rotation",f);e.attr("scale",[a*s,a*s])}if(r)r.attr("position",u),null==(f=r.__specifiedRotation)?(c=o.tangentAt(1),r.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0]))):r.attr("rotation",f),r.attr("scale",[a*s,a*s]);if(!i.ignore){i.attr("position",u);var v,d,p,g,_=i.__labelDistance,m=_[0]*a,y=_[1]*a,x=s/2,w=[(c=o.tangentAt(x))[1],-c[0]],C=o.pointAt(x);w[1]>0&&(w[0]=-w[0],w[1]=-w[1]);var T,b=c[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var M=-Math.atan2(c[1],c[0]);u[0]<l[0]&&(M=Math.PI+M),i.attr("rotation",M)}switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":T=-y,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":T=y,p="top";break;default:T=0,p="middle"}switch(i.__position){case"end":v=[h[0]*m+u[0],h[1]*y+u[1]],d=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":v=[-h[0]*m+l[0],-h[1]*y+l[1]],d=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":v=[m*b+l[0],l[1]+T],d=c[0]<0?"right":"left",g=[-m*b,-T];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":v=[C[0],C[1]+T],d="center",g=[0,-T];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":v=[-m*b+u[0],u[1]+T],d=c[0]>=0?"right":"left",g=[m*b,-T]}i.attr({style:{textVerticalAlign:i.__verticalAlign||p,textAlign:i.__textAlign||d},position:v,scale:[a,a],origin:g})}}}},Ze._createLine=function(t,e,r){var i=t.hostModel,n=function(t){var e=new eb({name:"line",subPixelOptimize:!0});return Ou(e.shape,t),e}(t.getItemLayout(e));n.shape.percent=0,Di(n,{shape:{percent:1}},i,e),this.add(n);var o=new tr({name:"label",lineLabelOriginalOpacity:1});this.add(o),S(Ru,function(s){var l=Xg(s,t,e);this.add(l),this[Yg(s)]=t.getItemVisual(e,s)},this),this._updateCommonStl(t,e,r)},Ze.updateData=function(t,e,r){var i=t.hostModel,a=this.childOfName("line"),n=t.getItemLayout(e),o={shape:{}};Ou(o.shape,n),Kt(a,o,i,e),S(Ru,function(s){var l=t.getItemVisual(e,s),u=Yg(s);if(this[u]!==l){this.remove(this.childOfName(s));var h=Xg(s,t,e);this.add(h)}this[u]=l},this),this._updateCommonStl(t,e,r)},Ze._updateCommonStl=function(t,e,r){var i=t.hostModel,a=this.childOfName("line"),n=r&&r.lineStyle,o=r&&r.hoverLineStyle,s=r&&r.labelModel,l=r&&r.hoverLabelModel;if(!r||t.hasItemOption){var u=t.getItemModel(e);n=u.getModel("lineStyle").getLineStyle(),o=u.getModel("emphasis.lineStyle").getLineStyle(),s=u.getModel("label"),l=u.getModel("emphasis.label")}var h=t.getItemVisual(e,"color"),f=li(t.getItemVisual(e,"opacity"),n.opacity,1);a.useStyle(Y({strokeNoScale:!0,fill:"none",stroke:h,opacity:f},n)),a.hoverStyle=o,S(Ru,function(C){var b=this.childOfName(C);b&&(b.setColor(h),b.setStyle({opacity:f}))},this);var p,g,c=s.getShallow("show"),v=l.getShallow("show"),d=this.childOfName("label");if((c||v)&&(p=h||"#000",null==(g=i.getFormattedLabel(e,"normal",t.dataType)))){var _=i.getRawValue(e);g=null==_?t.getName(e):isFinite(_)?ut(_):_}var m=c?g:null,y=v?At(i.getFormattedLabel(e,"emphasis",t.dataType),g):null,x=d.style;if(null!=m||null!=y){ir(d.style,s,{text:m},{autoColor:p}),d.__textAlign=x.textAlign,d.__verticalAlign=x.textVerticalAlign,d.__position=s.get("position")||"middle";var w=s.get("distance");O(w)||(w=[w,w]),d.__labelDistance=w}d.hoverStyle=null!=y?{text:y,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},d.ignore=!c&&!v,ln(this)},Ze.highlight=function(){this.trigger("emphasis")},Ze.downplay=function(){this.trigger("normal")},Ze.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},Ze.setLinePoints=function(t){var e=this.childOfName("line");Ou(e.shape,t),e.dirty()},xt(Eu,Z);const ab=Eu;function qg(t){this._ctor=t||ab,this.group=new Z}var gr=qg.prototype;function Kg(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function Qg(t){return isNaN(t[0])||isNaN(t[1])}function ku(t){return!Qg(t[0])&&!Qg(t[1])}gr.isPersistent=function(){return!0},gr.updateData=function(t){var e=this,r=e.group,i=e._lineData;e._lineData=t,i||r.removeAll();var a=Kg(t);t.diff(i).add(function(n){!function(t,e,r,i){if(ku(e.getItemLayout(r))){var n=new t._ctor(e,r,i);e.setItemGraphicEl(r,n),t.group.add(n)}}(e,t,n,a)}).update(function(n,o){!function(t,e,r,i,a,n){var o=e.getItemGraphicEl(i);ku(r.getItemLayout(a))?(o?o.updateData(r,a,n):o=new t._ctor(r,a,n),r.setItemGraphicEl(a,o),t.group.add(o)):t.group.remove(o)}(e,i,t,o,n,a)}).remove(function(n){r.remove(i.getItemGraphicEl(n))}).execute()},gr.updateLayout=function(){var t=this._lineData;!t||t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)},gr.incrementalPrepareUpdate=function(t){this._seriesScope=Kg(t),this._lineData=null,this.group.removeAll()},gr.incrementalUpdate=function(t,e){function r(o){!o.isGroup&&!function(t){return t.animators&&t.animators.length>0}(o)&&(o.incremental=o.useHoverLayer=!0)}for(var i=t.start;i<t.end;i++)if(ku(e.getItemLayout(i))){var n=new this._ctor(e,i,this._seriesScope);n.traverse(r),this.group.add(n),e.setItemGraphicEl(i,n)}},gr.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},gr._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};const lb=qg,ub=Zr({type:"marker",init:function(){this.markerGroupMap=W()},render:function(t,e,r){var i=this.markerGroupMap;i.each(function(n){n.__keep=!1});var a=this.type+"Model";e.eachSeries(function(n){var o=n[a];o&&this.renderSeries(n,o,e,r)},this),i.each(function(n){!n.__keep&&this.group.remove(n.group)},this)},renderSeries:function(){}});var hb=function(t,e,r,i){var a=t.getData(),n=i.type;if(!O(i)&&("min"===n||"max"===n||"average"===n||"median"===n||null!=i.xAxis||null!=i.yAxis)){var o,s;if(null!=i.yAxis||null!=i.xAxis)o=e.getAxis(null!=i.yAxis?"y":"x"),s=Ft(i.yAxis,i.xAxis);else{var l=Gg(i,a,e,t);o=l.valueAxis,s=Lu(a,sd(a,l.valueDataDim),n)}var h="x"===o.dim?0:1,f=1-h,c=Q(i),v={};c.type=null,c.coord=[],v.coord=[],c.coord[f]=-1/0,v.coord[f]=1/0;var d=r.get("precision");d>=0&&"number"==typeof s&&(s=+s.toFixed(Math.min(d,20))),c.coord[h]=v.coord[h]=s,i=[c,v,{type:n,valueIndex:i.valueIndex,value:s}]}return(i=[Wg(t,i[0]),Wg(t,i[1]),V({},i[2])])[2].type=i[2].type||"",F(i[2],i[0]),F(i[2],i[1]),i};function so(t){return!isNaN(t)&&!isFinite(t)}function $g(t,e,r,i){var a=1-t,n=i.dimensions[t];return so(e[a])&&so(r[a])&&e[t]===r[t]&&i.getAxis(n).containData(e[t])}function fb(t,e){if("cartesian2d"===t.type){var r=e[0].coord,i=e[1].coord;if(r&&i&&($g(1,r,i,t)||$g(0,r,i,t)))return!0}return Zg(t,e[0])&&Zg(t,e[1])}function Bu(t,e,r,i,a){var s,n=i.coordinateSystem,o=t.getItemModel(e),l=et(o.get("x"),a.getWidth()),u=et(o.get("y"),a.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)s=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var f=t.get((h=n.dimensions)[0],e),c=t.get(h[1],e);s=n.dataToPoint([f,c])}if("cartesian2d"===n.type){var h,v=n.getAxis("x"),d=n.getAxis("y");so(t.get((h=n.dimensions)[0],e))?s[0]=v.toGlobalCoord(v.getExtent()[r?0:1]):so(t.get(h[1],e))&&(s[1]=d.toGlobalCoord(d.getExtent()[r?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}else s=[l,u];t.setItemLayout(e,s)}ub.extend({type:"markLine",updateTransform:function(t,e,r){e.eachSeries(function(i){var a=i.markLineModel;if(a){var n=a.getData(),o=a.__from,s=a.__to;o.each(function(l){Bu(o,l,!0,i,r),Bu(s,l,!1,i,r)}),n.each(function(l){n.setItemLayout(l,[o.getItemLayout(l),s.getItemLayout(l)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},renderSeries:function(t,e,r,i){var a=t.coordinateSystem,n=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(n)||s.set(n,new lb);this.group.add(l.group);var u=function(t,e,r){var i;i=t?E(t&&t.dimensions,function(u){return Y({name:u},e.getData().getDimensionInfo(e.getData().mapDimension(u))||{})}):[{name:"value",type:"float"}];var a=new Un(i,r),n=new Un(i,r),o=new Un([],r),s=E(r.get("data"),nt(hb,e,t,r));t&&(s=re(s,nt(fb,t)));var l=t?tb:function(u){return u.value};return a.initData(E(s,function(u){return u[0]}),null,l),n.initData(E(s,function(u){return u[1]}),null,l),o.initData(E(s,function(u){return u[2]})),o.hasItemOption=!0,{from:a,to:n,line:o}}(a,t,e),h=u.from,f=u.to,c=u.line;e.__from=h,e.__to=f,e.setData(c);var v=e.get("symbol"),d=e.get("symbolSize");function p(g,_,m){var y=g.getItemModel(_);Bu(g,_,m,t,i),g.setItemVisual(_,{symbolRotate:y.get("symbolRotate"),symbolSize:y.get("symbolSize")||d[m?0:1],symbol:y.get("symbol",!0)||v[m?0:1],color:y.get("itemStyle.color")||o.getVisual("color")})}O(v)||(v=[v,v]),"number"==typeof d&&(d=[d,d]),u.from.each(function(g){p(h,g,!0),p(f,g,!1)}),c.each(function(g){var _=c.getItemModel(g).get("lineStyle.color");c.setItemVisual(g,{color:_||h.getItemVisual(g,"color")}),c.setItemLayout(g,[h.getItemLayout(g),f.getItemLayout(g)]),c.setItemVisual(g,{fromSymbolRotate:h.getItemVisual(g,"symbolRotate"),fromSymbolSize:h.getItemVisual(g,"symbolSize"),fromSymbol:h.getItemVisual(g,"symbol"),toSymbolRotate:f.getItemVisual(g,"symbolRotate"),toSymbolSize:f.getItemVisual(g,"symbolSize"),toSymbol:f.getItemVisual(g,"symbol")})}),l.updateData(c),u.line.eachItemGraphicEl(function(g,_){g.traverse(function(m){m.dataModel=e})}),l.__keep=!0,l.group.silent=e.get("silent")||t.get("silent")}}),Ui(function(t){t.markLine=t.markLine||{}});var pr=Xt(),Jg=Q,zu=J;function aa(){}function jg(t,e,r,i){tp(pr(r).lastProp,i)||(pr(r).lastProp=i,e?Kt(r,i,t):(r.stopAnimation(),r.attr(i)))}function tp(t,e){if(z(t)&&z(e)){var r=!0;return S(e,function(i,a){r=r&&tp(t[a],i)}),!!r}return t===e}function ep(t,e){t[e.get("label.show")?"show":"hide"]()}function Nu(t){return{position:t.position.slice(),rotation:t.rotation||0}}function rp(t,e,r){var i=e.get("z"),a=e.get("zlevel");t&&t.traverse(function(n){"group"!==n.type&&(null!=i&&(n.z=i),null!=a&&(n.zlevel=a),n.silent=r)})}function ip(t,e,r,i,a){t=e.scale.parse(t);var n=e.scale.getLabel(t,{precision:a.precision}),o=a.formatter;if(o){var s={value:eu(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};S(i,function(l){var u=r.getSeriesByIndex(l.seriesIndex),f=u&&u.getDataParams(l.dataIndexInside);f&&s.seriesData.push(f)}),j(o)?n=o.replace("{value}",n):wt(o)&&(n=o(s))}return n}function ap(t,e,r){var i=Ue();return da(i,i,r.rotation),va(i,i,r.position),Li([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],i)}function yb(t,e,r){return{x:t[r=r||0],y:t[1-r],width:e[r],height:e[1-r]}}(aa.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,r,i){var a=e.get("value"),n=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=r,i||this._lastValue!==a||this._lastStatus!==n){this._lastValue=a,this._lastStatus=n;var o=this._group,s=this._handle;if(!n||"hide"===n)return o&&o.hide(),void(s&&s.hide());o&&o.show(),s&&s.show();var l={};this.makeElOption(l,a,t,e,r);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(o){var f=nt(jg,e,h);this.updatePointerEl(o,l,f,e),this.updateLabelEl(o,l,f,e)}else o=this._group=new Z,this.createPointerEl(o,l,t,e),this.createLabelEl(o,l,t,e),r.getZr().add(o);rp(o,e,!0),this._renderHandle(a)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var r=e.get("animation"),i=t.axis,a="category"===i.type,n=e.get("snap");if(!n&&!a)return!1;if("auto"===r||null==r){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(n){var s=lu(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>o}return!1}return!0===r},makeElOption:function(t,e,r,i,a){},createPointerEl:function(t,e,r,i){var a=e.pointer;if(a){var n=pr(t).pointerEl=new ri[a.type](Jg(e.pointer));t.add(n)}},createLabelEl:function(t,e,r,i){if(e.label){var a=pr(t).labelEl=new it(Jg(e.label));t.add(a),ep(a,i)}},updatePointerEl:function(t,e,r){var i=pr(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),r(i,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,r,i){var a=pr(t).labelEl;a&&(a.setStyle(e.label.style),r(a,{shape:e.label.shape,position:e.label.position}),ep(a,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var o,e=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=e.getModel("handle"),n=e.get("status");if(!a.get("show")||!n||"hide"===n)return i&&r.remove(i),void(this._handle=null);this._handle||(o=!0,i=this._handle=Ws(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){hi(u.event)},onmousedown:zu(this._onHandleDragMove,this,0,0),drift:zu(this._onHandleDragMove,this),ondragend:zu(this._onHandleDragEnd,this)}),r.add(i)),rp(i,e,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");O(l)||(l=[l,l]),i.attr("scale",[l[0]/2,l[1]/2]),yl(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},_moveHandleToValue:function(t,e){jg(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Nu(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(Nu(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(Nu(i)),pr(r).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),r=this._group,i=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,r){return{x:t[r=r||0],y:t[1-r],width:e[r],height:e[1-r]}}}).constructor=aa,yi(aa);var xb=aa.extend({makeElOption:function(t,e,r,i,a){var n=r.axis,o=n.grid,s=i.get("type"),l=np(o,n).getOtherAxis(n).getGlobalExtent(),u=n.toGlobalCoord(n.dataToCoord(e,!0));if(s&&"none"!==s){var h=function(t){var i,e=t.get("type"),r=t.getModel(e+"Style");return"line"===e?(i=r.getLineStyle()).fill=null:"shadow"===e&&((i=r.getAreaStyle()).stroke=null),i}(i),f=wb[s](n,u,l);f.style=h,t.graphicKey=f.type,t.pointer=f}!function(t,e,r,i,a,n){var o=ng.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=a.get("label.margin"),function(t,e,r,i,a){var o=ip(r.get("value"),e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get("label.precision"),formatter:r.get("label.formatter")}),s=r.getModel("label"),l=Xs(s.get("padding")||0),u=s.getFont(),h=Da(o,u),f=a.position,c=h.width+l[1]+l[3],v=h.height+l[0]+l[2],d=a.align;"right"===d&&(f[0]-=c),"center"===d&&(f[0]-=c/2);var p=a.verticalAlign;"bottom"===p&&(f[1]-=v),"middle"===p&&(f[1]-=v/2),function(t,e,r,i){var a=i.getWidth(),n=i.getHeight();t[0]=Math.min(t[0]+e,a)-e,t[1]=Math.min(t[1]+r,n)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(f,c,v,i);var g=s.get("backgroundColor");(!g||"auto"===g)&&(g=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:c,height:v,r:s.get("borderRadius")},position:f.slice(),style:{text:o,textFont:u,textFill:s.getTextColor(),textPosition:"inside",textPadding:l,fill:g,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}(e,i,a,n,{position:ap(i.axis,t,r),align:o.textAlign,verticalAlign:o.textVerticalAlign})}(e,t,fu(o.model,r),r,i,a)},getHandleTransform:function(t,e,r){var i=fu(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=r.get("handle.margin"),{position:ap(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,r,i){var a=r.axis,n=a.grid,o=a.getGlobalExtent(!0),s=np(n,a).getOtherAxis(a).getGlobalExtent(),l="x"===a.dim?0:1,u=t.position;u[l]+=e[l],u[l]=Math.min(o[1],u[l]),u[l]=Math.max(o[0],u[l]);var h=(s[1]+s[0])/2,f=[h,h];return f[l]=u[l],{position:u,rotation:t.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}});function np(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var wb={line:function(t,e,r){var i=function(t,e,r){return{x1:t[r=r||0],y1:t[1-r],x2:e[r],y2:e[1-r]}}([e,r[0]],[e,r[1]],op(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,r){var i=Math.max(1,t.getBandWidth());return{type:"Rect",shape:yb([e-i/2,r[0]],[i,r[1]-r[0]],op(t))}}};function op(t){return"x"===t.dim?0:1}function sp(t,e){var a,r=[],i=t.seriesIndex;if(null==i||!(a=e.getSeriesByIndex(i)))return{point:[]};var n=a.getData(),o=Sf(n,t);if(null==o||o<0||O(o))return{point:[]};var s=n.getItemGraphicEl(o),l=a.coordinateSystem;if(a.getTooltipPosition)r=a.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)r=l.dataToPoint(n.getValues(E(l.dimensions,function(h){return n.mapDimension(h)}),o,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),r=[u.x+u.width/2,u.y+u.height/2]}return{point:r,el:s}}lg.registerAxisPointerClass("CartesianAxisPointer",xb);var ce=S,lp=nt,up=Xt();function hp(t,e,r,i,a){var n=t.axis;if(!n.scale.isBlank()&&n.containData(e)){if(!t.involveSeries)return void r.showPointer(t,e);var o=function(t,e){var r=e.axis,i=r.dim,a=t,n=[],o=Number.MAX_VALUE,s=-1;return ce(e.seriesModels,function(l,u){var f,c,h=l.getData().mapDimension(i,!0);if(l.getAxisTooltipData){var v=l.getAxisTooltipData(h,t,r);c=v.dataIndices,f=v.nestestValue}else{if(!(c=l.getData().indicesOfNearest(h[0],t,"category"===r.type?.5:null)).length)return;f=l.getData().get(h[0],c[0])}if(null!=f&&isFinite(f)){var d=t-f,p=Math.abs(d);p<=o&&((p<o||d>=0&&s<0)&&(o=p,s=d,a=f,n.length=0),ce(c,function(g){n.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:n,snapToValue:a}}(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&null==a.seriesIndex&&V(a,s[0]),!i&&t.snap&&n.containData(l)&&null!=l&&(e=l),r.showPointer(t,e,s,a),r.showTooltip(t,o,l)}}function Cb(t,e,r,i){t[e.key]={value:r,payloadBatch:i}}function Mb(t,e,r,i){var a=r.payloadBatch,n=e.axis,o=n.model,s=e.axisPointerModel;if(e.triggerTooltip&&a.length){var l=e.coordSys.model,u=ra(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:n.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:i,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:a.slice()})}}function fp(t){var e=t.axis.model,r={},i=r.axisDim=t.axis.dim;return r.axisIndex=r[i+"AxisIndex"]=e.componentIndex,r.axisName=r[i+"AxisName"]=e.name,r.axisId=r[i+"AxisId"]=e.id,r}function lo(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}Yi({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var xe=Xt(),Ib=S;function cp(t,e,r){if(!k.node){var i=e.getZr();xe(i).records||(xe(i).records={}),function(t,e){function r(i,a){t.on(i,function(n){var o=function(t){var e={showTip:[],hideTip:[]},r=function(i){var a=e[i.type];a?a.push(i):(i.dispatchAction=r,t.dispatchAction(i))};return{dispatchAction:r,pendings:e}}(e);Ib(xe(t).records,function(s){s&&a(s,n,o.dispatchAction)}),function(t,e){var a,r=t.showTip.length,i=t.hideTip.length;r?a=t.showTip[r-1]:i&&(a=t.hideTip[i-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}(o.pendings,e)})}xe(t).initialized||(xe(t).initialized=!0,r("click",nt(vp,"click")),r("mousemove",nt(vp,"mousemove")),r("globalout",Ob))}(i,e),(xe(i).records[t]||(xe(i).records[t]={})).handler=r}}function Ob(t,e,r){t.handler("leave",null,r)}function vp(t,e,r,i){e.handler(t,r,i)}function Fu(t,e){if(!k.node){var r=e.getZr();(xe(r).records||{})[t]&&(xe(r).records[t]=null)}}var dp=Zr({type:"axisPointer",render:function(t,e,r){var i=e.getComponent("tooltip"),a=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";cp("axisPointer",r,function(n,o,s){"none"!==a&&("leave"===n||a.indexOf(n)>=0)&&s({type:"updateAxisPointer",currTrigger:n,x:o&&o.offsetX,y:o&&o.offsetY})})},remove:function(t,e){Fu(e.getZr(),"axisPointer"),dp.superApply(this._model,"remove",arguments)},dispose:function(t,e){Fu("axisPointer",e),dp.superApply(this._model,"dispose",arguments)}});Ui(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!O(e)&&(t.axisPointer.link=[e])}}),zn(In.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,r){var i=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),n=a.get("link",!0)||[],o=[];ti(r.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=ra(s.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var f=s.model.getModel("tooltip",i);if(ti(s.getAxes(),ou(p,!1,null)),s.getTooltipAxes&&i&&f.get("show")){var c="axis"===f.get("trigger"),v="cross"===f.get("axisPointer.type"),d=s.getTooltipAxes(f.get("axisPointer.axis"));(c||v)&&ti(d.baseAxes,ou(p,!v||"cross",c)),v&&ti(d.otherAxes,ou(p,"cross",!1))}}function p(g,_,m){var y=m.model.getModel("axisPointer",a),x=y.get("show");if(x&&("auto"!==x||g||uu(y))){null==_&&(_=y.get("triggerTooltip")),y=g?function(t,e,r,i,a,n){var o=e.getModel("axisPointer"),s={};ti(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(f){s[f]=Q(o.get(f))}),s.snap="category"!==t.type&&!!n,"cross"===o.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===a){var u=o.get("label.show");if(l.show=null==u||u,!n){var h=s.lineStyle=o.get("crossStyle");h&&Y(l,h.textStyle)}}return t.model.getModel("axisPointer",new Qt(s,r,i))}(m,f,a,e,g,_):y;var w=y.get("snap"),C=ra(m.model),b=_||w||"category"===m.type,M=t.axesInfo[C]={key:C,axis:m,coordSys:s,axisPointerModel:y,triggerTooltip:_,involveSeries:b,snap:w,useHandle:uu(y),seriesModels:[]};u[C]=M,t.seriesInvolved|=b;var T=function(t,e){for(var r=e.model,i=e.dim,a=0;a<t.length;a++){var n=t[a]||{};if(su(n[i+"AxisId"],r.id)||su(n[i+"AxisIndex"],r.componentIndex)||su(n[i+"AxisName"],r.name))return a}}(n,m);if(null!=T){var D=o[T]||(o[T]={axesInfo:{}});D.axesInfo[C]=M,D.mapper=n[T].mapper,M.linkGroup=D}}}})}(r,t,e),r.seriesInvolved&&function(t,e){e.eachSeries(function(r){var i=r.coordinateSystem,a=r.get("tooltip.trigger",!0),n=r.get("tooltip.show",!0);!i||"none"===a||!1===a||"item"===a||!1===n||!1===r.get("axisPointer.show",!0)||ti(t.coordSysAxesInfo[ra(i.model)],function(o){var s=o.axis;i.getAxis(s.dim)===s&&(o.seriesModels.push(r),null==o.seriesDataCount&&(o.seriesDataCount=0),o.seriesDataCount+=r.getData().count())})},this)}(r,t),r}(t,e)}),He({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,r){var i=t.currTrigger,a=[t.x,t.y],n=t,o=t.dispatchAction||J(r.dispatchAction,r),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){lo(a)&&(a=sp({seriesIndex:n.seriesIndex,dataIndex:n.dataIndex},e).point);var l=lo(a),u=n.axesInfo,h=s.axesInfo,f="leave"===i||lo(a),c={},v={},d={list:[],map:{}},p={showPointer:lp(Cb,v),showTooltip:lp(Mb,d)};ce(s.coordSysMap,function(_,m){var y=l||_.containPoint(a);ce(s.coordSysAxesInfo[m],function(x,w){var C=x.axis,b=function(t,e){for(var r=0;r<(t||[]).length;r++){var i=t[r];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,x);if(!f&&y&&(!u||b)){var M=b&&b.value;null==M&&!l&&(M=C.pointToData(a)),null!=M&&hp(x,M,p,!1,c)}})});var g={};return ce(h,function(_,m){var y=_.linkGroup;y&&!v[m]&&ce(y.axesInfo,function(x,w){var C=v[w];if(x!==_&&C){var b=C.value;y.mapper&&(b=_.axis.scale.parse(y.mapper(b,fp(x),fp(_)))),g[_.key]=b}})}),ce(g,function(_,m){hp(h[m],_,p,!0,c)}),function(t,e,r){var i=r.axesInfo=[];ce(e,function(a,n){var o=a.axisPointerModel.option,s=t[n];s?(!a.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!a.useHandle&&(o.status="hide"),"show"===o.status&&i.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:o.value})})}(v,h,c),function(t,e,r,i){if(!lo(e)&&t.list.length){var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}else i({type:"hideTip"})}(d,a,t,o),function(t,e,r){var i=r.getZr(),a="axisPointerLastHighlights",n=up(i)[a]||{},o=up(i)[a]={};ce(t,function(u,h){var f=u.axisPointerModel.option;"show"===f.status&&ce(f.seriesDataIndices,function(c){o[c.seriesIndex+" | "+c.dataIndex]=c})});var s=[],l=[];S(n,function(u,h){!o[h]&&l.push(u)}),S(o,function(u,h){!n[h]&&s.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),s.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,batch:s})}(h,0,r),c}}),Yi({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var gp=S,Bb=["","-webkit-","-moz-","-o-"];function pp(t,e,r,i,a){var n=e&&e.painter;if(r){var o=n&&n.getViewportRoot();o&&function(t,e,r,i,a){mo(_o,e,i,a,!0)&&mo(t,r,_o[0],_o[1])}(t,o,document.body,i,a)}else{t[0]=i,t[1]=a;var s=n&&n.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Vu(t,e,r){if(k.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=e.getZr(),n=this._appendToBody=r&&r.appendToBody;this._styleCoord=[0,0,0,0],pp(this._styleCoord,a,n,e.getWidth()/2,e.getHeight()/2),n?document.body.appendChild(i):t.appendChild(i),this._container=t,this._show=!1;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(s){if(s=s||window.event,!o._enterable){var l=a.handler;ae(a.painter.getViewportRoot(),s,!0),l.dispatch("mousemove",s)}},i.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}Vu.prototype={constructor:Vu,_enterable:!0,update:function(t){var e=this._container,r=e.currentStyle||document.defaultView.getComputedStyle(e),i=e.style;"absolute"!==i.position&&"absolute"!==r.position&&(i.position="relative"),t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[3],r=this._styleCoord[2]*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(r,i)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,r=this._styleCoord;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(t){var e=[],r=t.get("transitionDuration"),i=t.get("backgroundColor"),a=t.getModel("textStyle"),n=t.get("padding");return r&&e.push(function(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",r="left "+t+"s "+e+",top "+t+"s "+e;return E(Bb,function(i){return i+"transition:"+r}).join(";")}(r)),i&&(k.canvasSupported?e.push("background-Color:"+i):(e.push("background-Color:#"+function(t){var e=Ce(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}(i)),e.push("filter:alpha(opacity=70)"))),gp(["width","color","radius"],function(o){var s="border-"+o,l=function(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,i){return i.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}(s),u=t.get(l);null!=u&&e.push(s+":"+u+("color"===o?"":"px"))}),e.push(function(t){var e=[],r=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont());var a=t.get("lineHeight");null==a&&(a=Math.round(3*r/2)),r&&e.push("line-height:"+a+"px");var n=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+n),gp(["decoration","align"],function(u){var h=t.get(u);h&&e.push("text-"+u+":"+h)}),e.join(";")}(a)),null!=n&&e.push("padding:"+Xs(n).join("px ")+"px"),e.join(";")+";"}(t)+";left:"+r[0]+"px;top:"+r[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var r=this._styleCoord;pp(r,this._zr,this._appendToBody,t,e);var i=this.el.style;i.left=r[0]+"px",i.top=r[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){this._show&&(!this._inContent||!this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(J(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var r=document.defaultView.getComputedStyle(this.el);r&&(t+=parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10),e+=parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10))}return{width:t,height:e}}};const Hb=Vu;function _p(t,e,r,i){t[0]=r,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Hu(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],_p(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1}Hu.prototype={constructor:Hu,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[3],r=this._styleCoord[2]*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(r,i)},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,r){this.el&&this._zr.remove(this.el);for(var i={},a=t,n="{marker",s=a.indexOf(n);s>=0;){var l=a.indexOf("|}"),u=a.substr(s+n.length,l-s-n.length);i["marker"+u]=u.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[u],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[u]},s=(a=a.substr(l+1)).indexOf("{marker")}var h=r.getModel("textStyle"),f=h.get("fontSize"),c=r.get("textLineHeight");null==c&&(c=Math.round(3*f/2)),this.el=new tr({style:ir({},h,{rich:i,text:t,textBackgroundColor:r.get("backgroundColor"),textBorderRadius:r.get("borderRadius"),textFill:r.get("textStyle.color"),textPadding:r.get("padding"),textLineHeight:c}),z:r.get("z")}),this._zr.add(this.el);var v=this;this.el.on("mouseover",function(){v._enterable&&(clearTimeout(v._hideTimeout),v._show=!0),v._inContent=!0}),this.el.on("mouseout",function(){v._enterable&&v._show&&v.hideLater(v._hideDelay),v._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){if(this.el){var r=this._styleCoord;_p(r,this._zr,t,e),this.el.attr("position",[r[0],r[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){this._show&&(!this._inContent||!this._enterable)&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(J(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};const Wb=Hu;var mp=J,na=S,yp=et,Gb=new it({shape:{x:-1,y:-1,width:2,height:2}});function Wu(t){for(var e=t.pop();t.length;){var r=t.pop();r&&(Qt.isInstance(r)&&(r=r.get("tooltip",!0)),"string"==typeof r&&(r={formatter:r}),e=new Qt(r,e,e.ecModel))}return e}function xp(t,e){return t.dispatchAction||J(e.dispatchAction,e)}function wp(t){return"center"===t||"middle"===t}Zr({type:"tooltip",init:function(t,e){if(!k.node){var a,r=t.getComponent("tooltip"),i=r.get("renderMode");this._renderMode=Mf(i),"html"===this._renderMode?(a=new Hb(e.getDom(),e,{appendToBody:r.get("appendToBody",!0)}),this._newLine="<br/>"):(a=new Wb(e),this._newLine="\n"),this._tooltipContent=a}},render:function(t,e,r){if(!k.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=r,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");cp("itemTooltip",this._api,mp(function(r,i,a){"none"!==e&&(e.indexOf(r)>=0?this._tryShow(i,a):"leave"===r&&this._hide(a))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,r=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&i.manuallyShowTip(t,e,r,{x:i._lastX,y:i._lastY})})}},manuallyShowTip:function(t,e,r,i){if(i.from!==this.uid&&!k.node){var a=xp(i,r);this._ticket="";var n=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var o=Gb;o.position=[i.x,i.y],o.update(),o.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:o},a)}else if(n)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},a);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,r,i))return;var s=sp(i,e),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:i.position,target:s.el},a)}else null!=i.x&&null!=i.y&&(r.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:r.getZr().findHover(i.x,i.y).target},a))}},manuallyHideTip:function(t,e,r,i){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(xp(i,r))},_manuallyAxisShowTip:function(t,e,r,i){var a=i.seriesIndex,n=i.dataIndex,o=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=n&&null!=o){var s=e.getSeriesByIndex(a);if(s&&"axis"===(t=Wu([s.getData().getItemModel(n),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:n,position:i.position}),!0}},_tryShow:function(t,e){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;a&&a.length?this._showAxisTooltip(a,t):r&&null!=r.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,r,e)):r&&r.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,r,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var r=t.get("showDelay");e=J(e,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(e,r):e()},_showAxisTooltip:function(t,e){var r=this._ecModel,a=[e.offsetX,e.offsetY],n=[],o=[],s=Wu([e.tooltipOption,this._tooltipModel]),l=this._renderMode,u=this._newLine,h={};na(t,function(c){na(c.dataByAxis,function(v){var d=r.getComponent(v.axisDim+"Axis",v.axisIndex),p=v.value,g=[];if(d&&null!=p){var _=ip(p,d.axis,r,v.seriesDataIndices,v.valueLabelOpt);S(v.seriesDataIndices,function(y){var x=r.getSeriesByIndex(y.seriesIndex),w=y.dataIndexInside,C=x&&x.getDataParams(w);if(C.axisDim=v.axisDim,C.axisIndex=v.axisIndex,C.axisType=v.axisType,C.axisId=v.axisId,C.axisValue=eu(d.axis,p),C.axisValueLabel=_,C){o.push(C);var M,b=x.formatTooltip(w,!0,null,l);z(b)?(M=b.html,F(h,b.markers)):M=b,g.push(M)}});var m=_;n.push("html"!==l?g.join(u):(m?$t(m)+u:"")+g.join(u))}})},this),n.reverse(),n=n.join(this._newLine+this._newLine);var f=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,f,a[0],a[1],this._tooltipContent,o):this._showTooltipContent(s,n,o,Math.random(),a[0],a[1],f,void 0,h)})},_showSeriesItemTooltip:function(t,e,r){var a=e.seriesIndex,n=this._ecModel.getSeriesByIndex(a),o=e.dataModel||n,s=e.dataIndex,l=e.dataType,u=o.getData(l),h=Wu([u.getItemModel(s),o,n&&(n.coordinateSystem||{}).model,this._tooltipModel]),f=h.get("trigger");if(null==f||"item"===f){var d,p,c=o.getDataParams(s,l),v=o.formatTooltip(s,!1,l,this._renderMode);z(v)?(d=v.html,p=v.markers):(d=v,p=null);var g="item_"+o.name+"_"+s;this._showOrMove(h,function(){this._showTooltipContent(h,d,c,g,t.offsetX,t.offsetY,t.position,t.target,p)}),r({type:"showTip",dataIndexInside:s,dataIndex:u.getRawIndex(s),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(t,e,r){var i=e.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var n=new Qt(i,this._tooltipModel,this._ecModel),o=n.get("content"),s=Math.random();this._showOrMove(n,function(){this._showTooltipContent(n,o,n.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)}),r({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,r,i,a,n,o,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,h=t.get("formatter");o=o||t.get("position");var f=e;if(h&&"string"==typeof h)f=zc(h,r,!0);else if("function"==typeof h){var c=mp(function(v,d){v===this._ticket&&(u.setContent(d,l,t),this._updatePosition(t,o,a,n,u,r,s))},this);this._ticket=i,f=h(r,i,c)}u.setContent(f,l,t),u.show(t),this._updatePosition(t,o,a,n,u,r,s)}},_updatePosition:function(t,e,r,i,a,n,o){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=a.getSize(),h=t.get("align"),f=t.get("verticalAlign"),c=o&&o.getBoundingRect().clone();if(o&&c.applyTransform(o.transform),"function"==typeof e&&(e=e([r,i],n,a.el,c,{viewSize:[s,l],contentSize:u.slice()})),O(e))r=yp(e[0],s),i=yp(e[1],l);else if(z(e)){e.width=u[0],e.height=u[1];var v=pn(e,{width:s,height:l});r=v.x,i=v.y,h=null,f=null}else if("string"==typeof e&&o){var d=function(t,e,r){var i=r[0],a=r[1],o=0,s=0,l=e.width,u=e.height;switch(t){case"inside":o=e.x+l/2-i/2,s=e.y+u/2-a/2;break;case"top":o=e.x+l/2-i/2,s=e.y-a-5;break;case"bottom":o=e.x+l/2-i/2,s=e.y+u+5;break;case"left":o=e.x-i-5,s=e.y+u/2-a/2;break;case"right":o=e.x+l+5,s=e.y+u/2-a/2}return[o,s]}(e,c,u);r=d[0],i=d[1]}else d=function(t,e,r,i,a,n,o){var s=r.getOuterSize(),l=s.width,u=s.height;return null!=n&&(t+l+n>i?t-=l+n:t+=n),null!=o&&(e+u+o>a?e-=u+o:e+=o),[t,e]}(r,i,a,s,l,h?null:20,f?null:20),r=d[0],i=d[1];h&&(r-=wp(h)?u[0]/2:"right"===h?u[0]:0),f&&(i-=wp(f)?u[1]/2:"bottom"===f?u[1]:0),t.get("confine")&&(d=function(t,e,r,i,a){var n=r.getOuterSize(),o=n.width,s=n.height;return t=Math.min(t+o,i)-o,e=Math.min(e+s,a)-s,[t=Math.max(t,0),e=Math.max(e,0)]}(r,i,a,s,l),r=d[0],i=d[1]),a.moveTo(r,i)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,r=!!e&&e.length===t.length;return r&&na(e,function(i,a){var n=i.dataByAxis||{},s=(t[a]||{}).dataByAxis||[];(r&=n.length===s.length)&&na(n,function(l,u){var h=s[u]||{},f=l.seriesDataIndices||[],c=h.seriesDataIndices||[];(r&=l.value===h.value&&l.axisType===h.axisType&&l.axisId===h.axisId&&f.length===c.length)&&na(f,function(v,d){var p=c[d];r&=v.seriesIndex===p.seriesIndex&&v.dataIndex===p.dataIndex})})}),this._lastDataByCoordSys=t,!!r},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){k.node||(this._tooltipContent.dispose(),Fu("itemTooltip",e))}}),He({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),He({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})}}]);